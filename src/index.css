/* stylelint-disable at-rule-no-unknown */
/* postcss-disable at-rule-no-unknown */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* =================================================================
   브라우저 호환성 개선 (Browser Compatibility)
   ================================================================= */
html,
:host {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%; /* Chrome 54+, Edge 79+ 지원 */
}

/* Safari backdrop-filter 지원 */
.backdrop-blur-sm {
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
}

.backdrop-blur {
  -webkit-backdrop-filter: blur(8px);
  backdrop-filter: blur(8px);
}

.backdrop-blur-md {
  -webkit-backdrop-filter: blur(12px);
  backdrop-filter: blur(12px);
}

.backdrop-blur-lg {
  -webkit-backdrop-filter: blur(16px);
  backdrop-filter: blur(16px);
}

/* =================================================================
   유틸리티 레이어 (Utilities Layer) - 그라데이션 및 추가 유틸리티
   ================================================================= */
@layer utilities {
  /* =================================================================
     그라데이션 유틸리티 (누락된 클래스 정의)
     ================================================================= */
  
  /* Primary 그라데이션 */
  .bg-gradient-primary {
    background: linear-gradient(135deg, var(--color-primary-500) 0%, var(--color-primary-600) 100%);
  }
  
  /* Secondary 그라데이션 */
  .bg-gradient-secondary {
    background: linear-gradient(135deg, var(--color-secondary-200) 0%, var(--color-secondary-300) 100%);
  }
  
  /* Dark 그라데이션 */
  .bg-gradient-dark {
    background: linear-gradient(135deg, var(--color-dark-800) 0%, var(--color-dark-900) 100%);
  }
  
  /* Radial 그라데이션 */
  .bg-gradient-radial {
    background: radial-gradient(circle, var(--color-primary-500) 0%, var(--color-primary-600) 100%);
  }
  
  /* Accent 그라데이션 */
  .bg-gradient-accent {
    background: linear-gradient(135deg, var(--color-accent-500) 0%, var(--color-accent-600) 100%);
  }
  
  /* =================================================================
     그림자 유틸리티 (CSS 변수 활용)
     ================================================================= */
  
  .shadow-soft {
    box-shadow: var(--shadow-soft);
  }
  
  .shadow-medium {
    box-shadow: var(--shadow-medium);
  }
  
  .shadow-hard {
    box-shadow: var(--shadow-hard);
  }
  
  .shadow-glow {
    box-shadow: var(--shadow-glow);
  }
  
  .shadow-glow-lg {
    box-shadow: var(--shadow-glow-lg);
  }
  
  /* =================================================================
     포커스 링 유틸리티 (접근성 향상)
     ================================================================= */
  
  .focus-ring-primary {
    @apply focus:ring-4 focus:ring-primary-300 focus:outline-none;
  }
  
  .focus-ring-secondary {
    @apply focus:ring-4 focus:ring-secondary-400 dark:focus:ring-dark-500 focus:outline-none;
  }
  
  .focus-ring-accent {
    @apply focus:ring-4 focus:ring-accent-300 focus:outline-none;
  }
  
  /* =================================================================
     추가 유틸리티 클래스
     ================================================================= */
  
  /* 텍스트 선택 비활성화 */
  .select-none {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
  
  /* 스크롤바 숨기기 */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  /* 아스펙트 비율 유틸리티 */
  .aspect-square {
    aspect-ratio: 1 / 1;
  }
  
  .aspect-video {
    aspect-ratio: 16 / 9;
  }
  
  .aspect-portrait {
    aspect-ratio: 3 / 4;
  }

  /* 슬라이더 스타일 */
  .slider::-webkit-slider-thumb {
    appearance: none;
    height: 20px;
    width: 20px;
    border-radius: 50%;
    background: #3b82f6;
    cursor: pointer;
    border: 2px solid #ffffff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  }

  .slider::-moz-range-thumb {
    height: 20px;
    width: 20px;
    border-radius: 50%;
    background: #3b82f6;
    cursor: pointer;
    border: 2px solid #ffffff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  }

  .dark .slider::-webkit-slider-thumb {
    background: #60a5fa;
    border-color: #1f2937;
  }

  .dark .slider::-moz-range-thumb {
    background: #60a5fa;
    border-color: #1f2937;
  }
}

/* =================================================================
   CSS 변수 정의 (Tailwind 커스텀 색상과 일치)
   ================================================================= */
:root {
  /* =================================================================
     Primary 색상 변수 (메인 브랜드 색상)
     ================================================================= */
  --color-primary-50: #fdf7f0;
  --color-primary-100: #f9e6d3;
  --color-primary-200: #f3cba6;
  --color-primary-300: #eca574;
  --color-primary-400: #e38a4a;
  --color-primary-500: #d97706;
  --color-primary-600: #c65d00;
  --color-primary-700: #a04a00;
  --color-primary-800: #843a00;
  --color-primary-900: #6b2f00;
  
  /* =================================================================
     Secondary 색상 변수 (보조/배경 색상)
     ================================================================= */
  --color-secondary-50: #fefdfb;
  --color-secondary-100: #fdf9f3;
  --color-secondary-200: #faf2e6;
  --color-secondary-300: #f6e6d1;
  --color-secondary-400: #f0d4b8;
  --color-secondary-500: #e8c299;
  --color-secondary-600: #d4a574;
  --color-secondary-700: #b88a5a;
  --color-secondary-800: #9c7048;
  --color-secondary-900: #805a3a;
  
  /* =================================================================
     Dark 색상 변수 (다크 모드 색상)
     ================================================================= */
  --color-dark-50: #f8f9fa;
  --color-dark-100: #e9ecef;
  --color-dark-200: #dee2e6;
  --color-dark-300: #ced4da;
  --color-dark-400: #adb5bd;
  --color-dark-500: #6c757d;
  --color-dark-600: #495057;
  --color-dark-700: #343a40;
  --color-dark-800: #212529;
  --color-dark-900: #1a1d20;
  
  /* =================================================================
     Accent 색상 변수 (강조 색상)
     ================================================================= */
  --color-accent-50: #fffbf0;
  --color-accent-100: #fef3c7;
  --color-accent-200: #fde68a;
  --color-accent-300: #fcd34d;
  --color-accent-400: #fbbf24;
  --color-accent-500: #f59e0b;
  --color-accent-600: #d97706;
  --color-accent-700: #b45309;
  --color-accent-800: #92400e;
  --color-accent-900: #78350f;
  
  /* =================================================================
     스크롤바 색상 변수 (CSS 변수 활용)
     ================================================================= */
  --color-scrollbar-track-light: var(--color-secondary-200);
  --color-scrollbar-track-dark: var(--color-dark-800);
  --color-scrollbar-thumb: var(--color-primary-500);
  --color-scrollbar-thumb-hover: var(--color-primary-600);
  
  /* =================================================================
     포커스 링 색상 변수 (접근성 향상)
     ================================================================= */
  --color-focus-ring-primary: var(--color-primary-300);
  --color-focus-ring-secondary: var(--color-secondary-400);
  --color-focus-ring-secondary-dark: var(--color-dark-500);
  
  /* =================================================================
     그림자 색상 변수
     ================================================================= */
  --shadow-soft: 0 2px 15px -3px rgba(0, 0, 0, 0.07), 0 10px 20px -2px rgba(0, 0, 0, 0.04);
  --shadow-medium: 0 4px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  --shadow-hard: 0 10px 40px -10px rgba(0, 0, 0, 0.2), 0 20px 25px -5px rgba(0, 0, 0, 0.1);
  --shadow-glow: 0 0 20px rgba(217, 119, 6, 0.3);
  --shadow-glow-lg: 0 0 40px rgba(217, 119, 6, 0.4);
}

/* =================================================================
   기본 스타일 (Base Layer)
   ================================================================= */
@layer base {
  html {
    scroll-behavior: smooth;
  }
  
  body {
    font-family: 'Inter', system-ui, sans-serif;
  }
  
  /* 포커스 아웃라인 기본 제거 (컴포넌트에서 개별 정의) */
  *:focus {
    outline: none;
  }
}

/* =================================================================
   컴포넌트 스타일 (Components Layer)
   ================================================================= */
@layer components {
  /* =================================================================
     버튼 컴포넌트 (새로운 색상 시스템 적용)
     ================================================================= */
  
  /* Primary 버튼 - 메인 브랜드 색상 사용 */
  .btn-primary {
    @apply bg-primary-500 hover:bg-primary-600 text-white font-medium py-3 px-6 rounded-xl transition-colors duration-600;
    @apply focus:ring-4 focus:ring-primary-300 focus:outline-none;
    @apply shadow-medium hover:shadow-hard;
  }
  
  /* Secondary 버튼 - 보조 색상 사용 */
  .btn-secondary {
    @apply bg-secondary-200 hover:bg-secondary-300 dark:bg-dark-700 dark:hover:bg-dark-600 text-dark-900 dark:text-secondary-100 font-medium py-3 px-6 rounded-xl transition-colors duration-600;
    @apply focus:ring-4 focus:ring-secondary-400 dark:focus:ring-dark-500 focus:outline-none;
    @apply shadow-soft hover:shadow-medium;
  }
  
  /* Accent 버튼 - 강조 색상 사용 */
  .btn-accent {
    @apply bg-accent-500 hover:bg-accent-600 text-white font-medium py-3 px-6 rounded-xl transition-colors duration-600;
    @apply focus:ring-4 focus:ring-accent-300 focus:outline-none;
    @apply shadow-glow hover:shadow-glow-lg;
  }
  
  /* =================================================================
     카드 컴포넌트 (새로운 색상 시스템 적용)
     ================================================================= */
  
  /* 기본 카드 */
  .card {
    @apply bg-white dark:bg-dark-800 rounded-2xl shadow-soft hover:shadow-medium transition-shadow duration-600 border border-secondary-200 dark:border-dark-700;
  }
  
  /* 강조 카드 */
  .card-accent {
    @apply bg-gradient-primary text-white rounded-2xl shadow-glow hover:shadow-glow-lg transition-shadow duration-600;
  }
  
  /* 다크 카드 */
  .card-dark {
    @apply bg-gradient-dark text-secondary-100 rounded-2xl shadow-hard hover:shadow-glow transition-shadow duration-600;
  }
  
  /* =================================================================
     섹션 패딩 (반응형 최적화)
     ================================================================= */
  
  /* 기본 섹션 패딩 */
  .section-padding {
    @apply py-16 md:py-20 lg:py-24 px-6 lg:px-12;
  }
  
  /* 작은 섹션 패딩 */
  .section-padding-sm {
    @apply py-12 md:py-16 lg:py-20 px-6 lg:px-12;
  }
  
  /* 큰 섹션 패딩 */
  .section-padding-lg {
    @apply py-20 md:py-24 lg:py-32 px-6 lg:px-12;
  }
  
  /* =================================================================
     텍스트 효과 (새로운 색상 시스템 적용)
     ================================================================= */
  
  /* Primary 그라데이션 텍스트 */
  .text-gradient-primary {
    @apply bg-gradient-primary bg-clip-text text-transparent;
  }
  
  /* Secondary 그라데이션 텍스트 */
  .text-gradient-secondary {
    @apply bg-gradient-secondary bg-clip-text text-transparent;
  }
  
  /* 다크 모드 그라데이션 텍스트 */
  .text-gradient-dark {
    @apply dark:from-primary-400 dark:to-primary-600 dark:bg-clip-text dark:text-transparent;
  }
  
  /* =================================================================
     애니메이션 효과 (새로운 지속시간 시스템 적용)
     ================================================================= */
  
  /* 기본 애니메이션 */
  .animate-fade-in {
    @apply animate-fade-in;
  }
  
  .animate-slide-up {
    @apply animate-slide-up;
  }
  
  .animate-scale-in {
    @apply animate-scale-in;
  }
  
  /* 고급 애니메이션 */
  .animate-slide-in-left {
    @apply animate-slide-in-left;
  }
  
  .animate-slide-in-right {
    @apply animate-slide-in-right;
  }
  
  .animate-zoom-in {
    @apply animate-zoom-in;
  }
  
  .animate-rotate-in {
    @apply animate-rotate-in;
  }
  
  /* 지속 애니메이션 */
  .animate-float {
    @apply animate-float;
  }
  
  .animate-wiggle {
    @apply animate-wiggle;
  }
  
  /* =================================================================
     유틸리티 클래스
     ================================================================= */
  
  /* 글래스모피즘 효과 */
  .glass {
    @apply bg-white/10 dark:bg-dark-800/10 backdrop-blur-md border border-white/20 dark:border-dark-700/20;
  }
  
  /* 호버 효과 */
  .hover-lift {
    @apply transition-transform duration-600 hover:scale-105 hover:shadow-medium;
  }
  
  /* 포커스 효과 */
  .focus-glow {
    @apply focus:ring-4 focus:ring-primary-300 focus:outline-none;
  }
}

/* =================================================================
   커스텀 스크롤바 (CSS 변수 활용)
   ================================================================= */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-scrollbar-track-light);
}

.dark ::-webkit-scrollbar-track {
  background: var(--color-scrollbar-track-dark);
}

::-webkit-scrollbar-thumb {
  background: var(--color-scrollbar-thumb);
  border-radius: 4px;
  transition: background-color 0.2s ease;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-scrollbar-thumb-hover);
}

/* =================================================================
   키프레임 애니메이션 정의 (완전한 세트)
   ================================================================= */

/* =================================================================
   기본 키프레임 애니메이션
   ================================================================= */

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* =================================================================
   고급 키프레임 애니메이션 (누락된 애니메이션 추가)
   ================================================================= */

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-100%);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(100%);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes zoomIn {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes rotateIn {
  from {
    opacity: 0;
    transform: rotate(-180deg);
  }
  to {
    opacity: 1;
    transform: rotate(0deg);
  }
}

/* =================================================================
   지속 키프레임 애니메이션
   ================================================================= */

@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes wiggle {
  0%, 100% {
    transform: rotate(-3deg);
  }
  50% {
    transform: rotate(3deg);
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes bounce {
  0%, 100% {
    transform: translateY(-25%);
    animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
  }
  50% {
    transform: translateY(0);
    animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
  }
}

/* =================================================================
   고급 효과 키프레임 애니메이션
   ================================================================= */

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

@keyframes glow {
  0%, 100% {
    box-shadow: 0 0 5px var(--color-primary-500);
  }
  50% {
    box-shadow: 0 0 20px var(--color-primary-500), 0 0 30px var(--color-primary-500);
  }
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInLeft {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes fadeInRight {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* =================================================================
   접근성 향상 (A11y) - 개선된 버전
   ================================================================= */

/* =================================================================
   포커스 관리 개선 (focus-visible 지원)
   ================================================================= */
@layer base {
  /* 기본 포커스 아웃라인 제거 */
  *:focus {
    outline: none;
  }
  
  /* 키보드 포커스만 표시 (마우스 클릭 시 숨김) */
  *:focus-visible {
    outline: 2px solid var(--color-primary-500);
    outline-offset: 2px;
  }
  
  /* 포커스 링이 있는 요소는 focus-visible 무시 */
  .btn-primary:focus-visible,
  .btn-secondary:focus-visible,
  .btn-accent:focus-visible,
  .focus-ring-primary:focus-visible,
  .focus-ring-secondary:focus-visible,
  .focus-ring-accent:focus-visible {
    outline: none;
  }
}

/* =================================================================
   애니메이션 감소 선호 사용자 지원
   ================================================================= */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  html {
    scroll-behavior: auto;
  }
  
  /* 스크롤 동작 비활성화 */
  .smooth-scroll {
    scroll-behavior: auto;
  }
}

/* =================================================================
   고대비 모드 지원 강화
   ================================================================= */
@media (prefers-contrast: high) {
  /* 버튼 고대비 스타일 */
  .btn-primary {
    @apply border-2 border-primary-800;
    background-color: var(--color-primary-600) !important;
    color: white !important;
  }
  
  .btn-secondary {
    @apply border-2 border-dark-900 dark:border-secondary-100;
    background-color: var(--color-secondary-200) !important;
    color: var(--color-dark-900) !important;
  }
  
  .btn-accent {
    @apply border-2 border-accent-800;
    background-color: var(--color-accent-600) !important;
    color: white !important;
  }
  
  /* 카드 고대비 스타일 */
  .card {
    @apply border-2 border-dark-900 dark:border-secondary-100;
    background-color: white !important;
    color: var(--color-dark-900) !important;
  }
  
  .card-accent {
    @apply border-2 border-white;
    background: var(--color-primary-600) !important;
    color: white !important;
  }
  
  .card-dark {
    @apply border-2 border-secondary-100;
    background: var(--color-dark-800) !important;
    color: var(--color-secondary-100) !important;
  }
  
  /* 텍스트 가독성 향상 */
  .text-gradient-primary,
  .text-gradient-secondary,
  .text-gradient-dark {
    background: none !important;
    color: var(--color-primary-600) !important;
    -webkit-background-clip: unset !important;
    background-clip: unset !important;
  }
  
  /* 링크 가시성 향상 */
  a {
    text-decoration: underline !important;
    text-decoration-thickness: 2px !important;
  }
  
  /* 포커스 링 강화 */
  *:focus-visible {
    outline: 3px solid var(--color-primary-600) !important;
    outline-offset: 3px !important;
  }
}

/* =================================================================
   다크 모드 자동 전환 지원
   ================================================================= */
@media (prefers-color-scheme: dark) {
  :root:not(.light) {
    color-scheme: dark;
  }
}

@media (prefers-color-scheme: light) {
  :root:not(.dark) {
    color-scheme: light;
  }
}

/* =================================================================
   스핀 애니메이션 (로딩 스피너용)
   ================================================================= */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* =================================================================
   리치 텍스트 에디터 스타일링 (Rich Text Editor Styling)
   ================================================================= */

/* 기본 라이트 모드 스타일 */
.rich-text-editor-container .ql-toolbar {
  background-color: #f8f9fa !important;
  border-bottom: 1px solid #e5e7eb !important;
  border-top: none !important;
  border-left: none !important;
  border-right: none !important;
  display: flex !important; /* 툴바가 확실히 표시되도록 */
  flex-wrap: wrap !important;
  padding: 8px !important;
}

.rich-text-editor-container .ql-toolbar button {
  color: #1f2937 !important; /* 더 진한 회색으로 변경 */
  border-radius: 4px !important;
  margin: 1px !important;
  background-color: transparent !important;
  font-weight: 500 !important; /* 버튼 텍스트 굵게 */
  display: inline-flex !important; /* 버튼이 확실히 표시되도록 */
  align-items: center !important;
  justify-content: center !important;
  min-width: 28px !important;
  min-height: 28px !important;
}

.rich-text-editor-container .ql-toolbar button:hover {
  background-color: #e5e7eb !important;
  color: #000000 !important; /* 호버 시 검은색 */
}

.rich-text-editor-container .ql-toolbar button.ql-active {
  background-color: #3b82f6 !important;
  color: white !important;
}

/* 픽커 라벨과 아이템 색상 개선 */
.rich-text-editor-container .ql-toolbar .ql-picker-label {
  color: #1f2937 !important;
  font-weight: 500 !important;
}

.rich-text-editor-container .ql-toolbar .ql-picker-item {
  color: #1f2937 !important;
}

.rich-text-editor-container .ql-toolbar .ql-picker-item:hover {
  color: #000000 !important;
}

.rich-text-editor-container .ql-container {
  background-color: #ffffff !important;
  color: #111827 !important;
  font-family: inherit !important;
  border: none !important;
  border-radius: 0 0 8px 8px !important;
}

.rich-text-editor-container .ql-editor {
  min-height: 300px !important;
  color: #111827 !important;
  padding: 16px !important;
  background-color: #ffffff !important;
  font-size: 14px !important;
  line-height: 1.6 !important;
  caret-color: #111827 !important; /* 커서 색상 명시적 설정 */
  outline: none !important; /* 포커스 아웃라인 제거 */
}

/* 커서 가시성 보장 */
.rich-text-editor-container .ql-editor:focus {
  caret-color: #111827 !important;
  color: #111827 !important;
}

.rich-text-editor-container .ql-editor.ql-blank::before {
  color: #9ca3af !important;
  font-style: normal !important;
  font-size: 14px !important;
}

/* 입력된 텍스트가 확실히 보이도록 */
.rich-text-editor-container .ql-editor p {
  color: #111827 !important;
  margin: 0 0 8px 0 !important;
}

.rich-text-editor-container .ql-editor strong {
  color: #111827 !important;
  font-weight: bold !important;
}

.rich-text-editor-container .ql-editor em {
  color: #111827 !important;
  font-style: italic !important;
}

/* 모든 텍스트 요소에 색상 강제 적용 */
.rich-text-editor-container .ql-editor * {
  color: inherit !important;
}

/* 빈 에디터 상태에서도 커서 보이도록 */
.rich-text-editor-container .ql-editor.ql-blank {
  color: #111827 !important;
  caret-color: #111827 !important;
}

/* 선택된 텍스트 색상 */
.rich-text-editor-container .ql-editor ::selection {
  background-color: #3b82f6 !important;
  color: #ffffff !important;
}

/* 다크 모드 스타일 */
.dark .rich-text-editor-container .ql-toolbar {
  background-color: #374151 !important;
  border-bottom-color: #4b5563 !important;
  display: flex !important; /* 툴바가 확실히 표시되도록 */
  flex-wrap: wrap !important;
  padding: 8px !important;
}

.dark .rich-text-editor-container .ql-toolbar button {
  color: #f3f4f6 !important; /* 더 밝은 회색으로 변경 */
  font-weight: 500 !important;
  display: inline-flex !important; /* 버튼이 확실히 표시되도록 */
  align-items: center !important;
  justify-content: center !important;
  min-width: 28px !important;
  min-height: 28px !important;
}

.dark .rich-text-editor-container .ql-toolbar button:hover {
  background-color: #4b5563 !important;
  color: #ffffff !important; /* 호버 시 흰색 */
}

.dark .rich-text-editor-container .ql-toolbar button.ql-active {
  background-color: #3b82f6 !important;
  color: white !important;
}

/* 다크 모드 픽커 색상 개선 */
.dark .rich-text-editor-container .ql-toolbar .ql-picker-label {
  color: #f3f4f6 !important;
  font-weight: 500 !important;
}

.dark .rich-text-editor-container .ql-toolbar .ql-picker-item {
  color: #f3f4f6 !important;
}

.dark .rich-text-editor-container .ql-toolbar .ql-picker-item:hover {
  color: #ffffff !important;
}

.dark .rich-text-editor-container .ql-container {
  background-color: #374151 !important;
  color: #f9fafb !important;
  border-radius: 0 0 8px 8px !important;
}

.dark .rich-text-editor-container .ql-editor {
  color: #f9fafb !important;
  background-color: #374151 !important;
  font-size: 14px !important;
  line-height: 1.6 !important;
  caret-color: #f9fafb !important; /* 다크 모드 커서 색상 */
  outline: none !important;
}

/* 다크 모드 커서 가시성 보장 */
.dark .rich-text-editor-container .ql-editor:focus {
  caret-color: #f9fafb !important;
  color: #f9fafb !important;
}

.dark .rich-text-editor-container .ql-editor.ql-blank::before {
  color: #6b7280 !important;
  font-size: 14px !important;
}

/* 다크 모드 입력된 텍스트가 확실히 보이도록 */
.dark .rich-text-editor-container .ql-editor p {
  color: #f9fafb !important;
  margin: 0 0 8px 0 !important;
}

.dark .rich-text-editor-container .ql-editor strong {
  color: #f9fafb !important;
  font-weight: bold !important;
}

.dark .rich-text-editor-container .ql-editor em {
  color: #f9fafb !important;
  font-style: italic !important;
}

/* 다크 모드 모든 텍스트 요소 색상 강제 적용 */
.dark .rich-text-editor-container .ql-editor * {
  color: inherit !important;
}

/* 다크 모드 빈 에디터 상태에서도 커서 보이도록 */
.dark .rich-text-editor-container .ql-editor.ql-blank {
  color: #f9fafb !important;
  caret-color: #f9fafb !important;
}

/* 다크 모드 선택된 텍스트 색상 */
.dark .rich-text-editor-container .ql-editor ::selection {
  background-color: #3b82f6 !important;
  color: #ffffff !important;
}

/* 툴바 버튼 아이콘 가시성 개선 */
.rich-text-editor-container .ql-toolbar .ql-stroke {
  stroke: currentColor !important;
  stroke-width: 2 !important;
}

.rich-text-editor-container .ql-toolbar .ql-fill {
  fill: currentColor !important;
}

.rich-text-editor-container .ql-toolbar .ql-picker {
  display: inline-block !important;
  vertical-align: middle !important;
}

.rich-text-editor-container .ql-toolbar .ql-picker-label {
  display: inline-block !important;
  cursor: pointer !important;
}

.dark .rich-text-editor-container .ql-toolbar .ql-stroke {
  stroke: currentColor !important;
  stroke-width: 2 !important;
}

.dark .rich-text-editor-container .ql-toolbar .ql-fill {
  fill: currentColor !important;
}

.dark .rich-text-editor-container .ql-toolbar .ql-picker {
  display: inline-block !important;
  vertical-align: middle !important;
}

.dark .rich-text-editor-container .ql-toolbar .ql-picker-label {
  display: inline-block !important;
  cursor: pointer !important;
}

/* 크기 조절 기능 스타일링 */
.rich-text-editor-container .resize-editor {
  resize: both !important;
  overflow: auto !important;
  min-height: 300px !important;
  max-height: 800px !important;
}

/* 에디터 컨테이너 전체 이벤트 허용 */
.rich-text-editor-container {
  pointer-events: auto !important;
  user-select: text !important;
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  -ms-user-select: text !important;
  position: relative !important;
  z-index: 1 !important; /* 다른 요소들 위에 표시 */
  isolation: isolate !important; /* 새로운 스택킹 컨텍스트 생성 */
}

.rich-text-editor-container * {
  pointer-events: auto !important;
}

/* 툴바와 컨테이너 분리 */
.rich-text-editor-container .ql-toolbar {
  pointer-events: auto !important;
  z-index: 2 !important;
}

.rich-text-editor-container .ql-container {
  pointer-events: auto !important;
  z-index: 1 !important;
}

/* Quill 에디터 강제 스타일 재정의 */
.rich-text-editor-container .ql-editor {
  color: #111827 !important;
  background-color: #ffffff !important;
  caret-color: #111827 !important;
  font-family: inherit !important;
  font-size: 14px !important;
  line-height: 1.6 !important;
  pointer-events: auto !important; /* 마우스 이벤트 허용 */
  user-select: text !important; /* 텍스트 선택 허용 */
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  -ms-user-select: text !important;
}

.rich-text-editor-container .ql-editor.ql-blank::before {
  color: #9ca3af !important;
  font-style: normal !important;
}

/* 다크 모드 Quill 에디터 강제 스타일 */
.dark .rich-text-editor-container .ql-editor {
  color: #f9fafb !important;
  background-color: #374151 !important;
  caret-color: #f9fafb !important;
  font-family: inherit !important;
  font-size: 14px !important;
  line-height: 1.6 !important;
  pointer-events: auto !important; /* 마우스 이벤트 허용 */
  user-select: text !important; /* 텍스트 선택 허용 */
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  -ms-user-select: text !important;
}

.dark .rich-text-editor-container .ql-editor.ql-blank::before {
  color: #6b7280 !important;
  font-style: normal !important;
}

/* 크기 조절 핸들 표시 개선 - 에디터 컨테이너에만 적용 */
.rich-text-editor-container .ql-container {
  resize: both !important;
  overflow: auto !important;
}

/* 에디터 내용 영역 - 크기 조절 비활성화하여 텍스트 입력 문제 해결 */
.rich-text-editor-container .ql-editor {
  resize: none !important;
  overflow: visible !important;
  /* 위에서 정의한 스타일이 여기서도 적용되도록 */
}

/* 마크다운 문법 하이라이팅을 위한 추가 스타일 */
.rich-text-editor-container .ql-editor h1 {
  font-size: 2rem !important;
  font-weight: bold !important;
  margin: 1rem 0 !important;
}

.rich-text-editor-container .ql-editor h2 {
  font-size: 1.5rem !important;
  font-weight: bold !important;
  margin: 0.8rem 0 !important;
}

.rich-text-editor-container .ql-editor h3 {
  font-size: 1.25rem !important;
  font-weight: bold !important;
  margin: 0.6rem 0 !important;
}

.rich-text-editor-container .ql-editor blockquote {
  border-left: 4px solid #e5e7eb !important;
  padding-left: 1rem !important;
  margin: 1rem 0 !important;
  font-style: italic !important;
  color: #6b7280 !important;
}

.rich-text-editor-container .ql-editor code {
  background-color: #f3f4f6 !important;
  padding: 0.2rem 0.4rem !important;
  border-radius: 0.25rem !important;
  font-family: 'Courier New', monospace !important;
  font-size: 0.875rem !important;
}

.dark .rich-text-editor-container .ql-editor blockquote {
  border-left-color: #4b5563 !important;
  color: #9ca3af !important;
}

.dark .rich-text-editor-container .ql-editor code {
  background-color: #374151 !important;
  color: #f9fafb !important;
}
