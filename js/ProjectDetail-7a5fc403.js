import{j as e}from"./chunk-9a18e39e.js";import{r as a,e as t,u as s,b as r,L as l}from"./chunk-324910f1.js";import{g as i,H as n,L as o,M as d,N as c,r as g,a as x,J as m,I as h,h as p,O as u,P as y,t as b}from"./index-12c0d33b.js";import{u as f}from"./chunk-d8625230.js";import{u as j}from"./chunk-43ad9be7.js";import{m as v}from"./chunk-816c63d1.js";const k=()=>{var k,N;const{id:w}=t(),S=s(),z=r(),{i18n:D}=j(),_=D.language,{loading:C,error:$,localizedProject:I,linkedSkills:L}=((e,t)=>{const[s,r]=a.useState(null),[l,g]=a.useState(!0),[x,m]=a.useState(null),{skillCategories:h}=f();a.useEffect(()=>{(async()=>{if(e)try{g(!0);const a=await c.getById(e);r(a.data)}catch(a){m("프로젝트를 불러오는데 실패했습니다.")}finally{g(!1)}})()},[e]);const p=a.useMemo(()=>s?{...s,title:i(t,s.title,s.titleEn,s.titleJa),description:i(t,s.description,s.descriptionEn,s.descriptionJa),detailedDescription:i(t,s.detailedDescription,s.detailedDescriptionEn,s.detailedDescriptionJa),technologies:n(t,s.technologies,s.technologiesEn,s.technologiesJa)||[],features:n(t,s.features,s.featuresEn,s.featuresJa)||[],learnings:n(t,s.learnings,s.learningsEn,s.learningsJa)||[],videoDescriptions:n(t,s.videoDescriptions,s.videoDescriptionsEn,s.videoDescriptionsJa)||[]}:null,[s,t]);return{loading:l,error:x,localizedProject:p,linkedSkills:a.useMemo(()=>{if(!s||!h)return[];const e=h.flatMap(e=>e.skills||[]),a=new Set(s.skillIds||[]);return e.filter(e=>a.has(e._id)).map(e=>{return{...e,name:o(t,e),description:d(t,e),levelText:(a=e.level||0,a>=90?"Expert":a>=70?"Proficient":a>=50?"Competent":"Basic")};var a})},[s,h,t])}})(w,_),[E,J]=a.useState(null),[M,F]=a.useState(0),[H,T]=a.useState(0);if(C)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})});if($||!I)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-4",children:$||"프로젝트를 찾을 수 없습니다."}),e.jsx("button",{onClick:()=>S("/projects",{state:z.state}),className:"text-primary-600 hover:text-primary-700",children:"목록으로 돌아가기"})]})});const B=e=>e.includes("youtube.com/shorts/"),P=e=>{var a,t,s;let r="";return e.includes("youtube.com/shorts/")?r=(null==(a=e.split("shorts/")[1])?void 0:a.split("?")[0])||"":e.includes("youtube.com/watch?v=")?r=(null==(t=e.split("v=")[1])?void 0:t.split("&")[0])||"":e.includes("youtu.be/")&&(r=(null==(s=e.split("youtu.be/")[1])?void 0:s.split("?")[0])||""),r?`https://www.youtube.com/embed/${r}?rel=0&modestbranding=1&showinfo=0`:""},O=(null==(k=I.videos)?void 0:k.filter(e=>!B(e)))||[],W=(null==(N=I.videos)?void 0:N.filter(e=>B(e)))||[];return e.jsxs("section",{className:"section-padding bg-gray-50 dark:bg-dark-900 min-h-screen",children:[e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:e.jsxs(l,{to:"/projects",state:z.state,className:"inline-flex items-center gap-2 text-primary-600 hover:text-primary-700 mb-6 dark:text-primary-400",children:[e.jsx(g,{})," 목록으로 돌아가기"]})}),e.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[I.image&&e.jsx("div",{className:"md:w-1/3",children:e.jsx("img",{src:I.image,alt:I.title,className:"w-full h-auto rounded-lg shadow-lg object-cover",loading:"eager",decoding:"async",width:"800",height:"600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4 flex-wrap",children:[I.categoryIds&&I.categoryIds.length>0?I.categoryIds.map(a=>{const t="string"==typeof a?a:null==a?void 0:a.name;return t?e.jsx("span",{className:"px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 rounded-full text-sm font-medium",children:t},"string"==typeof a?a:null==a?void 0:a._id):null}):I.category&&e.jsx("span",{className:"px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 rounded-full text-sm font-medium",children:I.category}),e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium "+("completed"===I.status?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"planning"===I.status?"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200":"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200"),children:"completed"===I.status?"완료":"planning"===I.status?"기획중":"준비중"})]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:I.title}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-6 leading-relaxed",children:I.description}),I.technologies.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[e.jsx(x,{})," 사용 기술"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:I.technologies.map((a,t)=>e.jsx("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg text-sm font-medium",children:a},t))})]}),L.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[e.jsx(x,{})," 사용된 핵심 스킬"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:L.map(a=>{const t=a.color?{backgroundColor:`${s=a.color}26`,color:s}:void 0;var s;return e.jsxs(l,{to:`/projects?skillId=${a._id}`,className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium hover:ring-2 transition-all hover:opacity-80",title:`${a.name} 스킬이 사용된 모든 프로젝트 보기`,style:{...t,"--tw-ring-color":a.color||"#3B82F6"},children:[e.jsx("span",{className:"font-semibold",children:a.name}),e.jsxs("span",{className:"text-xs font-semibold ml-1",style:{color:a.color||"#3B82F6"},children:["[",a.levelText,"]"]})]},a._id)})})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[I.githubLink&&e.jsxs("a",{href:I.githubLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-900 dark:bg-gray-700 text-white rounded-lg hover:bg-gray-800 dark:hover:bg-gray-600 transition-colors",children:[e.jsx(m,{})," GitHub"]}),I.liveLink&&e.jsxs("a",{href:I.liveLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[e.jsx(h,{})," Live Demo"]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[I.images&&I.images.length>0&&e.jsxs("div",{className:"lg:col-span-4 bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(p,{})," 프로젝트 이미지"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.images.map((a,t)=>e.jsx(v.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*t},className:"cursor-pointer group",onClick:()=>J(a),children:e.jsx("div",{className:"aspect-video rounded-lg overflow-hidden shadow-md group-hover:shadow-xl transition-shadow",children:e.jsx("img",{src:a,alt:`${I.title} ${t+1}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy",decoding:"async",width:"640",height:"360"})})},t))})]}),O.length>0&&e.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8","data-video-section":!0,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(u,{})," 프로젝트 동영상"]}),O.length>1&&e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[M+1," / ",O.length]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative group",children:[(()=>{var a;const t=O[M];return t?e.jsxs("div",{children:[(s=t,s.includes("youtube.com")||s.includes("youtu.be")?e.jsxs("div",{className:"relative w-full rounded-lg overflow-hidden shadow-lg bg-gray-100 dark:bg-gray-700",children:[e.jsx("div",{className:"aspect-video",children:e.jsx("iframe",{src:P(t),title:`${I.title} 동영상 ${M+1}`,className:"w-full h-full",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})}),e.jsx("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:"YouTube에서 보기"})})]}):e.jsxs("div",{className:"relative w-full rounded-lg overflow-hidden shadow-lg bg-gray-100 dark:bg-gray-700",children:[e.jsx("div",{className:"aspect-video",children:e.jsxs("video",{src:t,controls:!0,className:"w-full h-full object-cover",preload:"metadata",children:[e.jsx("source",{src:t,type:"video/mp4"}),e.jsx("source",{src:t,type:"video/webm"}),e.jsx("source",{src:t,type:"video/ogg"}),"브라우저가 비디오를 지원하지 않습니다."]})}),e.jsx("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:"원본 보기"})})]})),(null==(a=I.videoDescriptions)?void 0:a[M])&&e.jsx("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:e.jsx("div",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed prose prose-sm dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:I.videoDescriptions[M]}})})]}):null;var s})(),O.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>F(e=>0===e?O.length-1:e-1),className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all opacity-0 group-hover:opacity-100 z-10","aria-label":"이전 영상",children:e.jsx(y,{size:20})}),e.jsx("button",{onClick:()=>F(e=>e===O.length-1?0:e+1),className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all opacity-0 group-hover:opacity-100 z-10","aria-label":"다음 영상",children:e.jsx(b,{size:20})})]})]}),O.length>1&&e.jsx("div",{className:"flex justify-center gap-2 mt-4",children:O.map((a,t)=>e.jsx("button",{onClick:()=>F(t),className:"h-2 rounded-full transition-all "+(t===M?"w-8 bg-blue-600 dark:bg-blue-400":"w-2 bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500"),"aria-label":`${t+1}번째 영상 보기`},t))})]})]}),W.length>0&&e.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-gray-800 rounded-2xl shadow-lg px-4 py-8","data-shorts-section":!0,children:[e.jsx("div",{className:"flex justify-center items-center",children:e.jsxs("div",{className:"relative group px-0",style:{maxWidth:"280px",width:"100%"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(u,{})," Shorts"]}),W.length>1&&e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[H+1," / ",W.length]})]}),(()=>{var a,t;const s=W[H];if(!s)return null;const r=(null==(a=I.videos)?void 0:a.indexOf(s))??-1;return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"relative w-full rounded-lg overflow-hidden shadow-lg bg-black",children:[e.jsx("div",{className:"aspect-[9/16] w-full",style:{maxHeight:"600px"},children:e.jsx("iframe",{src:P(s),title:`${I.title} Shorts ${H+1}`,className:"w-full h-full",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})}),e.jsx("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:e.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm font-medium transition-colors flex items-center gap-1 shadow-lg",children:"Shorts"})})]}),(null==(t=I.videoDescriptions)?void 0:t[r])&&e.jsx("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",style:{maxWidth:"600px",margin:"1rem auto 0"},children:e.jsx("div",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed prose prose-sm dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:I.videoDescriptions[r]}})})]})})(),W.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>T(e=>0===e?W.length-1:e-1),className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all opacity-0 group-hover:opacity-100 z-10","aria-label":"이전 쇼츠",children:e.jsx(y,{size:20})}),e.jsx("button",{onClick:()=>T(e=>e===W.length-1?0:e+1),className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all opacity-0 group-hover:opacity-100 z-10","aria-label":"다음 쇼츠",children:e.jsx(b,{size:20})})]})]})}),W.length>1&&e.jsx("div",{className:"flex justify-center gap-2 mt-4",children:W.map((a,t)=>e.jsx("button",{onClick:()=>T(t),className:"h-2 rounded-full transition-all "+(t===H?"w-8 bg-red-600 dark:bg-red-400":"w-2 bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500"),"aria-label":`${t+1}번째 쇼츠 보기`},t))})]}),I.detailedDescription&&e.jsxs("div",{className:"lg:col-span-4 bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"상세 설명"}),e.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none text-gray-700 dark:text-gray-300",dangerouslySetInnerHTML:{__html:I.detailedDescription}})]}),I.features.length>0&&e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"주요 기능"}),e.jsx("ul",{className:"space-y-3",children:I.features.map((a,t)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 flex items-center justify-center text-sm font-medium mt-0.5",children:t+1}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:a})]},t))})]}),I.learnings.length>0&&e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"배운 점"}),e.jsx("ul",{className:"space-y-3",children:I.learnings.map((a,t)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-2 h-2 rounded-full bg-primary-600 dark:bg-primary-400 mt-2"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:a})]},t))})]})]})]}),E&&e.jsxs(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:()=>J(null),children:[e.jsx("button",{onClick:()=>J(null),className:"absolute top-4 right-4 text-white hover:text-gray-300 text-3xl",children:"×"}),e.jsx("img",{src:E,alt:"확대 이미지",className:"max-w-full max-h-full object-contain",loading:"eager",decoding:"async"})]})]})};export{k as default};
//# sourceMappingURL=ProjectDetail-7a5fc403.js.map
