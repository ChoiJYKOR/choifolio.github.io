import{j as e}from"./chunk-9a18e39e.js";import{b as t,r as a,L as r}from"./chunk-324910f1.js";import{u as s}from"./chunk-50de54c5.js";import{u as l,i,w as d,k as n,l as o,m as c,s as x}from"./index-5373f156.js";import{u as m}from"./chunk-dcfb9192.js";import{u as g}from"./chunk-7523ae4e.js";import{u as p}from"./chunk-eaed8c6b.js";import{f as h}from"./chunk-abc135ce.js";import{e as u,g as y}from"./chunk-5cf4a90d.js";import{S as b}from"./chunk-b63dacd6.js";import{u as v}from"./chunk-43ad9be7.js";import{m as k}from"./chunk-816c63d1.js";const f=()=>{const{settings:f,loading:j}=l(),{t:N,i18n:w}=v(),I=w.language,{data:_=[],isLoading:L}=m(),{data:C=[],isLoading:T}=g(),S=t(),[P,Y]=s({triggerOnce:!0,threshold:.1}),[q,A]=a.useState(()=>{var e;return(null==(e=S.state)?void 0:e.previousTab)||"individual"}),[D,M]=a.useState("all");i(),a.useEffect(()=>{var e;const t=null==(e=S.state)?void 0:e.scrollPosition;t&&(window.scrollTo(0,t),window.history.replaceState({},document.title))},[]);const{data:U=[],isLoading:$}=p(),z=a.useMemo(()=>{const e=_||[];return"all"===D?e:e.filter(e=>{var t;return e.categoryIds&&0!==e.categoryIds.length?e.categoryIds.some(e=>("string"==typeof e?e:null==e?void 0:e._id)===D):(null==(t=e.category)?void 0:t.toLowerCase())===D})},[_,D]),E=a.useMemo(()=>{const e=C||[];return"all"===D?e:e.filter(e=>{var t;return e.categoryIds&&0!==e.categoryIds.length?e.categoryIds.some(e=>("string"==typeof e?e:null==e?void 0:e._id)===D):(null==(t=e.category)?void 0:t.toLowerCase())===D})},[C,D]),O={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},B={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return j||L?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})}):e.jsxs("section",{className:"section-padding bg-white dark:bg-dark-900 min-h-screen",children:[e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4 text-gray-900 dark:text-white flex items-center justify-center gap-3",children:[e.jsx(d,{className:"text-red-600"}),N("videoLearnings.title")]}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:N("videoLearnings.subtitle")})]}),e.jsxs("div",{className:"flex gap-4 mb-8 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("button",{onClick:()=>A("individual"),className:"px-6 py-3 font-medium transition-all "+("individual"===q?"border-b-2 border-primary-600 text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:N("videoLearnings.individual")}),e.jsx("button",{onClick:()=>A("playlist"),className:"px-6 py-3 font-medium transition-all "+("playlist"===q?"border-b-2 border-primary-600 text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:N("videoLearnings.playlist")})]}),"individual"===q&&e.jsxs("div",{ref:P,className:"flex gap-2 mb-8 overflow-x-auto pb-2",children:[e.jsxs("button",{onClick:()=>M("all"),className:"px-6 py-2 rounded-full transition-colors font-medium whitespace-nowrap "+("all"===D?"bg-primary-600 text-white":"bg-gray-200 dark:bg-dark-700 text-dark-700 dark:text-dark-300 hover:bg-gray-300 dark:hover:bg-dark-600"),children:["전체 (",_.length,")"]}),U.map(t=>{const a=_.filter(e=>e.categoryIds&&0!==e.categoryIds.length?e.categoryIds.some(e=>("string"==typeof e?e:null==e?void 0:e._id)===t._id):e.category===t.name).length;return e.jsxs("button",{onClick:()=>M(t._id),className:"px-6 py-2 rounded-full transition-colors font-medium whitespace-nowrap "+(D===t._id?"bg-primary-600 text-white":"bg-gray-200 dark:bg-dark-700 text-dark-700 dark:text-dark-300 hover:bg-gray-300 dark:hover:bg-dark-600"),children:[n(I,t)," (",a,")"]},t._id)})]}),"playlist"===q&&e.jsxs("div",{ref:P,className:"flex gap-2 mb-8 overflow-x-auto pb-2",children:[e.jsxs("button",{onClick:()=>M("all"),className:"px-6 py-2 rounded-full transition-colors font-medium whitespace-nowrap "+("all"===D?"bg-primary-600 text-white":"bg-gray-200 dark:bg-dark-700 text-dark-700 dark:text-dark-300 hover:bg-gray-300 dark:hover:bg-dark-600"),children:["전체 (",C.length,")"]}),U.map(t=>{const a=C.filter(e=>e.categoryIds&&0!==e.categoryIds.length?e.categoryIds.some(e=>("string"==typeof e?e:null==e?void 0:e._id)===t._id):e.category===t.name).length;return e.jsxs("button",{onClick:()=>M(t._id),className:"px-6 py-2 rounded-full transition-colors font-medium whitespace-nowrap "+(D===t._id?"bg-primary-600 text-white":"bg-gray-200 dark:bg-dark-700 text-dark-700 dark:text-dark-300 hover:bg-gray-300 dark:hover:bg-dark-600"),children:[n(I,t)," (",a,")"]},t._id)})]}),"individual"===q&&e.jsx(k.div,{variants:O,initial:"hidden",animate:Y?"visible":"hidden",className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:z.map(t=>{const a=t.videoId||(t.videoUrl?u(t.videoUrl):null),s=a?y(a,"hqdefault"):null;return e.jsx(k.div,{variants:B,children:e.jsxs(r,{to:`/video-learnings/${t._id}`,state:{previousTab:q,scrollPosition:window.scrollY},className:"block bg-white dark:bg-dark-800 rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow border border-gray-200 dark:border-dark-700",children:[s?e.jsxs("div",{className:"relative aspect-video bg-gray-200 dark:bg-gray-700",children:[e.jsx("img",{src:s,alt:t.title,className:"w-full h-full object-cover",loading:"lazy",decoding:"async",width:"640",height:"360"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/10 transition-colors"}),e.jsx("div",{className:"absolute top-2 right-2 bg-red-600 px-2 py-1 rounded text-white text-xs font-bold",children:"YouTube"})]}):e.jsx("div",{className:"aspect-video bg-gradient-to-br from-red-400 to-pink-500 flex items-center justify-center",children:e.jsx(d,{className:"text-white text-6xl"})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:t.categoryIds&&t.categoryIds.length>0?t.categoryIds.map(t=>{const a="string"==typeof t?t:null==t?void 0:t._id,r="string"==typeof t?U.find(e=>e._id===a):t;return r?e.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full text-sm font-medium",children:n(I,r)},a):null}):t.category&&e.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full text-sm font-medium",children:t.category})}),t.rating&&e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5},(a,r)=>e.jsx(o,{className:"text-sm "+(r<t.rating?"text-yellow-500":"text-gray-300 dark:text-gray-600")},r))})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2 line-clamp-2",children:t.title}),t.purpose&&e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-2 text-sm",children:t.purpose}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(c,{className:"text-xs"}),e.jsx("span",{children:h(t.watchDate)})]}),t.skillIds&&t.skillIds.length>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(x,{className:"text-xs"}),e.jsxs("span",{children:[t.skillIds.length,"개 스킬"]})]})]})]})]})},t._id)})}),"playlist"===q&&e.jsx(k.div,{variants:O,initial:"hidden",animate:Y?"visible":"hidden",className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:E.map(t=>e.jsx(k.div,{variants:B,children:e.jsxs(r,{to:`/video-playlists/${t._id}`,state:{previousTab:q,scrollPosition:window.scrollY},className:"block bg-white dark:bg-dark-800 rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow border border-gray-200 dark:border-dark-700",children:[e.jsxs("div",{className:"relative aspect-video bg-gradient-to-br from-purple-400 to-pink-500 flex items-center justify-center",children:[e.jsx(d,{className:"text-white text-6xl"}),e.jsx("div",{className:"absolute top-2 right-2 bg-red-600 px-2 py-1 rounded text-white text-xs font-bold",children:"재생목록"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:t.categoryIds&&t.categoryIds.length>0?t.categoryIds.map(t=>{const a="string"==typeof t?t:null==t?void 0:t._id,r="string"==typeof t?U.find(e=>e._id===a):t;return r?e.jsx("span",{className:"px-3 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded-full text-sm font-medium",children:n(I,r)},a):null}):t.category&&e.jsx("span",{className:"px-3 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded-full text-sm font-medium",children:t.category})}),t.rating&&e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5},(a,r)=>e.jsx(o,{className:"text-sm "+(r<t.rating?"text-yellow-500":"text-gray-300 dark:text-gray-600")},r))})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2 line-clamp-2",children:t.title}),t.purpose&&e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-2 text-sm",children:t.purpose}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(c,{className:"text-xs"}),e.jsx("span",{children:h(t.watchDate)})]}),t.skillIds&&t.skillIds.length>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(x,{className:"text-xs"}),e.jsxs("span",{children:[t.skillIds.length,"개 스킬"]})]})]})]})]})},t._id))}),"playlist"===q&&0===E.length&&e.jsxs("div",{className:"card p-12 text-center",children:[e.jsx(d,{className:"text-6xl text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"all"===D?"시리즈 영상이 없습니다":"해당 카테고리에 시리즈 영상이 없습니다"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"여러 영상을 통한 체계적인 학습 과정을 추가해보세요"})]}),"individual"===q&&0===z.length&&e.jsxs("div",{className:"card p-12 text-center",children:[e.jsx(d,{className:"text-6xl text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"all"===D?"영상 학습 기록이 없습니다":"해당 카테고리에 영상이 없습니다"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"유튜브 영상을 통한 학습 내용을 추가해보세요"})]})]}),e.jsx(b,{})]})};export{f as default};
//# sourceMappingURL=VideoLearnings-76fecea9.js.map
