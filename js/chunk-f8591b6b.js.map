{"version":3,"file":"chunk-f8591b6b.js","sources":["../../src/hooks/useSiteSettings.tsx","../../src/hooks/useScrollSpy.ts","../../src/hooks/useSidebarSkills.ts","../../src/hooks/useBooks.ts","../../src/hooks/useCategories.ts","../../src/hooks/useLearningManager.ts","../../src/hooks/useSkills.ts","../../src/hooks/useVideoLearnings.ts","../../src/hooks/useVideoPlaylists.ts","../../src/hooks/useToast.ts","../../src/hooks/useProjects.ts","../../src/hooks/useProjectDetail.ts","../../src/hooks/useExperiences.ts","../../src/hooks/useAbortController.ts","../../src/hooks/useOptimisticUpdate.ts","../../src/hooks/useBookManagerData.ts","../../src/hooks/useCRUDManager.ts","../../src/hooks/useExperienceManagerData.ts","../../src/hooks/useProjectForm.ts","../../src/hooks/useProjectManagerData.ts","../../src/hooks/useMessageManagerData.ts","../../src/hooks/useMessageDetail.ts","../../src/hooks/useSkillMutations.ts","../../src/hooks/useSkillsManagerData.ts","../../src/hooks/useDataCounts.ts","../../src/hooks/useAdminSidebarState.ts"],"sourcesContent":["import React, { createContext, useState, useEffect, useCallback, useMemo, ReactNode, useContext } from 'react'\r\nimport { settingsAPI } from '../services/api'\r\nimport { SettingsFormData } from '../types'\r\n\r\n// =================================================================\r\n// ì´ˆê¸° ì„¤ì •ê°’ ì •ì˜ (ê¸°ë³¸ê°’ ì œê³µ) - ìƒìˆ˜ë¡œ í•œ ë²ˆë§Œ ìƒì„±\r\n// =================================================================\r\n\r\nconst INITIAL_SETTINGS: Partial<SettingsFormData> = {\r\n  // GeneralInfo ê¸°ë³¸ê°’\r\n  fullName: '',\r\n  firstName: '',\r\n  role: '',\r\n  subtitle: '',\r\n  location: '',\r\n  education: '',\r\n  yearsOfExperience: '',\r\n  \r\n  // ContactInfo ê¸°ë³¸ê°’\r\n  email: '',\r\n  phone: '',\r\n  githubUrl: '',\r\n  linkedinUrl: '',\r\n  \r\n  // ContentText ê¸°ë³¸ê°’\r\n  heroTitle: '',\r\n  heroSubtitle: '',\r\n  heroTag: '',\r\n  heroCtaLink1: '',\r\n  heroCtaLink2: '',\r\n  aboutTitle: '',\r\n  aboutSubtitle: '',\r\n  aboutDescription1: '',\r\n  aboutDescription2: '',\r\n  skillsTitle: '',\r\n  skillsSubtitle: '',\r\n  projectsTitle: '',\r\n  projectsSubtitle: '',\r\n  // ğŸŒŸ í”„ë¡œì íŠ¸ ì—…ë°ì´íŠ¸ ì¹´ë“œ ê¸°ë³¸ê°’ (ë¹ˆ ê°’ìœ¼ë¡œ ì„¤ì • - ê´€ë¦¬ìê°€ ì§ì ‘ ì…ë ¥)\r\n  projectsUpdateTitle: '',\r\n  projectsUpdateDescription: '',\r\n  projectsUpdateTechList: [],\r\n  booksTitle: '',\r\n  booksSubtitle: '',\r\n  contactTitle: '',\r\n  contactSubtitle: '',\r\n  experienceTitle: '',\r\n  experienceSubtitle: '',\r\n  \r\n  // ğŸŒŸ í•™ìŠµ ëª©í‘œ ê¸°ë³¸ê°’\r\n  learningGoalsTitle: 'ì•ìœ¼ë¡œì˜ í•™ìŠµ ëª©í‘œ',\r\n  learningGoalsDescription: '4ì°¨ ì‚°ì—…í˜ëª… ì‹œëŒ€ì— ë°œë§ì¶° **ì§€ëŠ¥í˜• ê³µì¥(Smart Factory) êµ¬í˜„**ì„ ìœ„í•´ ë‹¤ìŒ ê¸°ìˆ ë“¤ì„ ì§‘ì¤‘ì ìœ¼ë¡œ íƒêµ¬í•˜ì—¬ ì „ë¬¸ì„±ì„ í™•ëŒ€í•´ ë‚˜ê°€ê² ìŠµë‹ˆë‹¤.',\r\n  learningGoalsList: ['ì²¨ë‹¨ ë¡œë´‡ ì œì–´', 'ë”¥ëŸ¬ë‹ ê¸°ë°˜ ë¹„ì „ ì‹œìŠ¤í…œ', 'ì—£ì§€ ì»´í“¨íŒ…', 'í´ë¼ìš°ë“œ ì—°ë™', 'MES/ERP ì—°ë™ ê¸°ìˆ '],\r\n  \r\n  // Stats ê¸°ë³¸ê°’\r\n  stat1Number: '',\r\n  stat1Label: '',\r\n  stat2Number: '',\r\n  stat2Label: '',\r\n  stat3Number: '',\r\n  stat3Label: '',\r\n  \r\n  // MainSkills ê¸°ë³¸ê°’\r\n  mainSkills: [],\r\n}\r\n\r\n// =================================================================\r\n// Context íƒ€ì… ì •ì˜ ë° ìƒì„±\r\n// =================================================================\r\n\r\ninterface SiteSettingsContextType {\r\n  settings: SettingsFormData;\r\n  loading: boolean;\r\n  error: string | null;\r\n  refetchSettings: () => Promise<void>; // ê´€ë¦¬ì í˜ì´ì§€ë¥¼ ìœ„í•œ ìˆ˜ë™ ìƒˆë¡œê³ ì¹¨ í•¨ìˆ˜\r\n}\r\n\r\nconst SiteSettingsContext = createContext<SiteSettingsContextType | undefined>(undefined);\r\n\r\n// =================================================================\r\n// Provider ì»´í¬ë„ŒíŠ¸\r\n// =================================================================\r\n\r\ninterface SiteSettingsProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport const SiteSettingsProvider: React.FC<SiteSettingsProviderProps> = ({ children }) => {\r\n  const [settings, setSettings] = useState<SettingsFormData>(INITIAL_SETTINGS as SettingsFormData);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // ì„¤ì • ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜\r\n  const fetchSettings = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const response = await settingsAPI.get();\r\n      \r\n      const mergedSettings = {\r\n        ...INITIAL_SETTINGS,\r\n        ...response.data\r\n      };\r\n      \r\n      setSettings(mergedSettings);\r\n    } catch (err) {\r\n      console.error('Failed to fetch settings:', err);\r\n      setError('ì„¤ì •ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');\r\n      setSettings(INITIAL_SETTINGS as SettingsFormData);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // Providerê°€ ë§ˆìš´íŠ¸ë  ë•Œ *ë‹¨ í•œ ë²ˆë§Œ* ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. (ìºì‹±)\r\n  useEffect(() => {\r\n    fetchSettings();\r\n  }, [fetchSettings]);\r\n\r\n  const refetchSettings = useCallback(async () => {\r\n      await fetchSettings();\r\n  }, [fetchSettings]);\r\n\r\n  // Context valueë¥¼ useMemoë¡œ ë©”ëª¨ì´ì œì´ì…˜í•˜ì—¬ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€\r\n  const value = useMemo(() => ({\r\n    settings,\r\n    loading,\r\n    error,\r\n    refetchSettings\r\n  }), [settings, loading, error, refetchSettings]);\r\n\r\n  return (\r\n    <SiteSettingsContext.Provider value={value}>\r\n      {children}\r\n    </SiteSettingsContext.Provider>\r\n  );\r\n};\r\n\r\n// =================================================================\r\n// Custom Hook: ì´ì œ Contextë¥¼ ì†Œë¹„í•©ë‹ˆë‹¤.\r\n// =================================================================\r\n\r\nexport const useSiteSettings = () => {\r\n  const context = useContext(SiteSettingsContext);\r\n  if (context === undefined) {\r\n    throw new Error('useSiteSettings must be used within a SiteSettingsProvider');\r\n  }\r\n  return context;\r\n};\r\n","import { useEffect, useState, useCallback, useRef } from 'react'\r\n\r\n// ì„¹ì…˜ ID ëª©ë¡ ì •ì˜\r\nexport const SECTION_IDS = [\r\n  'hero',\r\n  'about', \r\n  'experience',\r\n  'skills',\r\n  'projects',\r\n  'contact',\r\n  'books', // Books í˜ì´ì§€ ì¶”ê°€\r\n  'projects-page', // Projects í˜ì´ì§€ ì¶”ê°€\r\n  'experience-page', // Experience í˜ì´ì§€ ì¶”ê°€\r\n  'about-page', // About í˜ì´ì§€ ì¶”ê°€\r\n  'contact-page', // Contact í˜ì´ì§€ ì¶”ê°€\r\n  'skills-page' // Skills í˜ì´ì§€ ì¶”ê°€\r\n] as const\r\n\r\nexport type SectionId = typeof SECTION_IDS[number]\r\n\r\n// ìŠ¤í¬ë¡¤ ìŠ¤íŒŒì´ í›… ì˜µì…˜ ì¸í„°í˜ì´ìŠ¤\r\ninterface UseScrollSpyOptions {\r\n  /** í™œì„±í™” ê¸°ì¤€ì  ì˜¤í”„ì…‹ (í”½ì…€) - ê¸°ë³¸ê°’: 80px */\r\n  offset?: number\r\n  /** ë””ë°”ìš´ìŠ¤ ì§€ì—° ì‹œê°„ (ë°€ë¦¬ì´ˆ) - ê¸°ë³¸ê°’: 100ms */\r\n  debounceDelay?: number\r\n}\r\n\r\n// ê¸°ë³¸ ì˜µì…˜\r\nconst DEFAULT_OPTIONS: Required<UseScrollSpyOptions> = {\r\n  offset: 80,\r\n  debounceDelay: 100\r\n}\r\n\r\n// ë””ë°”ìš´ìŠ¤ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜\r\nconst debounce = <T extends (...args: any[]) => any>(\r\n  func: T,\r\n  delay: number\r\n): ((...args: Parameters<T>) => void) => {\r\n  let timeoutId: number | null = null\r\n  \r\n  return (...args: Parameters<T>) => {\r\n    if (timeoutId) {\r\n      clearTimeout(timeoutId)\r\n    }\r\n    \r\n    timeoutId = setTimeout(() => {\r\n      func(...args)\r\n    }, delay)\r\n  }\r\n}\r\n\r\n// ìŠ¤í¬ë¡¤ ìŠ¤íŒŒì´ í›…\r\nexport const useScrollSpy = (options: UseScrollSpyOptions = {}) => {\r\n  const { offset, debounceDelay } = { ...DEFAULT_OPTIONS, ...options }\r\n  const [activeSection, setActiveSection] = useState<SectionId>('hero')\r\n  const timeoutRef = useRef<number | null>(null)\r\n\r\n  const handleScroll = useCallback(() => {\r\n    // í˜„ì¬ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ + ì˜¤í”„ì…‹ì„ í™œì„±í™” ê¸°ì¤€ì ìœ¼ë¡œ ì„¤ì •\r\n    const activationPoint = window.scrollY + offset\r\n    let newActiveSection: SectionId = 'hero' // ê¸°ë³¸ê°’\r\n\r\n    // ì„¹ì…˜ë“¤ì„ ìˆœíšŒí•˜ë©° activationPointë¥¼ ì§€ë‚œ ê°€ì¥ ë§ˆì§€ë§‰ ì„¹ì…˜ì„ ì°¾ê¸°\r\n    for (const sectionId of SECTION_IDS) {\r\n      const element = document.getElementById(sectionId)\r\n      if (!element) continue\r\n\r\n      // ìš”ì†Œì˜ ë¬¸ì„œ ìƒë‹¨ìœ¼ë¡œë¶€í„°ì˜ ìœ„ì¹˜ (ì˜¤í”„ì…‹ ë°˜ì˜)\r\n      const elementTop = element.offsetTop - offset\r\n      \r\n      // í˜„ì¬ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ê°€ ì„¹ì…˜ ìƒë‹¨ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ë‹¤ë©´, í•´ë‹¹ ì„¹ì…˜ì„ í™œì„±í™”\r\n      if (activationPoint >= elementTop) {\r\n        newActiveSection = sectionId\r\n      }\r\n    }\r\n    \r\n    setActiveSection(newActiveSection)\r\n  }, [offset])\r\n\r\n  // ë””ë°”ìš´ìŠ¤ëœ ìŠ¤í¬ë¡¤ í•¸ë“¤ëŸ¬\r\n  const debouncedHandleScroll = useCallback(\r\n    debounce(handleScroll, debounceDelay),\r\n    [handleScroll, debounceDelay]\r\n  )\r\n\r\n  useEffect(() => {\r\n    // ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡\r\n    window.addEventListener('scroll', debouncedHandleScroll, { passive: true })\r\n    \r\n    // ì´ˆê¸° ì‹¤í–‰ (ë””ë°”ìš´ìŠ¤ ì—†ì´ ì¦‰ì‹œ ì‹¤í–‰)\r\n    handleScroll()\r\n\r\n    // í´ë¦°ì—…\r\n    return () => {\r\n      window.removeEventListener('scroll', debouncedHandleScroll)\r\n      // ë””ë°”ìš´ìŠ¤ íƒ€ì´ë¨¸ ì •ë¦¬\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current)\r\n      }\r\n    }\r\n  }, [handleScroll, debouncedHandleScroll])\r\n\r\n  return activeSection\r\n}\r\n\r\n// ë¶€ë“œëŸ¬ìš´ ìŠ¤í¬ë¡¤ í•¨ìˆ˜ (ì˜¤í”„ì…‹ ì§€ì›)\r\nexport const scrollToSection = (sectionId: SectionId, offset: number = 80) => {\r\n  const element = document.getElementById(sectionId)\r\n  if (element) {\r\n    const elementTop = element.offsetTop - offset\r\n    \r\n    window.scrollTo({\r\n      top: elementTop,\r\n      behavior: 'smooth'\r\n    })\r\n  }\r\n}\r\n","import { useState, useEffect, useCallback, useMemo } from 'react'\r\nimport { skillsAPI } from '../services/api'\r\nimport { Skill } from '../types'\r\nimport { useSiteSettings } from './useSiteSettings'\r\n\r\n/**\r\n * ì‚¬ì´ë“œë°”ì— í‘œì‹œí•  ìŠ¤í‚¬ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ëŠ” ì»¤ìŠ¤í…€ í›…\r\n * \r\n * @returns {Object} ìŠ¤í‚¬ ë°ì´í„° ë° ë¡œë”© ìƒíƒœ\r\n * @property {Skill[]} coreSkills - ì‚¬ì´ë“œë°”ì— í‘œì‹œí•  í•µì‹¬ ê¸°ìˆ \r\n * @property {Skill[]} languageSkills - ì–¸ì–´ ì¹´ë“œì— í‘œì‹œí•  ì–¸ì–´ ìŠ¤í‚¬\r\n * @property {boolean} isLoadingSkills - ìŠ¤í‚¬ ë°ì´í„° ë¡œë”© ìƒíƒœ\r\n */\r\nexport const useSidebarSkills = () => {\r\n  const [coreSkills, setCoreSkills] = useState<Skill[]>([])\r\n  const [languageSkills, setLanguageSkills] = useState<Skill[]>([])\r\n  const [isLoadingSkills, setIsLoadingSkills] = useState(false)\r\n  const { settings: siteSettings } = useSiteSettings()\r\n\r\n  // ìŠ¤í‚¬ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ (useCallbackìœ¼ë¡œ ë©”ëª¨ì´ì œì´ì…˜)\r\n  const fetchSkills = useCallback(async () => {\r\n    setIsLoadingSkills(true)\r\n    try {\r\n      const response = await skillsAPI.getAll()\r\n      const allSkills = response.data || []\r\n      \r\n      // ì‚¬ì´ë“œë°” í•µì‹¬ ê¸°ìˆ  í•„í„°ë§ (showInSidebar: true)\r\n      let sidebarSkills = allSkills\r\n        .filter((skill: Skill) => skill.showInSidebar)\r\n        .sort((a: Skill, b: Skill) => a.order - b.order)\r\n        .slice(0, siteSettings?.sidebarSkillCount || 4)\r\n      \r\n      // ì„ íƒëœ ìŠ¤í‚¬ì´ ì—†ìœ¼ë©´ ë ˆë²¨ ë†’ì€ ìˆœìœ¼ë¡œ fallback\r\n      if (sidebarSkills.length === 0) {\r\n        sidebarSkills = allSkills\r\n          .sort((a: Skill, b: Skill) => b.level - a.level)\r\n          .slice(0, siteSettings?.sidebarSkillCount || 4)\r\n      }\r\n      setCoreSkills(sidebarSkills)\r\n      \r\n      // ì–¸ì–´ ì¹´ë“œ ìŠ¤í‚¬ í•„í„°ë§ (showInLanguageCard: true)\r\n      // ë ˆë²¨ ë†’ì€ ìˆœìœ¼ë¡œ ì •ë ¬ (ì™¼ìª½ì— ì˜í•˜ëŠ” ì–¸ì–´)\r\n      let langSkills = allSkills\r\n        .filter((skill: Skill) => skill.showInLanguageCard)\r\n        .sort((a: Skill, b: Skill) => b.level - a.level)\r\n        .slice(0, siteSettings?.languageCardSkillCount || 3)\r\n      \r\n      // ì„ íƒëœ ì–¸ì–´ ìŠ¤í‚¬ì´ ì—†ìœ¼ë©´ ë¹ˆ ë°°ì—´ ìœ ì§€ (ì–¸ì–´ ì¹´ë“œëŠ” ìˆ¨ê¹€)\r\n      setLanguageSkills(langSkills)\r\n    } catch (error) {\r\n      console.error('ìŠ¤í‚¬ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error)\r\n      // ì—ëŸ¬ ì‹œ ë¹ˆ ë°°ì—´ë¡œ ì„¤ì •í•˜ì—¬ \"ìŠ¤í‚¬ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤\" ë©”ì‹œì§€ í‘œì‹œ\r\n      setCoreSkills([])\r\n      setLanguageSkills([])\r\n    } finally {\r\n      setIsLoadingSkills(false)\r\n    }\r\n  }, [siteSettings?.sidebarSkillCount, siteSettings?.languageCardSkillCount])\r\n\r\n  useEffect(() => {\r\n    fetchSkills()\r\n  }, [fetchSkills])\r\n\r\n  // ë°˜í™˜ ê°ì²´ë¥¼ useMemoë¡œ ë©”ëª¨ì´ì œì´ì…˜í•˜ì—¬ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€\r\n  return useMemo(() => ({\r\n    coreSkills,\r\n    languageSkills,\r\n    isLoadingSkills\r\n  }), [coreSkills, languageSkills, isLoadingSkills])\r\n}\r\n\r\n","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { booksAPI } from '../services/api'\r\nimport { Book, BookFormData, BookUpdateData } from '../types'\r\n\r\n// ğŸ’¡ ì„œì  ê´€ë ¨ ì¿¼ë¦¬ í‚¤ ìƒìˆ˜ - ëª¨ë“  ì„œì  ë°ì´í„° ìºì‹œì˜ ê¸°ì¤€ì \r\nexport const BOOK_QUERY_KEY = 'books'\r\n\r\n// =================================================================\r\n// ğŸ“š ì„œì  ëª©ë¡ ì¡°íšŒ (React Query)\r\n// =================================================================\r\n\r\nexport const useBooks = () => {\r\n  return useQuery<Book[], Error>({\r\n    queryKey: [BOOK_QUERY_KEY, 'list'],\r\n    queryFn: async () => {\r\n      const response = await booksAPI.getAll()\r\n      return response.data.data || response.data || []\r\n    },\r\n    staleTime: 5 * 60 * 1000, // 5ë¶„ ë™ì•ˆ ìºì‹œ ìœ ì§€\r\n    gcTime: 10 * 60 * 1000, // 10ë¶„ í›„ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// ğŸ“– ê°œë³„ ì„œì  ìƒì„¸ ì¡°íšŒ (React Query)\r\n// =================================================================\r\n\r\nexport const useBook = (bookId: string | undefined) => {\r\n  return useQuery<Book, Error>({\r\n    queryKey: [BOOK_QUERY_KEY, 'detail', bookId],\r\n    queryFn: async () => {\r\n      if (!bookId) throw new Error('Book ID is required')\r\n      const response = await booksAPI.getById(bookId)\r\n      return response.data\r\n    },\r\n    enabled: !!bookId, // bookIdê°€ ìˆì„ ë•Œë§Œ ì‹¤í–‰\r\n    staleTime: 5 * 60 * 1000,\r\n    gcTime: 10 * 60 * 1000,\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// âœï¸ ì„œì  ìƒì„± (React Query Mutation)\r\n// =================================================================\r\n\r\nexport const useCreateBook = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation<Book, Error, BookFormData>({\r\n    mutationFn: async (bookData: BookFormData) => {\r\n      const response = await booksAPI.create(bookData)\r\n      return response.data\r\n    },\r\n    onSuccess: () => {\r\n      // ğŸ’¡ ì„œì  ëª©ë¡ ìºì‹œ ë¬´íš¨í™” â†’ ìë™ìœ¼ë¡œ ë‹¤ì‹œ fetch\r\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'list'] })\r\n      // ğŸ’¡ ë°ì´í„° ì¹´ìš´íŠ¸ë„ ë¬´íš¨í™”í•˜ì—¬ ì„œì  ê°œìˆ˜ ì—…ë°ì´íŠ¸\r\n      queryClient.invalidateQueries({ queryKey: ['dataCounts'] })\r\n    },\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// ğŸ”„ ì„œì  ìˆ˜ì • (React Query Mutation)\r\n// =================================================================\r\n\r\nexport const useUpdateBook = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation<Book, Error, { id: string; data: BookUpdateData }>({\r\n    mutationFn: async ({ id, data }) => {\r\n      const response = await booksAPI.update(id, data)\r\n      return response.data\r\n    },\r\n    onSuccess: (_, variables) => {\r\n      // ğŸ’¡ ì„œì  ëª©ë¡ ìºì‹œ ë¬´íš¨í™”\r\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'list'] })\r\n      // ğŸ’¡ í•´ë‹¹ ì„œì  ìƒì„¸ ìºì‹œë„ ë¬´íš¨í™”\r\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'detail', variables.id] })\r\n    },\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// ğŸ—‘ï¸ ì„œì  ì‚­ì œ (React Query Mutation)\r\n// =================================================================\r\n\r\nexport const useDeleteBook = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation<void, Error, string>({\r\n    mutationFn: async (id: string) => {\r\n      await booksAPI.delete(id)\r\n    },\r\n    onSuccess: () => {\r\n      // ğŸ’¡ ì„œì  ëª©ë¡ ìºì‹œ ë¬´íš¨í™”\r\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'list'] })\r\n      // ğŸ’¡ ë°ì´í„° ì¹´ìš´íŠ¸ë„ ë¬´íš¨í™”í•˜ì—¬ ì„œì  ê°œìˆ˜ ì—…ë°ì´íŠ¸\r\n      queryClient.invalidateQueries({ queryKey: ['dataCounts'] })\r\n    },\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// ğŸ”„ ê¸°ì¡´ í›… í˜¸í™˜ì„± ìœ ì§€ (ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ê°€ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡)\r\n// =================================================================\r\n\r\nexport const useBookManagerData = () => {\r\n  const { data: books = [], isLoading, isError, error, refetch } = useBooks()\r\n  const createMutation = useCreateBook()\r\n  const updateMutation = useUpdateBook()\r\n  const deleteMutation = useDeleteBook()\r\n\r\n  const createBook = async (bookData: BookFormData) => {\r\n    try {\r\n      const result = await createMutation.mutateAsync(bookData)\r\n      return { success: true, data: result }\r\n    } catch (error) {\r\n      console.error('ì„œì  ì¶”ê°€ ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }\r\n\r\n  const updateBook = async (id: string, bookData: BookUpdateData) => {\r\n    try {\r\n      const result = await updateMutation.mutateAsync({ id, data: bookData })\r\n      return { success: true, data: result }\r\n    } catch (error) {\r\n      console.error('ì„œì  ìˆ˜ì • ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }\r\n\r\n  const deleteBook = async (id: string) => {\r\n    try {\r\n      await deleteMutation.mutateAsync(id)\r\n      return { success: true }\r\n    } catch (error) {\r\n      console.error('ì„œì  ì‚­ì œ ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }\r\n\r\n  return {\r\n    books,\r\n    isLoading,\r\n    error: isError ? (error?.message || 'ì„œì ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.') : null,\r\n    isOptimistic: false, // React QueryëŠ” ìì²´ì ìœ¼ë¡œ ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ì§€ì›\r\n    createBook,\r\n    updateBook,\r\n    deleteBook,\r\n    refetch,\r\n  }\r\n}\r\n\r\nexport default useBooks\r\n","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { categoriesAPI } from '../services/api'\r\nimport { Category, CategoryFormData, CategoryUsage } from '../types'\r\n\r\n// ì¿¼ë¦¬ í‚¤\r\nconst CATEGORIES_QUERY_KEY = ['categories']\r\n\r\n// ğŸ” ëª¨ë“  ì¹´í…Œê³ ë¦¬ ì¡°íšŒ\r\nexport const useCategories = () => {\r\n  return useQuery({\r\n    queryKey: CATEGORIES_QUERY_KEY,\r\n    queryFn: async () => {\r\n      const response = await categoriesAPI.getAll()\r\n      return response.data\r\n    }\r\n  })\r\n}\r\n\r\n// ğŸ” íŠ¹ì • ì¹´í…Œê³ ë¦¬ ì¡°íšŒ\r\nexport const useCategory = (id: string | undefined) => {\r\n  return useQuery({\r\n    queryKey: [...CATEGORIES_QUERY_KEY, id],\r\n    queryFn: async () => {\r\n      if (!id) throw new Error('IDê°€ í•„ìš”í•©ë‹ˆë‹¤')\r\n      const response = await categoriesAPI.getById(id)\r\n      return response.data\r\n    },\r\n    enabled: !!id\r\n  })\r\n}\r\n\r\n// ğŸ“Š ì¹´í…Œê³ ë¦¬ ì‚¬ìš© í†µê³„ ì¡°íšŒ\r\nexport const useCategoryUsage = (id: string | undefined) => {\r\n  return useQuery({\r\n    queryKey: [...CATEGORIES_QUERY_KEY, id, 'usage'],\r\n    queryFn: async () => {\r\n      if (!id) throw new Error('IDê°€ í•„ìš”í•©ë‹ˆë‹¤')\r\n      const response = await categoriesAPI.getUsage(id)\r\n      return response.data\r\n    },\r\n    enabled: !!id\r\n  })\r\n}\r\n\r\n// âœï¸ ì¹´í…Œê³ ë¦¬ ìƒì„±\r\nexport const useCreateCategory = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation({\r\n    mutationFn: async (data: CategoryFormData) => {\r\n      const response = await categoriesAPI.create(data)\r\n      return response.data\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: CATEGORIES_QUERY_KEY })\r\n    }\r\n  })\r\n}\r\n\r\n// ğŸ”„ ì¹´í…Œê³ ë¦¬ ìˆ˜ì •\r\nexport const useUpdateCategory = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation({\r\n    mutationFn: async ({ id, data }: { id: string; data: CategoryFormData }) => {\r\n      const response = await categoriesAPI.update(id, data)\r\n      return response.data\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: CATEGORIES_QUERY_KEY })\r\n    }\r\n  })\r\n}\r\n\r\n// ğŸ—‘ï¸ ì¹´í…Œê³ ë¦¬ ì‚­ì œ\r\nexport const useDeleteCategory = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation({\r\n    mutationFn: async (id: string) => {\r\n      const response = await categoriesAPI.delete(id)\r\n      return response.data\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: CATEGORIES_QUERY_KEY })\r\n    }\r\n  })\r\n}\r\n\r\n// ğŸ”§ ì¹´í…Œê³ ë¦¬ ê´€ë¦¬ë¥¼ ìœ„í•œ í†µí•© í›…\r\nexport const useCategoryManagerData = () => {\r\n  const { data: categories = [], isLoading } = useCategories()\r\n  const createMutation = useCreateCategory()\r\n  const updateMutation = useUpdateCategory()\r\n  const deleteMutation = useDeleteCategory()\r\n\r\n  return {\r\n    categories,\r\n    isLoading,\r\n    createCategory: async (data: CategoryFormData) => {\r\n      try {\r\n        await createMutation.mutateAsync(data)\r\n        return { success: true }\r\n      } catch (error: any) {\r\n        console.error('ì¹´í…Œê³ ë¦¬ ìƒì„± ì‹¤íŒ¨:', error)\r\n        return { success: false, error }\r\n      }\r\n    },\r\n    updateCategory: async (id: string, data: CategoryFormData) => {\r\n      try {\r\n        await updateMutation.mutateAsync({ id, data })\r\n        return { success: true }\r\n      } catch (error: any) {\r\n        console.error('ì¹´í…Œê³ ë¦¬ ìˆ˜ì • ì‹¤íŒ¨:', error)\r\n        return { success: false, error }\r\n      }\r\n    },\r\n    deleteCategory: async (id: string) => {\r\n      try {\r\n        await deleteMutation.mutateAsync(id)\r\n        return { success: true }\r\n      } catch (error: any) {\r\n        console.error('ì¹´í…Œê³ ë¦¬ ì‚­ì œ ì‹¤íŒ¨:', error)\r\n        return { success: false, error }\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { useState } from 'react'\r\nimport { useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { learningsAPI } from '../services/api'\r\nimport { Learning, LearningFormData, Book, Chapter } from '../types'\r\nimport { BOOK_QUERY_KEY } from './useBooks'\r\n\r\n/**\r\n * ğŸŒŸ React Query ê¸°ë°˜ í•™ìŠµ ë‚´ìš©(Learning) ê´€ë¦¬ í›…\r\n * \r\n * ì£¼ìš” ê°œì„ ì‚¬í•­:\r\n * 1. React Query Mutation ì‚¬ìš©ìœ¼ë¡œ ìºì‹œ ìë™ ê´€ë¦¬\r\n * 2. ì„œì  ìƒì„¸ ì •ë³´ ìºì‹œ ë¬´íš¨í™”ë¡œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸\r\n * 3. ë°ì´í„° ì¹´ìš´íŠ¸ ìë™ ë™ê¸°í™”\r\n * 4. ìŠ¤í‚¬ ì—°ê²°/í•´ì œ ë‚™ê´€ì  ì—…ë°ì´íŠ¸\r\n */\r\n\r\n// =================================================================\r\n// âœï¸ í•™ìŠµ ë‚´ìš© ìƒì„± (React Query Mutation)\r\n// =================================================================\r\n\r\nexport const useCreateLearning = (bookId: string) => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation<Learning, Error, LearningFormData>({\r\n    mutationFn: async (data: LearningFormData) => {\r\n      const response = await learningsAPI.createForBook(bookId, data)\r\n      return response.data\r\n    },\r\n    onSuccess: () => {\r\n      // ğŸ’¡ í•´ë‹¹ ì„œì  ìƒì„¸ ìºì‹œ ë¬´íš¨í™” â†’ BookDetail ìë™ ì—…ë°ì´íŠ¸\r\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'detail', bookId] })\r\n      // ğŸ’¡ ì„œì  ëª©ë¡ë„ ë¬´íš¨í™” (learnings ë°°ì—´ì´ í¬í•¨ë  ìˆ˜ ìˆìŒ)\r\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'list'] })\r\n      // ğŸ’¡ ëª©ì°¨(chapters) ìºì‹œë„ ë¬´íš¨í™”\r\n      queryClient.invalidateQueries({ queryKey: ['chapters', bookId] })\r\n    },\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// ğŸ”„ í•™ìŠµ ë‚´ìš© ìˆ˜ì • (React Query Mutation)\r\n// =================================================================\r\n\r\nexport const useUpdateLearning = (bookId: string) => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation<Learning, Error, { learningId: string; data: LearningFormData }>({\r\n    mutationFn: async ({ learningId, data }) => {\r\n      const response = await learningsAPI.updateForBook(bookId, learningId, data)\r\n      return response.data\r\n    },\r\n    onSuccess: () => {\r\n      // ğŸ’¡ í•´ë‹¹ ì„œì  ìƒì„¸ ìºì‹œ ë¬´íš¨í™”\r\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'detail', bookId] })\r\n      // ğŸ’¡ ì„œì  ëª©ë¡ë„ ë¬´íš¨í™”\r\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'list'] })\r\n      // ğŸ’¡ ëª©ì°¨(chapters) ìºì‹œë„ ë¬´íš¨í™”\r\n      queryClient.invalidateQueries({ queryKey: ['chapters', bookId] })\r\n    },\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// ğŸ—‘ï¸ í•™ìŠµ ë‚´ìš© ì‚­ì œ (React Query Mutation)\r\n// =================================================================\r\n\r\nexport const useDeleteLearning = (bookId: string) => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation<void, Error, string>({\r\n    mutationFn: async (learningId: string) => {\r\n      await learningsAPI.deleteForBook(bookId, learningId)\r\n    },\r\n    onSuccess: () => {\r\n      // ğŸ’¡ í•´ë‹¹ ì„œì  ìƒì„¸ ìºì‹œ ë¬´íš¨í™”\r\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'detail', bookId] })\r\n      // ğŸ’¡ ì„œì  ëª©ë¡ë„ ë¬´íš¨í™”\r\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'list'] })\r\n      // ğŸ’¡ ëª©ì°¨(chapters) ìºì‹œë„ ë¬´íš¨í™”\r\n      queryClient.invalidateQueries({ queryKey: ['chapters', bookId] })\r\n    },\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// ğŸ”— í•™ìŠµ ë‚´ìš© ìŠ¤í‚¬ ì—…ë°ì´íŠ¸ (React Query Mutation)\r\n// =================================================================\r\n\r\nexport const useUpdateLearningSkills = (bookId: string) => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation<Learning, Error, { learningId: string; skillIds: string[] }>({\r\n    mutationFn: async ({ learningId, skillIds }) => {\r\n      // ğŸ’¡ learningsAPI.updateSkills í•¨ìˆ˜ ì‚¬ìš©\r\n      const response = await learningsAPI.updateSkills(bookId, learningId, skillIds)\r\n      return response.data\r\n    },\r\n    onSuccess: () => {\r\n      // ìŠ¤í‚¬ ì—…ë°ì´íŠ¸ ì„±ê³µ ì‹œ, Book Detail ìºì‹œë¥¼ ë¬´íš¨í™”í•˜ì—¬ ëª¨ë“  UIë¥¼ ìƒˆë¡œê³ ì¹¨\r\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'detail', bookId] })\r\n      // ì„œì  ëª©ë¡ë„ ë¬´íš¨í™”\r\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'list'] })\r\n      // ëª©ì°¨(chapters) ìºì‹œë„ ë¬´íš¨í™”\r\n      queryClient.invalidateQueries({ queryKey: ['chapters', bookId] })\r\n    },\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// ğŸ”„ ê¸°ì¡´ í›… í˜¸í™˜ì„± ìœ ì§€ (useLearningManager)\r\n// =================================================================\r\n\r\n/**\r\n * í•™ìŠµ ë‚´ìš©(Learning)ì˜ ì¶”ê°€, ìˆ˜ì •, ì‚­ì œ ë° í¼ ìƒíƒœ ê´€ë¦¬ë¥¼ ë‹´ë‹¹í•˜ëŠ” ì»¤ìŠ¤í…€ í›…\r\n * @param bookId í˜„ì¬ ì„œì  ID\r\n */\r\nexport const useLearningManager = (bookId: string) => {\r\n  const queryClient = useQueryClient()\r\n  \r\n  // í¼ ë° ì•¡ì…˜ ê´€ë ¨ ìƒíƒœ\r\n  const [editingLearningId, setEditingLearningId] = useState<string | null>(null)\r\n  const [editingChapterId, setEditingChapterId] = useState<string | null>(null)\r\n  const [currentFormData, setCurrentFormData] = useState<LearningFormData>({ \r\n    topic: '', \r\n    topicEn: '',\r\n    topicJa: '',\r\n    content: '',\r\n    contentEn: '',\r\n    contentJa: ''\r\n  })\r\n  const [showAddForm, setShowAddForm] = useState(false)\r\n  const [apiError, setApiError] = useState<string | null>(null)\r\n\r\n  // React Query Mutations\r\n  const createMutation = useCreateLearning(bookId)\r\n  const updateMutation = useUpdateLearning(bookId)\r\n  const deleteMutation = useDeleteLearning(bookId)\r\n  const updateSkillsMutation = useUpdateLearningSkills(bookId)  // ğŸŒŸ ìŠ¤í‚¬ ì—…ë°ì´íŠ¸ Mutation ì¶”ê°€\r\n\r\n  const isSaving = createMutation.isPending || updateMutation.isPending || deleteMutation.isPending || updateSkillsMutation.isPending\r\n\r\n  // í¼ ë‹«ê¸°/ì´ˆê¸°í™” ê³µí†µ ë¡œì§\r\n  const resetFormState = () => {\r\n    setEditingLearningId(null)\r\n    setEditingChapterId(null)\r\n    setCurrentFormData({ \r\n      topic: '', \r\n      topicEn: '',\r\n      topicJa: '',\r\n      content: '',\r\n      contentEn: '',\r\n      contentJa: ''\r\n    })\r\n    setShowAddForm(false)\r\n  }\r\n\r\n  // í•™ìŠµ ë‚´ìš© ì¶”ê°€ í¼ í‘œì‹œ/ìˆ¨ê¹€ í† ê¸€\r\n  const handleToggleAddForm = () => {\r\n    if (editingLearningId) {\r\n      handleCancelEdit()\r\n    }\r\n    if (showAddForm) {\r\n      setCurrentFormData({ \r\n        topic: '', \r\n        topicEn: '',\r\n        topicJa: '',\r\n        content: '',\r\n        contentEn: '',\r\n        contentJa: ''\r\n      })\r\n    }\r\n    setShowAddForm(prev => !prev)\r\n    setApiError(null)\r\n  }\r\n\r\n  // ğŸŒŸ í•™ìŠµ ë‚´ìš© ì¶”ê°€ (React Query Mutation ì‚¬ìš©)\r\n  const handleAddLearning = async () => {\r\n    if (!currentFormData.topic || !currentFormData.content) return\r\n\r\n    try {\r\n      setApiError(null)\r\n      await createMutation.mutateAsync(currentFormData)\r\n      resetFormState()\r\n    } catch (error) {\r\n      console.error('Failed to add learning:', error)\r\n      setApiError('í•™ìŠµ ë‚´ìš© ì¶”ê°€ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.')\r\n    }\r\n  }\r\n  \r\n  // ğŸŒŸ ëª©ì°¨ì— í•™ìŠµ ë‚´ìš© ì¶”ê°€\r\n  const handleAddLearningToChapter = async (chapterId: string) => {\r\n    if (!currentFormData.topic || !currentFormData.content) return\r\n\r\n    try {\r\n      setApiError(null)\r\n      await learningsAPI.createForChapter(bookId, chapterId, currentFormData)\r\n      resetFormState()\r\n      // React Query ìºì‹œ ë¬´íš¨í™”\r\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'detail', bookId] })\r\n      queryClient.invalidateQueries({ queryKey: ['chapters', bookId] })\r\n    } catch (error) {\r\n      console.error('Failed to add learning to chapter:', error)\r\n      setApiError('ëª©ì°¨ì— í•™ìŠµ ë‚´ìš© ì¶”ê°€ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.')\r\n    }\r\n  }\r\n\r\n  // ğŸŒŸ í•™ìŠµ ë‚´ìš© ì‚­ì œ (ëª©ì°¨ ê¸°ë°˜/ì§ì ‘ í•™ìŠµ ë‚´ìš© êµ¬ë¶„)\r\n  const handleDeleteLearning = async (learningId: string, chapterId?: string) => {\r\n    if (!confirm('ì´ í•™ìŠµ ë‚´ìš©ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return\r\n\r\n    try {\r\n      setApiError(null)\r\n      \r\n      // ëª©ì°¨ ê¸°ë°˜ í•™ìŠµ ë‚´ìš©ì¸ ê²½ìš°\r\n      if (chapterId) {\r\n        await learningsAPI.deleteForChapter(bookId, chapterId, learningId)\r\n        console.log('âœ… ëª©ì°¨ í•™ìŠµ ë‚´ìš© ì‚­ì œ ì„±ê³µ')\r\n      } else {\r\n        // ì§ì ‘ í•™ìŠµ ë‚´ìš©ì¸ ê²½ìš°\r\n        await deleteMutation.mutateAsync(learningId)\r\n      }\r\n      \r\n      // ìºì‹œ ë¬´íš¨í™”\r\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'detail', bookId] })\r\n      queryClient.invalidateQueries({ queryKey: ['chapters', bookId] })\r\n    } catch (error) {\r\n      console.error('Failed to delete learning:', error)\r\n      setApiError('í•™ìŠµ ë‚´ìš© ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.')\r\n    }\r\n  }\r\n\r\n  // í•™ìŠµ ë‚´ìš© ìˆ˜ì • ì‹œì‘\r\n  const handleStartEdit = (learning: Learning, chapterId?: string) => {\r\n    setShowAddForm(false)\r\n    setEditingLearningId(learning._id)\r\n    setEditingChapterId(chapterId || null)\r\n    setCurrentFormData({ \r\n      topic: learning.topic,\r\n      topicEn: learning.topicEn || '',\r\n      topicJa: learning.topicJa || '',\r\n      content: learning.content,\r\n      contentEn: learning.contentEn || '',\r\n      contentJa: learning.contentJa || ''\r\n    })\r\n    setApiError(null)\r\n  }\r\n\r\n  // ğŸŒŸ í•™ìŠµ ë‚´ìš© ìˆ˜ì • ì €ì¥ (ëª©ì°¨ ê¸°ë°˜/ì§ì ‘ í•™ìŠµ ë‚´ìš© êµ¬ë¶„)\r\n  const handleSaveEdit = async () => {\r\n    if (!editingLearningId || !currentFormData.topic || !currentFormData.content) return\r\n\r\n    try {\r\n      setApiError(null)\r\n      \r\n      // ëª©ì°¨ ê¸°ë°˜ í•™ìŠµ ë‚´ìš©ì¸ ê²½ìš°\r\n      if (editingChapterId) {\r\n        const response = await learningsAPI.updateForChapter(\r\n          bookId, \r\n          editingChapterId, \r\n          editingLearningId, \r\n          currentFormData\r\n        )\r\n        console.log('âœ… ëª©ì°¨ í•™ìŠµ ë‚´ìš© ìˆ˜ì • ì„±ê³µ:', response.data)\r\n      } else {\r\n        // ì§ì ‘ í•™ìŠµ ë‚´ìš©ì¸ ê²½ìš°\r\n        await updateMutation.mutateAsync({\r\n          learningId: editingLearningId,\r\n          data: currentFormData\r\n        })\r\n      }\r\n      \r\n      // ìºì‹œ ë¬´íš¨í™”\r\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'detail', bookId] })\r\n      queryClient.invalidateQueries({ queryKey: ['chapters', bookId] })\r\n      \r\n      resetFormState()\r\n    } catch (error) {\r\n      console.error('Failed to update learning:', error)\r\n      setApiError('í•™ìŠµ ë‚´ìš© ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.')\r\n    }\r\n  }\r\n\r\n  // í•™ìŠµ ë‚´ìš© ìˆ˜ì • ì·¨ì†Œ\r\n  const handleCancelEdit = () => {\r\n    resetFormState()\r\n    setApiError(null)\r\n  }\r\n\r\n  // =================================================================\r\n  // ğŸŒŸ ìŠ¤í‚¬ ì—°ê²°/í•´ì œ í•¸ë“¤ëŸ¬ (ë‚™ê´€ì  ì—…ë°ì´íŠ¸ í¬í•¨)\r\n  // =================================================================\r\n\r\n  /**\r\n   * íŠ¹ì • í•™ìŠµ ë‚´ìš©ì— ìŠ¤í‚¬ì„ ì—°ê²°í•˜ê±°ë‚˜ í•´ì œí•©ë‹ˆë‹¤.\r\n   * ë‚™ê´€ì  ì—…ë°ì´íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ UI ë°˜ì‘ ì†ë„ë¥¼ ë†’ì…ë‹ˆë‹¤.\r\n   */\r\n  const handleSkillLinkChange = async (learningId: string, skillId: string, isLinked: boolean) => {\r\n    const queryKey = [BOOK_QUERY_KEY, 'detail', bookId]\r\n    const chaptersQueryKey = ['chapters', bookId]\r\n    \r\n    // 1. Optimistic Updateë¥¼ ìœ„í•œ í˜„ì¬ ìºì‹œ ê°€ì ¸ì˜¤ê¸°\r\n    const previousBook = queryClient.getQueryData<Book>(queryKey)\r\n    const previousChapters = queryClient.getQueryData<Chapter[]>(chaptersQueryKey)\r\n\r\n    try {\r\n      setApiError(null)\r\n\r\n      // 2. ìƒˆë¡œìš´ skillIds ë°°ì—´ ê³„ì‚°\r\n      let newSkillIds: string[] = []\r\n      \r\n      // í˜„ì¬ í•™ìŠµ ë‚´ìš©ì„ ì°¾ê¸°\r\n      const currentLearning = (previousChapters || []).flatMap(c => c.learnings || []).find(l => l._id === learningId)\r\n                              || (previousBook?.learnings || []).find(l => l._id === learningId)\r\n\r\n      if (currentLearning) {\r\n        const currentSkillIds = currentLearning.skillIds || []\r\n        if (isLinked) {\r\n          // ì—°ê²°: skillId ì¶”ê°€ (ì¤‘ë³µ ë°©ì§€)\r\n          newSkillIds = Array.from(new Set([...currentSkillIds, skillId]))\r\n        } else {\r\n          // í•´ì œ: skillId ì œê±°\r\n          newSkillIds = currentSkillIds.filter((id: string) => id !== skillId)\r\n        }\r\n      } else {\r\n        // Learningì„ ì°¾ì„ ìˆ˜ ì—†ëŠ” ê²½ìš°\r\n        newSkillIds = isLinked ? [skillId] : []\r\n      }\r\n      \r\n      // 3. Optimistic Update ì‹¤í–‰: chapters ìºì‹œ ì—…ë°ì´íŠ¸\r\n      if (previousChapters) {\r\n        queryClient.setQueryData<Chapter[]>(chaptersQueryKey, (oldChapters) => {\r\n          if (!oldChapters) return oldChapters\r\n          \r\n          return oldChapters.map((chapter) => ({\r\n            ...chapter,\r\n            learnings: (chapter.learnings || []).map((learning) => \r\n              learning._id === learningId ? { ...learning, skillIds: newSkillIds } : learning\r\n            )\r\n          }))\r\n        })\r\n      }\r\n      \r\n      // Book ìºì‹œë„ ì—…ë°ì´íŠ¸ (ê¸°ì¡´ learnings ì§€ì›)\r\n      if (previousBook) {\r\n        queryClient.setQueryData<Book>(queryKey, (oldBook) => {\r\n          if (!oldBook) return oldBook\r\n          \r\n          // ëª©ì°¨ ê¸°ë°˜ì¼ ê²½ìš°\r\n          if (oldBook.chapters && oldBook.chapters.length > 0) {\r\n            return {\r\n              ...oldBook,\r\n              chapters: oldBook.chapters.map((chapter: Chapter) => ({\r\n                ...chapter,\r\n                learnings: (chapter.learnings || []).map((learning: Learning) => \r\n                  learning._id === learningId ? { ...learning, skillIds: newSkillIds } : learning\r\n                )\r\n              }))\r\n            }\r\n          }\r\n          \r\n          // ê¸°ì¡´ í•™ìŠµ ë‚´ìš© ë¦¬ìŠ¤íŠ¸ ê¸°ë°˜ì¼ ê²½ìš°\r\n          return {\r\n            ...oldBook,\r\n            learnings: (oldBook.learnings || []).map((learning: Learning) => \r\n              learning._id === learningId ? { ...learning, skillIds: newSkillIds } : learning\r\n            )\r\n          }\r\n        })\r\n      }\r\n\r\n      // 4. ì„œë²„ API í˜¸ì¶œ\r\n      await updateSkillsMutation.mutateAsync({ learningId, skillIds: newSkillIds })\r\n\r\n    } catch (error) {\r\n      console.error('Failed to update learning skills:', error)\r\n      setApiError('ìŠ¤í‚¬ ì—°ê²°/í•´ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.')\r\n\r\n      // 5. ì—ëŸ¬ ë°œìƒ ì‹œ ë¡¤ë°±: ì´ì „ ë°ì´í„°ë¡œ ë³µì›\r\n      if (previousChapters) {\r\n        queryClient.setQueryData(chaptersQueryKey, previousChapters)\r\n      }\r\n      if (previousBook) {\r\n        queryClient.setQueryData(queryKey, previousBook)\r\n      } else {\r\n        // ì´ì „ ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ìºì‹œë¥¼ ë¬´íš¨í™”í•˜ì—¬ ì„œë²„ì—ì„œ ë‹¤ì‹œ ê°€ì ¸ì˜¤ë„ë¡ í•©ë‹ˆë‹¤\r\n        queryClient.invalidateQueries({ queryKey })\r\n        queryClient.invalidateQueries({ queryKey: chaptersQueryKey })\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    editingLearningId,\r\n    currentFormData,\r\n    setCurrentFormData,\r\n    showAddForm,\r\n    isSaving,\r\n    learningApiError: apiError,\r\n    handleToggleAddForm,\r\n    handleAddLearning,\r\n    handleAddLearningToChapter,  // ğŸŒŸ ëª©ì°¨ì— í•™ìŠµ ë‚´ìš© ì¶”ê°€\r\n    handleDeleteLearning,\r\n    handleStartEdit,\r\n    handleSaveEdit,\r\n    handleCancelEdit,\r\n    handleSkillLinkChange,  // ğŸŒŸ ìƒˆë¡œìš´ í•¸ë“¤ëŸ¬ ì¶”ê°€\r\n  }\r\n}\r\n","import { useQuery } from '@tanstack/react-query';\r\nimport { skillsAPI } from '../services/api';\r\nimport { SkillCategory } from '../types';\r\n\r\ninterface UseSkillsResult {\r\n  skillCategories: SkillCategory[];\r\n  loading: boolean;\r\n  error: string | null;\r\n  refetch: () => void;\r\n}\r\n\r\n// React Queryë¥¼ ì‚¬ìš©í•œ ë°ì´í„° í˜ì¹­\r\nconst fetchSkillCategories = async (): Promise<SkillCategory[]> => {\r\n  const response = await skillsAPI.getCategories();\r\n  // API ì‘ë‹µì´ { data: [...] } í˜•íƒœì¸ì§€ í™•ì¸\r\n  const categories = response.data?.data || response.data || [];\r\n  return categories;\r\n};\r\n\r\nexport const useSkills = (): UseSkillsResult => {\r\n  const {\r\n    data: skillCategories = [],\r\n    isLoading: loading,\r\n    error,\r\n    refetch\r\n  } = useQuery({\r\n    queryKey: ['skillCategories'],\r\n    queryFn: fetchSkillCategories,\r\n    staleTime: 5 * 60 * 1000, // 5ë¶„\r\n    gcTime: 10 * 60 * 1000, // 10ë¶„\r\n  });\r\n\r\n  return { \r\n    skillCategories, \r\n    loading, \r\n    error: error ? 'ìŠ¤í‚¬ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.' : null, \r\n    refetch \r\n  };\r\n};\r\n","import { useQuery, useMutation, useQueryClient, UseQueryResult } from '@tanstack/react-query'\r\nimport { videoLearningsAPI } from '../services/api'\r\nimport { VideoLearning, VideoLearningFormData } from '../types'\r\n\r\n// =================================================================\r\n// ğŸ“¹ VideoLearning Query Keys\r\n// =================================================================\r\n\r\nconst VIDEO_LEARNING_QUERY_KEY = 'videoLearnings'\r\n\r\n// =================================================================\r\n// ğŸ“¥ ì˜ìƒ í•™ìŠµ ëª©ë¡ ì¡°íšŒ (React Query)\r\n// =================================================================\r\n\r\nexport const useVideoLearnings = (): UseQueryResult<VideoLearning[], Error> => {\r\n  return useQuery<VideoLearning[], Error>({\r\n    queryKey: [VIDEO_LEARNING_QUERY_KEY, 'list'],\r\n    queryFn: async () => {\r\n      const response = await videoLearningsAPI.getAll()\r\n      return response.data?.data || response.data || []\r\n    },\r\n    staleTime: 5 * 60 * 1000,  // 5ë¶„\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// ğŸ“¥ íŠ¹ì • ì˜ìƒ í•™ìŠµ ì¡°íšŒ (React Query)\r\n// =================================================================\r\n\r\nexport const useVideoLearning = (id: string | undefined): UseQueryResult<VideoLearning, Error> => {\r\n  return useQuery<VideoLearning, Error>({\r\n    queryKey: [VIDEO_LEARNING_QUERY_KEY, 'detail', id],\r\n    queryFn: async () => {\r\n      if (!id) throw new Error('ID is required')\r\n      const response = await videoLearningsAPI.getById(id)\r\n      return response.data\r\n    },\r\n    enabled: !!id,\r\n    staleTime: 5 * 60 * 1000,\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// â• ì˜ìƒ í•™ìŠµ ìƒì„± (React Query Mutation)\r\n// =================================================================\r\n\r\nexport const useCreateVideoLearning = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation<VideoLearning, Error, VideoLearningFormData>({\r\n    mutationFn: async (data: VideoLearningFormData) => {\r\n      const response = await videoLearningsAPI.create(data)\r\n      return response.data\r\n    },\r\n    onSuccess: () => {\r\n      // ëª©ë¡ ìºì‹œ ë¬´íš¨í™”\r\n      queryClient.invalidateQueries({ queryKey: [VIDEO_LEARNING_QUERY_KEY, 'list'] })\r\n      // ë°ì´í„° ì¹´ìš´íŠ¸ë„ ë¬´íš¨í™”\r\n      queryClient.invalidateQueries({ queryKey: ['dataCounts'] })\r\n    },\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// âœï¸ ì˜ìƒ í•™ìŠµ ìˆ˜ì • (React Query Mutation)\r\n// =================================================================\r\n\r\nexport const useUpdateVideoLearning = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation<VideoLearning, Error, { id: string; data: VideoLearningFormData }>({\r\n    mutationFn: async ({ id, data }) => {\r\n      const response = await videoLearningsAPI.update(id, data)\r\n      return response.data\r\n    },\r\n    onSuccess: (_, variables) => {\r\n      // ëª©ë¡ ìºì‹œ ë¬´íš¨í™”\r\n      queryClient.invalidateQueries({ queryKey: [VIDEO_LEARNING_QUERY_KEY, 'list'] })\r\n      // í•´ë‹¹ ì˜ìƒ í•™ìŠµ ìƒì„¸ ìºì‹œë„ ë¬´íš¨í™”\r\n      queryClient.invalidateQueries({ queryKey: [VIDEO_LEARNING_QUERY_KEY, 'detail', variables.id] })\r\n    },\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// ğŸ—‘ï¸ ì˜ìƒ í•™ìŠµ ì‚­ì œ (React Query Mutation)\r\n// =================================================================\r\n\r\nexport const useDeleteVideoLearning = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation<void, Error, string>({\r\n    mutationFn: async (id: string) => {\r\n      await videoLearningsAPI.delete(id)\r\n    },\r\n    onSuccess: () => {\r\n      // ëª©ë¡ ìºì‹œ ë¬´íš¨í™”\r\n      queryClient.invalidateQueries({ queryKey: [VIDEO_LEARNING_QUERY_KEY, 'list'] })\r\n      // ë°ì´í„° ì¹´ìš´íŠ¸ë„ ë¬´íš¨í™”\r\n      queryClient.invalidateQueries({ queryKey: ['dataCounts'] })\r\n    },\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// ğŸ”„ ê¸°ì¡´ í›… í˜¸í™˜ì„± ìœ ì§€ (ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ê°€ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡)\r\n// =================================================================\r\n\r\nexport const useVideoLearningManagerData = () => {\r\n  const { data: videoLearnings = [], isLoading, isError, error, refetch } = useVideoLearnings()\r\n  const createMutation = useCreateVideoLearning()\r\n  const updateMutation = useUpdateVideoLearning()\r\n  const deleteMutation = useDeleteVideoLearning()\r\n\r\n  const createVideoLearning = async (data: VideoLearningFormData) => {\r\n    try {\r\n      await createMutation.mutateAsync(data)\r\n      return { success: true }\r\n    } catch (error) {\r\n      console.error('VideoLearning ìƒì„± ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }\r\n\r\n  const updateVideoLearning = async (id: string, data: VideoLearningFormData) => {\r\n    try {\r\n      await updateMutation.mutateAsync({ id, data })\r\n      return { success: true }\r\n    } catch (error) {\r\n      console.error('VideoLearning ìˆ˜ì • ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }\r\n\r\n  const deleteVideoLearning = async (id: string) => {\r\n    try {\r\n      await deleteMutation.mutateAsync(id)\r\n      return { success: true }\r\n    } catch (error) {\r\n      console.error('VideoLearning ì‚­ì œ ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }\r\n\r\n  return {\r\n    videoLearnings,\r\n    isLoading,\r\n    error: isError ? error : null,\r\n    createVideoLearning,\r\n    updateVideoLearning,\r\n    deleteVideoLearning,\r\n    refetch,\r\n  }\r\n}\r\n\r\n","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { videoPlaylistsAPI, playlistVideosAPI } from '../services/api'\r\nimport { VideoPlaylist, VideoPlaylistFormData, PlaylistVideo, PlaylistVideoFormData } from '../types'\r\n\r\n// =================================================================\r\n// ì¬ìƒ ëª©ë¡ ì¡°íšŒ í›…\r\n// =================================================================\r\n\r\nexport const useVideoPlaylists = () => {\r\n  return useQuery<VideoPlaylist[], Error>({\r\n    queryKey: ['videoPlaylists'],\r\n    queryFn: async () => {\r\n      const response = await videoPlaylistsAPI.getAll()\r\n      return response.data?.data || response.data || []\r\n    },\r\n    staleTime: 5 * 60 * 1000,\r\n  })\r\n}\r\n\r\nexport const useVideoPlaylist = (id: string | undefined) => {\r\n  return useQuery<VideoPlaylist, Error>({\r\n    queryKey: ['videoPlaylist', id],\r\n    queryFn: async () => {\r\n      if (!id) throw new Error('IDê°€ í•„ìš”í•©ë‹ˆë‹¤')\r\n      const response = await videoPlaylistsAPI.getById(id)\r\n      return response.data?.data || response.data\r\n    },\r\n    enabled: !!id,\r\n    staleTime: 5 * 60 * 1000,\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// ì¬ìƒ ëª©ë¡ ë‚´ ì˜ìƒ ì¡°íšŒ í›…\r\n// =================================================================\r\n\r\nexport const usePlaylistVideos = (playlistId: string | undefined) => {\r\n  return useQuery<PlaylistVideo[], Error>({\r\n    queryKey: ['playlistVideos', playlistId],\r\n    queryFn: async () => {\r\n      if (!playlistId) return []\r\n      const response = await playlistVideosAPI.getByPlaylist(playlistId)\r\n      return response.data?.data || response.data || []\r\n    },\r\n    enabled: !!playlistId,\r\n    staleTime: 5 * 60 * 1000,\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// ì¬ìƒ ëª©ë¡ Mutation í›…\r\n// =================================================================\r\n\r\nexport const useCreateVideoPlaylist = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation({\r\n    mutationFn: (data: VideoPlaylistFormData) => videoPlaylistsAPI.create(data),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['videoPlaylists'] })\r\n    },\r\n  })\r\n}\r\n\r\nexport const useUpdateVideoPlaylist = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation({\r\n    mutationFn: ({ id, data }: { id: string; data: VideoPlaylistFormData }) =>\r\n      videoPlaylistsAPI.update(id, data),\r\n    onSuccess: (_, variables) => {\r\n      queryClient.invalidateQueries({ queryKey: ['videoPlaylists'] })\r\n      queryClient.invalidateQueries({ queryKey: ['videoPlaylist', variables.id] })\r\n    },\r\n  })\r\n}\r\n\r\nexport const useDeleteVideoPlaylist = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation({\r\n    mutationFn: (id: string) => videoPlaylistsAPI.delete(id),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['videoPlaylists'] })\r\n    },\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// ì¬ìƒ ëª©ë¡ ì˜ìƒ Mutation í›…\r\n// =================================================================\r\n\r\nexport const useCreatePlaylistVideo = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation({\r\n    mutationFn: (data: PlaylistVideoFormData) => playlistVideosAPI.create(data),\r\n    onSuccess: (_, variables) => {\r\n      queryClient.invalidateQueries({ queryKey: ['playlistVideos', variables.playlistId] })\r\n    },\r\n  })\r\n}\r\n\r\nexport const useUpdatePlaylistVideo = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation({\r\n    mutationFn: ({ id, data }: { id: string; data: PlaylistVideoFormData }) =>\r\n      playlistVideosAPI.update(id, data),\r\n    onSuccess: (response) => {\r\n      const playlistId = response.data?.data?.playlistId\r\n      if (playlistId) {\r\n        queryClient.invalidateQueries({ queryKey: ['playlistVideos', playlistId] })\r\n      }\r\n    },\r\n  })\r\n}\r\n\r\nexport const useDeletePlaylistVideo = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation({\r\n    mutationFn: (id: string) => playlistVideosAPI.delete(id),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['playlistVideos'] })\r\n    },\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// ê´€ë¦¬ììš© ë°ì´í„° í›…\r\n// =================================================================\r\n\r\nexport const useVideoPlaylistManagerData = () => {\r\n  const { data: playlists = [], isLoading } = useVideoPlaylists()\r\n  const createMutation = useCreateVideoPlaylist()\r\n  const updateMutation = useUpdateVideoPlaylist()\r\n  const deleteMutation = useDeleteVideoPlaylist()\r\n\r\n  const createPlaylist = async (data: VideoPlaylistFormData) => {\r\n    try {\r\n      console.log('ğŸ¬ ì¬ìƒ ëª©ë¡ ìƒì„± ì‹œë„:', data)\r\n      const result = await createMutation.mutateAsync(data)\r\n      console.log('âœ… ì¬ìƒ ëª©ë¡ ìƒì„± ì„±ê³µ:', result)\r\n      return { success: true }\r\n    } catch (error: any) {\r\n      console.error('âŒ ì¬ìƒ ëª©ë¡ ìƒì„± ì‹¤íŒ¨:', error)\r\n      console.error('âŒ ì—ëŸ¬ ìƒì„¸:', {\r\n        message: error?.message,\r\n        response: error?.response?.data,\r\n        status: error?.response?.status\r\n      })\r\n      return { success: false, error }\r\n    }\r\n  }\r\n\r\n  const updatePlaylist = async (id: string, data: VideoPlaylistFormData) => {\r\n    try {\r\n      await updateMutation.mutateAsync({ id, data })\r\n      return { success: true }\r\n    } catch (error) {\r\n      console.error('ì¬ìƒ ëª©ë¡ ìˆ˜ì • ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }\r\n\r\n  const deletePlaylist = async (id: string) => {\r\n    try {\r\n      await deleteMutation.mutateAsync(id)\r\n      return { success: true }\r\n    } catch (error) {\r\n      console.error('ì¬ìƒ ëª©ë¡ ì‚­ì œ ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }\r\n\r\n  return {\r\n    playlists,\r\n    isLoading,\r\n    createPlaylist,\r\n    updatePlaylist,\r\n    deletePlaylist,\r\n  }\r\n}\r\n\r\n","import { useState, useCallback } from 'react'\r\n\r\nexport type ToastType = 'success' | 'error' | 'warning' | 'info'\r\n\r\nexport interface Toast {\r\n  id: string\r\n  type: ToastType\r\n  title: string\r\n  message?: string\r\n  duration?: number\r\n}\r\n\r\ninterface UseToastReturn {\r\n  toasts: Toast[]\r\n  showToast: (toast: Omit<Toast, 'id'>) => void\r\n  hideToast: (id: string) => void\r\n  clearAllToasts: () => void\r\n}\r\n\r\n/**\r\n * Toast ì•Œë¦¼ ì‹œìŠ¤í…œì„ ìœ„í•œ Custom Hook\r\n * ì„±ê³µ, ì—ëŸ¬, ê²½ê³ , ì •ë³´ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\r\n */\r\nexport function useToast(): UseToastReturn {\r\n  const [toasts, setToasts] = useState<Toast[]>([])\r\n\r\n  const showToast = useCallback((toast: Omit<Toast, 'id'>) => {\r\n    const id = Math.random().toString(36).substr(2, 9)\r\n    const newToast: Toast = {\r\n      id,\r\n      duration: 5000, // ê¸°ë³¸ 5ì´ˆ\r\n      ...toast\r\n    }\r\n\r\n    setToasts(prev => [...prev, newToast])\r\n\r\n    // ìë™ ì œê±° (durationì´ 0ì´ ì•„ë‹Œ ê²½ìš°)\r\n    if (newToast.duration && newToast.duration > 0) {\r\n      setTimeout(() => {\r\n        hideToast(id)\r\n      }, newToast.duration)\r\n    }\r\n  }, [])\r\n\r\n  const hideToast = useCallback((id: string) => {\r\n    setToasts(prev => prev.filter(toast => toast.id !== id))\r\n  }, [])\r\n\r\n  const clearAllToasts = useCallback(() => {\r\n    setToasts([])\r\n  }, [])\r\n\r\n  return {\r\n    toasts,\r\n    showToast,\r\n    hideToast,\r\n    clearAllToasts\r\n  }\r\n}\r\n\r\n/**\r\n * í¸ì˜ ë©”ì„œë“œë“¤ì„ ì œê³µí•˜ëŠ” Toast Hook\r\n */\r\nexport function useToastHelpers() {\r\n  const { showToast, ...rest } = useToast()\r\n\r\n  const success = useCallback((title: string, message?: string) => {\r\n    showToast({ type: 'success', title, message })\r\n  }, [showToast])\r\n\r\n  const error = useCallback((title: string, message?: string) => {\r\n    showToast({ type: 'error', title, message })\r\n  }, [showToast])\r\n\r\n  const warning = useCallback((title: string, message?: string) => {\r\n    showToast({ type: 'warning', title, message })\r\n  }, [showToast])\r\n\r\n  const info = useCallback((title: string, message?: string) => {\r\n    showToast({ type: 'info', title, message })\r\n  }, [showToast])\r\n\r\n  return {\r\n    ...rest,\r\n    success,\r\n    error,\r\n    warning,\r\n    info\r\n  }\r\n}\r\n\r\nexport default useToast\r\n","import { useQuery } from '@tanstack/react-query';\r\nimport { projectsAPI } from '../services/api';\r\nimport { Project } from '../types';\r\n\r\ninterface UseProjectsResult {\r\n  projects: Project[];\r\n  loading: boolean;\r\n  error: string | null;\r\n  refetch: () => void;\r\n}\r\n\r\n// React Queryë¥¼ ì‚¬ìš©í•œ ë°ì´í„° í˜ì¹­\r\nconst fetchProjects = async (): Promise<Project[]> => {\r\n  const response = await projectsAPI.getAll();\r\n  return response.data.data;\r\n};\r\n\r\nexport const useProjects = (): UseProjectsResult => {\r\n  const {\r\n    data: projects = [],\r\n    isLoading: loading,\r\n    error,\r\n    refetch\r\n  } = useQuery({\r\n    queryKey: ['projects'],\r\n    queryFn: fetchProjects,\r\n    staleTime: 5 * 60 * 1000, // 5ë¶„\r\n    gcTime: 10 * 60 * 1000, // 10ë¶„\r\n  });\r\n\r\n  return { \r\n    projects, \r\n    loading, \r\n    error: error ? 'í”„ë¡œì íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.' : null, \r\n    refetch \r\n  };\r\n};\r\n","import { useState, useEffect, useMemo } from 'react'\r\nimport { projectsAPI } from '../services/api'\r\nimport { Project, Skill } from '../types'\r\nimport { useSkills } from './useSkills'\r\nimport { \r\n  getLocalizedField, \r\n  getLocalizedArrayField,\r\n  getLocalizedSkillName,\r\n  getLocalizedSkillDescription,\r\n  Language \r\n} from '@/utils/i18nUtils'\r\n\r\ninterface LocalizedProject extends Omit<Project, 'technologies' | 'features' | 'learnings' | 'videoDescriptions'> {\r\n  title: string\r\n  description: string\r\n  detailedDescription: string\r\n  technologies: string[]\r\n  features: string[]\r\n  learnings: string[]\r\n  videoDescriptions: string[]\r\n}\r\n\r\ninterface LinkedSkill extends Skill {\r\n  levelText: string\r\n}\r\n\r\ninterface UseProjectDetailReturn {\r\n  loading: boolean\r\n  error: string | null\r\n  localizedProject: LocalizedProject | null\r\n  linkedSkills: LinkedSkill[]\r\n}\r\n\r\n/**\r\n * Custom hook for ProjectDetail component\r\n * Handles data fetching, multilingual field processing, and skill matching\r\n */\r\nexport const useProjectDetail = (\r\n  id: string | undefined,\r\n  currentLang: Language\r\n): UseProjectDetailReturn => {\r\n  const [project, setProject] = useState<Project | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const { skillCategories } = useSkills()\r\n\r\n  // Fetch project data by ID\r\n  useEffect(() => {\r\n    const fetchProject = async () => {\r\n      if (!id) return\r\n\r\n      try {\r\n        setLoading(true)\r\n        const response = await projectsAPI.getById(id)\r\n        setProject(response.data)\r\n      } catch (error) {\r\n        console.error('Failed to fetch project:', error)\r\n        setError('í”„ë¡œì íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.')\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchProject()\r\n  }, [id])\r\n\r\n  // Create localized project object with all multilingual fields processed\r\n  const localizedProject = useMemo<LocalizedProject | null>(() => {\r\n    if (!project) return null\r\n\r\n    return {\r\n      ...project,\r\n      // String fields\r\n      title: getLocalizedField(currentLang, project.title, project.titleEn, project.titleJa),\r\n      description: getLocalizedField(currentLang, project.description, project.descriptionEn, project.descriptionJa),\r\n      detailedDescription: getLocalizedField(\r\n        currentLang,\r\n        project.detailedDescription,\r\n        project.detailedDescriptionEn,\r\n        project.detailedDescriptionJa\r\n      ),\r\n      // Array fields - CRITICAL: Always add || [] fallback to prevent runtime errors\r\n      technologies: getLocalizedArrayField(\r\n        currentLang,\r\n        project.technologies,\r\n        project.technologiesEn,\r\n        project.technologiesJa\r\n      ) || [],\r\n      features: getLocalizedArrayField(\r\n        currentLang,\r\n        project.features,\r\n        project.featuresEn,\r\n        project.featuresJa\r\n      ) || [],\r\n      learnings: getLocalizedArrayField(\r\n        currentLang,\r\n        project.learnings,\r\n        project.learningsEn,\r\n        project.learningsJa\r\n      ) || [],\r\n      videoDescriptions: getLocalizedArrayField(\r\n        currentLang,\r\n        project.videoDescriptions,\r\n        project.videoDescriptionsEn,\r\n        project.videoDescriptionsJa\r\n      ) || [],\r\n    }\r\n  }, [project, currentLang])\r\n\r\n  // Helper function to get level text\r\n  const getLevelText = (level: number): string => {\r\n    if (level >= 90) return 'Expert'\r\n    if (level >= 70) return 'Proficient'\r\n    if (level >= 50) return 'Competent'\r\n    return 'Basic'\r\n  }\r\n\r\n  // Process linked skills with multilingual support\r\n  const linkedSkills = useMemo<LinkedSkill[]>(() => {\r\n    if (!project || !skillCategories) return []\r\n\r\n    // Flatten all skills from categories\r\n    const allSkills = skillCategories.flatMap(category => category.skills || [])\r\n\r\n    // Create Set for O(1) lookup performance\r\n    const skillIdSet = new Set(project.skillIds || [])\r\n\r\n    // Filter and map skills with localization\r\n    return allSkills\r\n      .filter(skill => skillIdSet.has(skill._id!))\r\n      .map(skill => ({\r\n        ...skill,\r\n        name: getLocalizedSkillName(currentLang, skill),\r\n        description: getLocalizedSkillDescription(currentLang, skill),\r\n        levelText: getLevelText(skill.level || 0),\r\n      }))\r\n  }, [project, skillCategories, currentLang])\r\n\r\n  return {\r\n    loading,\r\n    error,\r\n    localizedProject,\r\n    linkedSkills,\r\n  }\r\n}\r\n\r\n","import { useQuery } from '@tanstack/react-query';\r\nimport { experiencesAPI } from '../services/api';\r\n\r\n// ê²½ë ¥ ìƒì„¸ ì¹´í…Œê³ ë¦¬ íƒ€ì…\r\nexport interface ExperienceDetail {\r\n  category: string;  // ì¹´í…Œê³ ë¦¬ ì´ë¦„ (ì˜ˆ: \"ê·¼ë¬´ê²½í—˜\", \"êµìœ¡\", \"ê·¼ë¬´ë§¤ì¥\")\r\n  categoryEn?: string;\r\n  categoryJa?: string;\r\n  items: string[];   // ì¹´í…Œê³ ë¦¬ë³„ í•­ëª©ë“¤\r\n  itemsEn?: string[];\r\n  itemsJa?: string[];\r\n  order?: number;\r\n}\r\n\r\n// ë°±ì—”ë“œ ExperienceSchemaì— ë§ì¶˜ ì¸í„°í˜ì´ìŠ¤ ì •ì˜\r\nexport interface ExperienceItem {\r\n  _id: string;\r\n  period: string;\r\n  title: string;\r\n  titleEn?: string;\r\n  titleJa?: string;\r\n  company: string;\r\n  companyEn?: string;\r\n  companyJa?: string;\r\n  description: string;\r\n  descriptionEn?: string;\r\n  descriptionJa?: string;\r\n  details?: ExperienceDetail[];  // ì¹´í…Œê³ ë¦¬ë³„ ìƒì„¸ ë‚´ìš© (ì‹ ê·œ)\r\n  detailsEn?: ExperienceDetail[];\r\n  detailsJa?: ExperienceDetail[];\r\n  skills: string[];  // ğŸ”„ í˜¸í™˜ì„± ìœ ì§€\r\n  skillsEn?: string[];\r\n  skillsJa?: string[];\r\n  skillIds?: string[];  // ğŸŒŸ ìŠ¤í‚¬ ID ëª©ë¡ (Skills í˜ì´ì§€ì™€ ì—°ê²°)\r\n  iconKey?: string;\r\n  color?: string;\r\n  bgColor?: string;\r\n  order?: number;\r\n  createdAt?: string;\r\n  updatedAt?: string;\r\n}\r\n\r\ninterface UseExperiencesResult {\r\n  experiences: ExperienceItem[];\r\n  loading: boolean;\r\n  error: string | null;\r\n  refetch: () => void;\r\n}\r\n\r\n// ë°ì´í„° ë³€í™˜ ë° ì •ë ¬ í•¨ìˆ˜\r\nconst transformExperiences = (data: ExperienceItem[]): ExperienceItem[] => {\r\n  return data.slice().sort((a, b) => {\r\n    // case 1: ë‘ í•­ëª© ëª¨ë‘ orderê°€ ìˆìœ¼ë©´ orderë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ\r\n    if (a.order !== undefined && b.order !== undefined) {\r\n      return a.order - b.order;\r\n    }\r\n    \r\n    // case 2: orderê°€ í•˜ë‚˜ë§Œ ìˆê±°ë‚˜ ë‘˜ ë‹¤ ì—†ìœ¼ë©´ createdAtì„ ê¸°ì¤€ìœ¼ë¡œ ì—­ìˆœ (ìµœì‹ ìˆœ)\r\n    if (a.createdAt && b.createdAt) {\r\n      // Date ê°ì²´ë¡œ ë³€í™˜í•˜ì—¬ ë¹„êµ (ë‚´ë¦¼ì°¨ìˆœ)\r\n      return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();\r\n    }\r\n    \r\n    return 0; // ì •ë ¬í•  í•„ë“œê°€ ëª¨ë‘ ì—†ìœ¼ë©´ ìˆœì„œ ë³€ê²½ ì—†ìŒ\r\n  });\r\n};\r\n\r\n// React Queryë¥¼ ì‚¬ìš©í•œ ë°ì´í„° í˜ì¹­\r\nconst fetchExperiences = async (): Promise<ExperienceItem[]> => {\r\n  const response = await experiencesAPI.getAll();\r\n  const data: ExperienceItem[] = response.data.data;\r\n  return transformExperiences(data);\r\n};\r\n\r\nexport const useExperiences = (): UseExperiencesResult => {\r\n  const {\r\n    data: experiences = [],\r\n    isLoading: loading,\r\n    error,\r\n    refetch\r\n  } = useQuery({\r\n    queryKey: ['experiences'],\r\n    queryFn: fetchExperiences,\r\n    staleTime: 5 * 60 * 1000, // 5ë¶„\r\n    gcTime: 10 * 60 * 1000, // 10ë¶„\r\n  });\r\n\r\n  return { \r\n    experiences, \r\n    loading, \r\n    error: error ? 'ê²½í—˜ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.' : null, \r\n    refetch \r\n  };\r\n};\r\n","import { useEffect, useRef, useCallback } from 'react'\r\n\r\n/**\r\n * AbortControllerë¥¼ ì‚¬ìš©í•˜ì—¬ API ìš”ì²­ ì·¨ì†Œë¥¼ ê´€ë¦¬í•˜ëŠ” Hook\r\n * ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ ë˜ëŠ” ì˜ì¡´ì„± ë³€ê²½ ì‹œ ì´ì „ ìš”ì²­ì„ ì·¨ì†Œí•˜ì—¬\r\n * ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ì™€ Race Conditionì„ ë°©ì§€í•©ë‹ˆë‹¤.\r\n */\r\nexport function useAbortController() {\r\n  const abortControllerRef = useRef<AbortController | null>(null)\r\n\r\n  // ìƒˆë¡œìš´ AbortController ìƒì„±\r\n  const createAbortController = useCallback(() => {\r\n    // ì´ì „ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ìˆë‹¤ë©´ ì·¨ì†Œ\r\n    if (abortControllerRef.current) {\r\n      abortControllerRef.current.abort()\r\n    }\r\n    \r\n    // ìƒˆë¡œìš´ ì»¨íŠ¸ë¡¤ëŸ¬ ìƒì„±\r\n    abortControllerRef.current = new AbortController()\r\n    return abortControllerRef.current\r\n  }, [])\r\n\r\n  // í˜„ì¬ AbortController ê°€ì ¸ì˜¤ê¸° (ì—†ìœ¼ë©´ ìƒì„±)\r\n  const getAbortController = useCallback(() => {\r\n    if (!abortControllerRef.current) {\r\n      abortControllerRef.current = new AbortController()\r\n    }\r\n    return abortControllerRef.current\r\n  }, [])\r\n\r\n  // ìš”ì²­ ì·¨ì†Œ\r\n  const abort = useCallback(() => {\r\n    if (abortControllerRef.current) {\r\n      abortControllerRef.current.abort()\r\n      abortControllerRef.current = null\r\n    }\r\n  }, [])\r\n\r\n  // ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ ì •ë¦¬\r\n  useEffect(() => {\r\n    return () => {\r\n      if (abortControllerRef.current) {\r\n        abortControllerRef.current.abort()\r\n      }\r\n    }\r\n  }, [])\r\n\r\n  return {\r\n    createAbortController,\r\n    getAbortController,\r\n    abort,\r\n    signal: abortControllerRef.current?.signal\r\n  }\r\n}\r\n\r\n/**\r\n * API ìš”ì²­ì„ ìœ„í•œ AbortControllerë¥¼ ìë™ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” Hook\r\n * ì˜ì¡´ì„± ë°°ì—´ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì´ì „ ìš”ì²­ì„ ì·¨ì†Œí•˜ê³  ìƒˆë¡œìš´ ìš”ì²­ì„ ì‹œì‘í•©ë‹ˆë‹¤.\r\n */\r\nexport function useAbortableEffect(\r\n  effect: (signal: AbortSignal) => void | (() => void),\r\n  deps: React.DependencyList = []\r\n) {\r\n  const { createAbortController } = useAbortController()\r\n\r\n  useEffect(() => {\r\n    const abortController = createAbortController()\r\n    \r\n    const cleanup = effect(abortController.signal)\r\n    \r\n    return () => {\r\n      if (typeof cleanup === 'function') {\r\n        cleanup()\r\n      }\r\n      abortController.abort()\r\n    }\r\n  }, deps)\r\n}\r\n\r\n/**\r\n * API ìš”ì²­ì„ ìœ„í•œ fetch wrapper with AbortController\r\n */\r\nexport async function fetchWithAbort(\r\n  url: string,\r\n  options: RequestInit = {},\r\n  signal?: AbortSignal\r\n): Promise<Response> {\r\n  const response = await fetch(url, {\r\n    ...options,\r\n    signal: signal || null\r\n  })\r\n\r\n  if (!response.ok) {\r\n    throw new Error(`HTTP error! status: ${response.status}`)\r\n  }\r\n\r\n  return response\r\n}\r\n\r\nexport default useAbortController\r\n","import { useState, useCallback, useRef } from 'react'\r\n\r\ninterface OptimisticUpdateOptions<T> {\r\n  onSuccess?: (data: T) => void\r\n  onError?: (error: Error, rollback: () => void) => void\r\n  onRollback?: (data: T) => void\r\n}\r\n\r\n/**\r\n * ë‚™ê´€ì  ì—…ë°ì´íŠ¸ë¥¼ ê´€ë¦¬í•˜ëŠ” Hook\r\n * API ìš”ì²­ ì „ì— UIë¥¼ ë¨¼ì € ì—…ë°ì´íŠ¸í•˜ì—¬ ë” ë‚˜ì€ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.\r\n * ì‹¤íŒ¨ ì‹œ ìë™ìœ¼ë¡œ ë¡¤ë°±í•©ë‹ˆë‹¤.\r\n */\r\nexport function useOptimisticUpdate<T>(\r\n  initialData: T,\r\n  options: OptimisticUpdateOptions<T> = {}\r\n) {\r\n  const [data, setData] = useState<T>(initialData)\r\n  const [isOptimistic, setIsOptimistic] = useState(false)\r\n  const previousDataRef = useRef<T>(initialData)\r\n\r\n  const { onSuccess, onError, onRollback } = options\r\n\r\n  // ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ì‹¤í–‰\r\n  const optimisticUpdate = useCallback(async (\r\n    optimisticData: T | ((prev: T) => T),\r\n    apiCall: () => Promise<T>\r\n  ) => {\r\n    // ì´ì „ ë°ì´í„° ë°±ì—…\r\n    previousDataRef.current = data\r\n    \r\n    // ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ì‹¤í–‰\r\n    setData(prev => {\r\n      const newData = typeof optimisticData === 'function' \r\n        ? (optimisticData as (prev: T) => T)(prev)\r\n        : optimisticData\r\n      return newData\r\n    })\r\n    \r\n    setIsOptimistic(true)\r\n\r\n    try {\r\n      // API í˜¸ì¶œ\r\n      const result = await apiCall()\r\n      \r\n      // ì„±ê³µ ì‹œ ì‹¤ì œ ë°ì´í„°ë¡œ ì—…ë°ì´íŠ¸\r\n      setData(result)\r\n      setIsOptimistic(false)\r\n      onSuccess?.(result)\r\n      \r\n      return result\r\n    } catch (error) {\r\n      // ì‹¤íŒ¨ ì‹œ ë¡¤ë°±\r\n      setData(previousDataRef.current)\r\n      setIsOptimistic(false)\r\n      \r\n      const rollback = () => {\r\n        setData(previousDataRef.current)\r\n        onRollback?.(previousDataRef.current)\r\n      }\r\n      \r\n      onError?.(error as Error, rollback)\r\n      throw error\r\n    }\r\n  }, [data, onSuccess, onError, onRollback])\r\n\r\n  // ë°ì´í„° ì—…ë°ì´íŠ¸ (ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ì—†ì´)\r\n  const updateData = useCallback((newData: T | ((prev: T) => T)) => {\r\n    setData(prev => {\r\n      const updated = typeof newData === 'function' \r\n        ? (newData as (prev: T) => T)(prev)\r\n        : newData\r\n      return updated\r\n    })\r\n  }, [])\r\n\r\n  // ë°ì´í„° ë¦¬ì…‹\r\n  const resetData = useCallback((newData: T) => {\r\n    setData(newData)\r\n    previousDataRef.current = newData\r\n    setIsOptimistic(false)\r\n  }, [])\r\n\r\n  return {\r\n    data,\r\n    isOptimistic,\r\n    optimisticUpdate,\r\n    updateData,\r\n    resetData\r\n  }\r\n}\r\n\r\n/**\r\n * ë°°ì—´ ë°ì´í„°ë¥¼ ìœ„í•œ ë‚™ê´€ì  ì—…ë°ì´íŠ¸ Hook\r\n * ì¶”ê°€, ìˆ˜ì •, ì‚­ì œ ì‘ì—…ì— íŠ¹í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\r\n */\r\nexport function useOptimisticArrayUpdate<T extends { _id: string }>(\r\n  initialData: T[],\r\n  options: OptimisticUpdateOptions<T[]> = {}\r\n) {\r\n  const {\r\n    data,\r\n    isOptimistic,\r\n    optimisticUpdate,\r\n    updateData,\r\n    resetData\r\n  } = useOptimisticUpdate<T[]>(initialData, options)\r\n\r\n  // í•­ëª© ì¶”ê°€\r\n  const optimisticAdd = useCallback(async (\r\n    newItem: T,\r\n    apiCall: () => Promise<T>\r\n  ) => {\r\n    return optimisticUpdate(\r\n      (prev) => [...prev, { ...newItem, _id: `temp_${Date.now()}` } as T],\r\n      async () => {\r\n        const result = await apiCall()\r\n        // ì„ì‹œ IDë¥¼ ì‹¤ì œ IDë¡œ êµì²´\r\n        updateData(prev => prev.map(item => \r\n          item._id.startsWith('temp_') ? result : item\r\n        ))\r\n        return [...data.filter(item => !item._id.startsWith('temp_')), result]\r\n      }\r\n    )\r\n  }, [optimisticUpdate, updateData, data])\r\n\r\n  // í•­ëª© ìˆ˜ì •\r\n  const optimisticUpdateItem = useCallback(async (\r\n    id: string,\r\n    updates: Partial<T>,\r\n    apiCall: () => Promise<T>\r\n  ) => {\r\n    return optimisticUpdate(\r\n      (prev) => prev.map(item => \r\n        item._id === id ? { ...item, ...updates } : item\r\n      ),\r\n      async () => {\r\n        const result = await apiCall()\r\n        updateData(prev => prev.map(item => \r\n          item._id === id ? result : item\r\n        ))\r\n        return data.map(item => item._id === id ? result : item)\r\n      }\r\n    )\r\n  }, [optimisticUpdate, updateData, data])\r\n\r\n  // í•­ëª© ì‚­ì œ\r\n  const optimisticDelete = useCallback(async (\r\n    id: string,\r\n    apiCall: () => Promise<void>\r\n  ) => {\r\n    const itemToDelete = data.find(item => item._id === id)\r\n    if (!itemToDelete) return\r\n\r\n    return optimisticUpdate(\r\n      (prev) => prev.filter(item => item._id !== id),\r\n      async () => {\r\n        await apiCall()\r\n        return data.filter(item => item._id !== id)\r\n      }\r\n    )\r\n  }, [optimisticUpdate, data])\r\n\r\n  // í•­ëª© ì¬ì •ë ¬\r\n  const optimisticReorder = useCallback(async (\r\n    reorderedItems: T[],\r\n    apiCall: () => Promise<T[]>\r\n  ) => {\r\n    return optimisticUpdate(\r\n      reorderedItems,\r\n      async () => {\r\n        const result = await apiCall()\r\n        return result\r\n      }\r\n    )\r\n  }, [optimisticUpdate])\r\n\r\n  return {\r\n    data,\r\n    isOptimistic,\r\n    optimisticAdd,\r\n    optimisticUpdateItem,\r\n    optimisticDelete,\r\n    optimisticReorder,\r\n    updateData,\r\n    resetData\r\n  }\r\n}\r\n\r\nexport default useOptimisticUpdate\r\n","import { useState, useEffect, useCallback } from 'react'\r\nimport { useAbortController } from './useAbortController'\r\nimport { useOptimisticArrayUpdate } from './useOptimisticUpdate'\r\nimport { useToastHelpers } from './useToast'\r\nimport { booksAPI } from '../services/api'\r\nimport { Book, BookFormData, BookUpdateData } from '../types'\r\n\r\n/**\r\n * ë¦¬íŒ©í† ë§ëœ BookManager ë°ì´í„° ê´€ë¦¬ Hook\r\n * \r\n * ì£¼ìš” ê°œì„ ì‚¬í•­:\r\n * 1. AbortControllerë¥¼ ì‚¬ìš©í•œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€\r\n * 2. ë‚™ê´€ì  ì—…ë°ì´íŠ¸ë¡œ ì„±ëŠ¥ ê°œì„ \r\n * 3. Toast ì•Œë¦¼ìœ¼ë¡œ ì‚¬ìš©ì í”¼ë“œë°± ê°œì„ \r\n * 4. ì—ëŸ¬ ì²˜ë¦¬ ê°•í™”\r\n */\r\nexport function useBookManagerData() {\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const { createAbortController } = useAbortController()\r\n  const { success, error: showError } = useToastHelpers()\r\n\r\n  // ë‚™ê´€ì  ì—…ë°ì´íŠ¸ë¥¼ ì‚¬ìš©í•œ ì„œì  ë°ì´í„° ê´€ë¦¬\r\n  const {\r\n    data: books,\r\n    isOptimistic,\r\n    optimisticAdd,\r\n    optimisticUpdateItem,\r\n    optimisticDelete,\r\n    resetData\r\n  } = useOptimisticArrayUpdate<Book>([])\r\n\r\n  // ì„œì  ë°ì´í„° ë¡œë“œ\r\n  const fetchBooks = useCallback(async () => {\r\n    try {\r\n      setIsLoading(true)\r\n      setError(null)\r\n      \r\n      const abortController = createAbortController()\r\n      const response = await booksAPI.getAll()\r\n      \r\n        if (!abortController.signal.aborted) {\r\n          resetData(response.data.data || [])\r\n        }\r\n    } catch (err) {\r\n      if (!(err as Error).name?.includes('AbortError')) {\r\n        const errorMessage = 'ì„œì  ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.'\r\n        setError(errorMessage)\r\n        showError('ë¡œë“œ ì‹¤íŒ¨', errorMessage)\r\n      }\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }, [createAbortController, resetData, showError])\r\n\r\n  // ì„œì  ìƒì„±\r\n  const createBook = useCallback(async (bookData: BookFormData) => {\r\n    try {\r\n      const newBook = {\r\n        ...bookData,\r\n        _id: `temp_${Date.now()}`,\r\n        createdAt: new Date().toISOString(),\r\n        updatedAt: new Date().toISOString()\r\n      } as Book\r\n\r\n      const result = await optimisticAdd(\r\n        newBook,\r\n        () => booksAPI.create(bookData).then(res => res.data)\r\n      )\r\n\r\n      success('ì„œì  ì¶”ê°€ ì™„ë£Œ', `${bookData.title}ì´(ê°€) ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.`)\r\n      return result\r\n    } catch (err) {\r\n      showError('ì„œì  ì¶”ê°€ ì‹¤íŒ¨', err instanceof Error ? err.message : 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.')\r\n      throw err\r\n    }\r\n  }, [optimisticAdd, success, showError])\r\n\r\n  // ì„œì  ìˆ˜ì •\r\n  const updateBook = useCallback(async (bookId: string, bookData: BookUpdateData) => {\r\n    try {\r\n      const result = await optimisticUpdateItem(\r\n        bookId,\r\n        bookData,\r\n        () => booksAPI.update(bookId, bookData).then(res => res.data)\r\n      )\r\n\r\n      success('ì„œì  ìˆ˜ì • ì™„ë£Œ', 'ì„œì  ì •ë³´ê°€ ì„±ê³µì ìœ¼ë¡œ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.')\r\n      return result\r\n    } catch (err) {\r\n      showError('ì„œì  ìˆ˜ì • ì‹¤íŒ¨', err instanceof Error ? err.message : 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.')\r\n      throw err\r\n    }\r\n  }, [optimisticUpdateItem, success, showError])\r\n\r\n  // ì„œì  ì‚­ì œ\r\n  const deleteBook = useCallback(async (bookId: string) => {\r\n    try {\r\n      const result = await optimisticDelete(\r\n        bookId,\r\n        () => booksAPI.delete(bookId).then(() => {})\r\n      )\r\n\r\n      success('ì„œì  ì‚­ì œ ì™„ë£Œ', 'ì„œì ì´ ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.')\r\n      return result\r\n    } catch (err) {\r\n      showError('ì„œì  ì‚­ì œ ì‹¤íŒ¨', err instanceof Error ? err.message : 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.')\r\n      throw err\r\n    }\r\n  }, [optimisticDelete, success, showError])\r\n\r\n  // ì´ˆê¸° ë°ì´í„° ë¡œë“œ\r\n  useEffect(() => {\r\n    fetchBooks()\r\n  }, [])\r\n\r\n  return {\r\n    books,\r\n    isLoading,\r\n    error,\r\n    isOptimistic,\r\n    createBook,\r\n    updateBook,\r\n    deleteBook,\r\n    refetch: fetchBooks\r\n  }\r\n}\r\n\r\nexport default useBookManagerData","import { useState, useCallback } from 'react'\r\n\r\ninterface CRUDState<T> {\r\n  showForm: boolean\r\n  editingItem: T | null\r\n  isSaving: boolean\r\n  isDeleting: boolean\r\n}\r\n\r\ninterface CRUDActions<T> {\r\n  handleCreate: () => void\r\n  handleEdit: (item: T) => void\r\n  handleCancel: () => void\r\n  handleSave: (data: any) => Promise<void>\r\n  handleDelete: (item: T) => Promise<void>\r\n  setShowForm: (show: boolean) => void\r\n  setEditingItem: (item: T | null) => void\r\n}\r\n\r\ninterface UseCRUDManagerOptions<T> {\r\n  onSave: (data: any, editingItem?: T | null) => Promise<void>\r\n  onDelete: (item: T) => Promise<void>\r\n  onSuccess?: () => void\r\n  onError?: (error: Error) => void\r\n}\r\n\r\n/**\r\n * CRUD ê´€ë¦¬ìë¥¼ ìœ„í•œ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ Custom Hook\r\n * BookManager, ExperienceManager, ProjectManager ë“±ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ”\r\n * ìƒíƒœ ê´€ë¦¬ ë¡œì§ì„ ì¤‘ì•™í™”í•˜ì—¬ ì½”ë“œ ì¤‘ë³µì„ ì œê±°í•©ë‹ˆë‹¤.\r\n */\r\nexport function useCRUDManager<T>({\r\n  onSave,\r\n  onDelete,\r\n  onSuccess,\r\n  onError\r\n}: UseCRUDManagerOptions<T>): [CRUDState<T>, CRUDActions<T>] {\r\n  \r\n  const [showForm, setShowForm] = useState(false)\r\n  const [editingItem, setEditingItem] = useState<T | null>(null)\r\n  const [isSaving, setIsSaving] = useState(false)\r\n  const [isDeleting, setIsDeleting] = useState(false)\r\n\r\n  // ìƒˆ í•­ëª© ìƒì„± í•¸ë“¤ëŸ¬\r\n  const handleCreate = useCallback(() => {\r\n    setEditingItem(null)\r\n    setShowForm(true)\r\n  }, [])\r\n\r\n  // ê¸°ì¡´ í•­ëª© í¸ì§‘ í•¸ë“¤ëŸ¬\r\n  const handleEdit = useCallback((item: T) => {\r\n    setEditingItem(item)\r\n    setShowForm(true)\r\n  }, [])\r\n\r\n  // í¼ ì·¨ì†Œ í•¸ë“¤ëŸ¬\r\n  const handleCancel = useCallback(() => {\r\n    setShowForm(false)\r\n    setEditingItem(null)\r\n    setIsSaving(false)\r\n    setIsDeleting(false)\r\n  }, [])\r\n\r\n  // ì €ì¥ í•¸ë“¤ëŸ¬ (ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ì§€ì›)\r\n  const handleSave = useCallback(async (data: any) => {\r\n    if (isSaving) return\r\n\r\n    try {\r\n      setIsSaving(true)\r\n      await onSave(data, editingItem)\r\n      \r\n      // ì„±ê³µ ì‹œ í¼ ë‹«ê¸°\r\n      handleCancel()\r\n      onSuccess?.()\r\n    } catch (error) {\r\n      console.error('ì €ì¥ ì‹¤íŒ¨:', error)\r\n      onError?.(error as Error)\r\n    } finally {\r\n      setIsSaving(false)\r\n    }\r\n  }, [isSaving, editingItem, onSave, onSuccess, onError, handleCancel])\r\n\r\n  // ì‚­ì œ í•¸ë“¤ëŸ¬\r\n  const handleDelete = useCallback(async (item: T) => {\r\n    if (isDeleting) return\r\n    \r\n    // ì‚¬ìš©ì í™•ì¸\r\n    const confirmed = window.confirm(\r\n      `ì •ë§ \"${(item as any).title || (item as any).name || 'ì´ í•­ëª©'}\"ì„(ë¥¼) ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`\r\n    )\r\n    \r\n    if (!confirmed) return\r\n\r\n    try {\r\n      setIsDeleting(true)\r\n      await onDelete(item)\r\n      onSuccess?.()\r\n    } catch (error) {\r\n      console.error('ì‚­ì œ ì‹¤íŒ¨:', error)\r\n      onError?.(error as Error)\r\n    } finally {\r\n      setIsDeleting(false)\r\n    }\r\n  }, [isDeleting, onDelete, onSuccess, onError])\r\n\r\n  const state: CRUDState<T> = {\r\n    showForm,\r\n    editingItem,\r\n    isSaving,\r\n    isDeleting\r\n  }\r\n\r\n  const actions: CRUDActions<T> = {\r\n    handleCreate,\r\n    handleEdit,\r\n    handleCancel,\r\n    handleSave,\r\n    handleDelete,\r\n    setShowForm,\r\n    setEditingItem\r\n  }\r\n\r\n  return [state, actions]\r\n}\r\n\r\n/**\r\n * ë‚™ê´€ì  ì—…ë°ì´íŠ¸ë¥¼ ì§€ì›í•˜ëŠ” CRUD ê´€ë¦¬ì Hook\r\n * API í˜¸ì¶œ ì „ì— UIë¥¼ ë¨¼ì € ì—…ë°ì´íŠ¸í•˜ì—¬ ë” ë‚˜ì€ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.\r\n */\r\nexport function useOptimisticCRUDManager<T>({\r\n  onSave,\r\n  onDelete,\r\n  onOptimisticUpdate,\r\n  onOptimisticDelete,\r\n  onSuccess,\r\n  onError\r\n}: UseCRUDManagerOptions<T> & {\r\n  onOptimisticUpdate?: (data: any, editingItem?: T | null) => void\r\n  onOptimisticDelete?: (item: T) => void\r\n}) {\r\n  \r\n  const [state, actions] = useCRUDManager<T>({\r\n    onSave: async (data, editingItem) => {\r\n      // ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ì‹¤í–‰\r\n      onOptimisticUpdate?.(data, editingItem)\r\n      \r\n      try {\r\n        await onSave(data, editingItem)\r\n      } catch (error) {\r\n        // ì‹¤íŒ¨ ì‹œ ë¡¤ë°± (ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì²˜ë¦¬)\r\n        throw error\r\n      }\r\n    },\r\n    onDelete: async (item) => {\r\n      // ë‚™ê´€ì  ì‚­ì œ ì‹¤í–‰\r\n      onOptimisticDelete?.(item)\r\n      \r\n      try {\r\n        await onDelete(item)\r\n      } catch (error) {\r\n        // ì‹¤íŒ¨ ì‹œ ë¡¤ë°± (ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì²˜ë¦¬)\r\n        throw error\r\n      }\r\n    },\r\n    onSuccess,\r\n    onError\r\n  })\r\n\r\n  return [state, actions] as const\r\n}\r\n\r\nexport default useCRUDManager\r\n","import { useState, useEffect, useCallback } from 'react'\r\nimport { experiencesAPI } from '../services/api'\r\nimport { Experience } from '../types'\r\n\r\nexport const useExperienceManagerData = () => {\r\n  const [experiences, setExperiences] = useState<Experience[]>([])\r\n  const [isLoading, setIsLoading] = useState(false)\r\n\r\n  // Experience ë°ì´í„°ë§Œ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜\r\n  const fetchExperiences = useCallback(async () => {\r\n    setIsLoading(true)\r\n    try {\r\n      const response = await experiencesAPI.getAll()\r\n        setExperiences(response.data.data || [])\r\n    } catch (error) {\r\n      console.error('Experience ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error)\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  // Experience ìƒì„±\r\n  const createExperience = useCallback(async (experienceData: any) => {\r\n    try {\r\n      await experiencesAPI.create(experienceData)\r\n      await fetchExperiences() // ìƒˆë¡œê³ ì¹¨\r\n      return { success: true }\r\n    } catch (error) {\r\n      console.error('Experience ìƒì„± ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }, [fetchExperiences])\r\n\r\n  // Experience ìˆ˜ì •\r\n  const updateExperience = useCallback(async (id: string, experienceData: any) => {\r\n    try {\r\n      await experiencesAPI.update(id, experienceData)\r\n      await fetchExperiences() // ìƒˆë¡œê³ ì¹¨\r\n      return { success: true }\r\n    } catch (error) {\r\n      console.error('Experience ìˆ˜ì • ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }, [fetchExperiences])\r\n\r\n  // Experience ì‚­ì œ\r\n  const deleteExperience = useCallback(async (id: string) => {\r\n    try {\r\n      await experiencesAPI.delete(id)\r\n      await fetchExperiences() // ìƒˆë¡œê³ ì¹¨\r\n      return { success: true }\r\n    } catch (error) {\r\n      console.error('Experience ì‚­ì œ ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }, [fetchExperiences])\r\n\r\n  useEffect(() => {\r\n    fetchExperiences()\r\n  }, [])\r\n\r\n  return {\r\n    experiences,\r\n    isLoading,\r\n    fetchExperiences,\r\n    createExperience,\r\n    updateExperience,\r\n    deleteExperience\r\n  }\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { Project, ProjectFormData } from '../types'\r\nimport { AdminLanguage } from '../components/common/LanguageTabs'\r\n\r\n// Video item type with multilingual descriptions\r\nexport interface VideoItem {\r\n  url: string\r\n  description: string\r\n  descriptionEn: string\r\n  descriptionJa: string\r\n}\r\n\r\ninterface UseProjectFormReturn {\r\n  formData: any\r\n  videoItems: VideoItem[]\r\n  currentLang: AdminLanguage\r\n  setCurrentLang: (lang: AdminLanguage) => void\r\n  setFormData: React.Dispatch<React.SetStateAction<any>>\r\n  setVideoItems: React.Dispatch<React.SetStateAction<VideoItem[]>>\r\n  handleFieldChange: (key: string, value: any) => void\r\n  handleArrayFieldChange: (key: string, value: string[]) => void\r\n  handleVideoUrlChange: (index: number, url: string) => void\r\n  handleVideoDescriptionChange: (index: number, description: string, lang: 'ko' | 'en' | 'ja') => void\r\n  handleAddVideo: () => void\r\n  handleRemoveVideo: (index: number) => void\r\n  prepareDataForSubmit: () => any\r\n}\r\n\r\n/**\r\n * Custom hook for ProjectForm\r\n * Handles all form state management, data initialization, and preparation for submission\r\n */\r\nexport const useProjectForm = (initialData: Project | null): UseProjectFormReturn => {\r\n  const [currentLang, setCurrentLang] = useState<AdminLanguage>('ko')\r\n  \r\n  // Initialize categoryIds\r\n  const initialCategoryIds = initialData?.categoryIds \r\n    ? (initialData.categoryIds as any[]).map((catIdOrObj: any) => \r\n        typeof catIdOrObj === 'string' ? catIdOrObj : catIdOrObj._id\r\n      ).filter(Boolean) as string[]\r\n    : []\r\n\r\n  // Initialize skillIds\r\n  const initialSkillIds = initialData?.skillIds \r\n    ? (initialData.skillIds as any[]).map((skillIdOrObj: any) => \r\n        typeof skillIdOrObj === 'string' ? skillIdOrObj : skillIdOrObj._id\r\n      ).filter(Boolean) as string[]\r\n    : []\r\n\r\n  // Initialize video items\r\n  const [videoItems, setVideoItems] = useState<VideoItem[]>(() => {\r\n    if (initialData?.videos && Array.isArray(initialData.videos)) {\r\n      return initialData.videos.map((url, index) => ({\r\n        url,\r\n        description: initialData.videoDescriptions?.[index] || '',\r\n        descriptionEn: initialData.videoDescriptionsEn?.[index] || '',\r\n        descriptionJa: initialData.videoDescriptionsJa?.[index] || ''\r\n      }))\r\n    }\r\n    return []\r\n  })\r\n\r\n  // Initialize form data\r\n  const [formData, setFormData] = useState<any>(\r\n    initialData ? {\r\n      ...initialData,\r\n      // Convert arrays to strings for textarea inputs\r\n      technologies: Array.isArray(initialData.technologies) ? initialData.technologies.join('\\n') : initialData.technologies || '',\r\n      technologiesEn: Array.isArray(initialData.technologiesEn) ? initialData.technologiesEn.join('\\n') : initialData.technologiesEn || '',\r\n      technologiesJa: Array.isArray(initialData.technologiesJa) ? initialData.technologiesJa.join('\\n') : initialData.technologiesJa || '',\r\n      images: Array.isArray(initialData.images) ? initialData.images.join('\\n') : initialData.images || '',\r\n      features: Array.isArray(initialData.features) ? initialData.features.join('\\n') : initialData.features || '',\r\n      featuresEn: Array.isArray(initialData.featuresEn) ? initialData.featuresEn.join('\\n') : initialData.featuresEn || '',\r\n      featuresJa: Array.isArray(initialData.featuresJa) ? initialData.featuresJa.join('\\n') : initialData.featuresJa || '',\r\n      learnings: Array.isArray(initialData.learnings) ? initialData.learnings.join('\\n') : initialData.learnings || '',\r\n      learningsEn: Array.isArray(initialData.learningsEn) ? initialData.learningsEn.join('\\n') : initialData.learningsEn || '',\r\n      learningsJa: Array.isArray(initialData.learningsJa) ? initialData.learningsJa.join('\\n') : initialData.learningsJa || '',\r\n      skillIds: initialSkillIds,\r\n      categoryIds: initialCategoryIds\r\n    } : {\r\n      title: '',\r\n      titleEn: '',\r\n      titleJa: '',\r\n      description: '',\r\n      descriptionEn: '',\r\n      descriptionJa: '',\r\n      technologies: '',\r\n      technologiesEn: '',\r\n      technologiesJa: '',\r\n      category: 'automation',\r\n      categoryIds: [],\r\n      status: 'preparing',\r\n      githubLink: '',\r\n      liveLink: '',\r\n      image: '',\r\n      images: '',\r\n      detailedDescription: '',\r\n      detailedDescriptionEn: '',\r\n      detailedDescriptionJa: '',\r\n      features: '',\r\n      featuresEn: '',\r\n      featuresJa: '',\r\n      learnings: '',\r\n      learningsEn: '',\r\n      learningsJa: '',\r\n      order: 0,\r\n      skillIds: []\r\n    }\r\n  )\r\n\r\n  // Handle simple field change\r\n  const handleFieldChange = (key: string, value: any) => {\r\n    setFormData((prev: any) => ({\r\n      ...prev,\r\n      [key]: value\r\n    }))\r\n  }\r\n\r\n  // Handle array field change (for TagInput or other array inputs)\r\n  const handleArrayFieldChange = (key: string, value: string[]) => {\r\n    setFormData((prev: any) => ({\r\n      ...prev,\r\n      [key]: value\r\n    }))\r\n  }\r\n\r\n  // Video management functions\r\n  const handleAddVideo = () => {\r\n    setVideoItems([...videoItems, { url: '', description: '', descriptionEn: '', descriptionJa: '' }])\r\n  }\r\n\r\n  const handleRemoveVideo = (index: number) => {\r\n    setVideoItems(videoItems.filter((_, i) => i !== index))\r\n  }\r\n\r\n  const handleVideoUrlChange = (index: number, url: string) => {\r\n    const newVideoItems = [...videoItems]\r\n    if (newVideoItems[index]) {\r\n      newVideoItems[index].url = url\r\n      setVideoItems(newVideoItems)\r\n    }\r\n  }\r\n\r\n  const handleVideoDescriptionChange = (index: number, description: string, lang: 'ko' | 'en' | 'ja') => {\r\n    const newVideoItems = [...videoItems]\r\n    if (newVideoItems[index]) {\r\n      if (lang === 'ko') {\r\n        newVideoItems[index].description = description\r\n      } else if (lang === 'en') {\r\n        newVideoItems[index].descriptionEn = description\r\n      } else if (lang === 'ja') {\r\n        newVideoItems[index].descriptionJa = description\r\n      }\r\n      setVideoItems(newVideoItems)\r\n    }\r\n  }\r\n\r\n  // Prepare data for submission\r\n  const prepareDataForSubmit = (): any => {\r\n    // Extract video data\r\n    const videos = videoItems.map(item => item.url).filter(url => url.trim().length > 0)\r\n    const videoDescriptions = videoItems.map(item => item.description)\r\n    const videoDescriptionsEn = videoItems.map(item => item.descriptionEn)\r\n    const videoDescriptionsJa = videoItems.map(item => item.descriptionJa)\r\n    \r\n    // Validate video descriptions length\r\n    for (let i = 0; i < videoItems.length; i++) {\r\n      const item = videoItems[i]\r\n      if (!item) continue\r\n      if (item.description && item.description.length > 5000) {\r\n        throw new Error(`ì˜ìƒ ${i + 1}ì˜ í•œêµ­ì–´ ì„¤ëª…ì´ ë„ˆë¬´ ê¹ë‹ˆë‹¤ (í˜„ì¬: ${item.description.length}ì, ìµœëŒ€: 5000ì)`)\r\n      }\r\n      if (item.descriptionEn && item.descriptionEn.length > 5000) {\r\n        throw new Error(`ì˜ìƒ ${i + 1}ì˜ ì˜ì–´ ì„¤ëª…ì´ ë„ˆë¬´ ê¹ë‹ˆë‹¤ (í˜„ì¬: ${item.descriptionEn.length}ì, ìµœëŒ€: 5000ì)`)\r\n      }\r\n      if (item.descriptionJa && item.descriptionJa.length > 5000) {\r\n        throw new Error(`ì˜ìƒ ${i + 1}ì˜ ì¼ë³¸ì–´ ì„¤ëª…ì´ ë„ˆë¬´ ê¹ë‹ˆë‹¤ (í˜„ì¬: ${item.descriptionJa.length}ì, ìµœëŒ€: 5000ì)`)\r\n      }\r\n    }\r\n    \r\n    // Process all array fields\r\n    const processedData = {\r\n      ...formData,\r\n      // Technologies\r\n      technologies: typeof formData.technologies === 'string' \r\n        ? formData.technologies.split(/[,\\n]/).map((s: string) => s.trim()).filter((s: string) => s.length > 0)\r\n        : formData.technologies || [],\r\n      technologiesEn: typeof formData.technologiesEn === 'string'\r\n        ? formData.technologiesEn.split(/[,\\n]/).map((s: string) => s.trim()).filter((s: string) => s.length > 0)\r\n        : formData.technologiesEn || [],\r\n      technologiesJa: typeof formData.technologiesJa === 'string'\r\n        ? formData.technologiesJa.split(/[,\\n]/).map((s: string) => s.trim()).filter((s: string) => s.length > 0)\r\n        : formData.technologiesJa || [],\r\n      // Images\r\n      images: typeof formData.images === 'string' \r\n        ? formData.images.split('\\n').map((s: string) => s.trim()).filter((s: string) => s.length > 0)\r\n        : formData.images || [],\r\n      // Videos\r\n      videos,\r\n      videoDescriptions,\r\n      videoDescriptionsEn,\r\n      videoDescriptionsJa,\r\n      // Features\r\n      features: typeof formData.features === 'string' \r\n        ? formData.features.split('\\n').map((s: string) => s.trim()).filter((s: string) => s.length > 0)\r\n        : formData.features || [],\r\n      featuresEn: typeof formData.featuresEn === 'string'\r\n        ? formData.featuresEn.split('\\n').map((s: string) => s.trim()).filter((s: string) => s.length > 0)\r\n        : formData.featuresEn || [],\r\n      featuresJa: typeof formData.featuresJa === 'string'\r\n        ? formData.featuresJa.split('\\n').map((s: string) => s.trim()).filter((s: string) => s.length > 0)\r\n        : formData.featuresJa || [],\r\n      // Learnings\r\n      learnings: typeof formData.learnings === 'string' \r\n        ? formData.learnings.split('\\n').map((s: string) => s.trim()).filter((s: string) => s.length > 0)\r\n        : formData.learnings || [],\r\n      learningsEn: typeof formData.learningsEn === 'string'\r\n        ? formData.learningsEn.split('\\n').map((s: string) => s.trim()).filter((s: string) => s.length > 0)\r\n        : formData.learningsEn || [],\r\n      learningsJa: typeof formData.learningsJa === 'string'\r\n        ? formData.learningsJa.split('\\n').map((s: string) => s.trim()).filter((s: string) => s.length > 0)\r\n        : formData.learningsJa || [],\r\n      // SkillIds (already array)\r\n      skillIds: formData.skillIds || []\r\n    }\r\n    \r\n    return processedData\r\n  }\r\n\r\n  return {\r\n    formData,\r\n    videoItems,\r\n    currentLang,\r\n    setCurrentLang,\r\n    setFormData,\r\n    setVideoItems,\r\n    handleFieldChange,\r\n    handleArrayFieldChange,\r\n    handleVideoUrlChange,\r\n    handleVideoDescriptionChange,\r\n    handleAddVideo,\r\n    handleRemoveVideo,\r\n    prepareDataForSubmit\r\n  }\r\n}\r\n\r\n","import { useState, useEffect, useCallback } from 'react'\r\nimport { projectsAPI } from '../services/api'\r\nimport { Project } from '../types'\r\n\r\nexport const useProjectManagerData = () => {\r\n  const [projects, setProjects] = useState<Project[]>([])\r\n  const [isLoading, setIsLoading] = useState(false)\r\n\r\n  // Project ë°ì´í„°ë§Œ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜\r\n  const fetchProjects = useCallback(async () => {\r\n    setIsLoading(true)\r\n    try {\r\n      console.log('ğŸ“¥ í”„ë¡œì íŠ¸ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°...')\r\n      const response = await projectsAPI.getAll()\r\n      const projectsData = response.data.data || []\r\n      console.log(`âœ… ${projectsData.length}ê°œ í”„ë¡œì íŠ¸ ë¡œë“œë¨`)\r\n      console.log('ğŸ“Š í”„ë¡œì íŠ¸ ë°ì´í„°:', projectsData)\r\n      setProjects(projectsData)\r\n    } catch (error) {\r\n      console.error('âŒ Project ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error)\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  // Project ìƒì„±\r\n  const createProject = useCallback(async (projectData: any) => {\r\n    try {\r\n      console.log('â• í”„ë¡œì íŠ¸ ìƒì„± API í˜¸ì¶œ:', projectData)\r\n      const response = await projectsAPI.create(projectData)\r\n      console.log('âœ… ì„œë²„ ì‘ë‹µ:', response.data)\r\n      console.log('ğŸ”„ í”„ë¡œì íŠ¸ ëª©ë¡ ìƒˆë¡œê³ ì¹¨ ì‹œì‘...')\r\n      await fetchProjects() // ìƒˆë¡œê³ ì¹¨\r\n      console.log('âœ… í”„ë¡œì íŠ¸ ëª©ë¡ ìƒˆë¡œê³ ì¹¨ ì™„ë£Œ')\r\n      return { success: true }\r\n    } catch (error) {\r\n      console.error('âŒ Project ìƒì„± ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }, [fetchProjects])\r\n\r\n  // Project ìˆ˜ì •\r\n  const updateProject = useCallback(async (id: string, projectData: any) => {\r\n    try {\r\n      console.log('ğŸ”„ í”„ë¡œì íŠ¸ ìˆ˜ì • API í˜¸ì¶œ:', { id, projectData })\r\n      const response = await projectsAPI.update(id, projectData)\r\n      console.log('âœ… ì„œë²„ ì‘ë‹µ:', response.data)\r\n      console.log('ğŸ”„ í”„ë¡œì íŠ¸ ëª©ë¡ ìƒˆë¡œê³ ì¹¨ ì‹œì‘...')\r\n      await fetchProjects() // ìƒˆë¡œê³ ì¹¨\r\n      console.log('âœ… í”„ë¡œì íŠ¸ ëª©ë¡ ìƒˆë¡œê³ ì¹¨ ì™„ë£Œ')\r\n      return { success: true }\r\n    } catch (error) {\r\n      console.error('âŒ Project ìˆ˜ì • ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }, [fetchProjects])\r\n\r\n  // Project ì‚­ì œ\r\n  const deleteProject = useCallback(async (id: string) => {\r\n    try {\r\n      await projectsAPI.delete(id)\r\n      await fetchProjects() // ìƒˆë¡œê³ ì¹¨\r\n      return { success: true }\r\n    } catch (error) {\r\n      console.error('Project ì‚­ì œ ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }, [fetchProjects])\r\n\r\n  useEffect(() => {\r\n    fetchProjects()\r\n  }, [])\r\n\r\n  return {\r\n    projects,\r\n    isLoading,\r\n    fetchProjects,\r\n    createProject,\r\n    updateProject,\r\n    deleteProject\r\n  }\r\n}\r\n","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { messagesAPI } from '../services/api'\r\nimport { ContactMessage } from '../types'\r\n\r\n// ğŸ’¡ ë©”ì‹œì§€ ê´€ë ¨ ì¿¼ë¦¬ í‚¤ ìƒìˆ˜ - ëª¨ë“  ë©”ì‹œì§€ ë°ì´í„° ìºì‹œì˜ ê¸°ì¤€ì \r\nexport const MESSAGE_QUERY_KEY = 'adminMessages'\r\n\r\n// ğŸŒŸ ë©”ì‹œì§€ ëª©ë¡ ì¡°íšŒ (React Query)\r\nexport const useMessages = () => {\r\n  return useQuery<ContactMessage[], Error>({\r\n    queryKey: [MESSAGE_QUERY_KEY, 'list'],\r\n    queryFn: async () => {\r\n      const response = await messagesAPI.getAll()\r\n      return response.data.data || response.data || []\r\n    },\r\n    staleTime: 2 * 60 * 1000, // 2ë¶„ ë™ì•ˆ ìºì‹œ ìœ ì§€\r\n    gcTime: 5 * 60 * 1000, // 5ë¶„ í›„ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜\r\n  })\r\n}\r\n\r\n// ğŸŒŸ ë©”ì‹œì§€ ì½ìŒ ì²˜ë¦¬ (React Query Mutation)\r\nexport const useMarkMessageAsRead = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation<void, Error, string>({\r\n    mutationFn: async (id: string) => {\r\n      await messagesAPI.markAsRead(id)\r\n    },\r\n    onSuccess: () => {\r\n      // ğŸ’¡ í•µì‹¬: ë©”ì‹œì§€ ê´€ë ¨ ëª¨ë“  ì¿¼ë¦¬ ë¬´íš¨í™” â†’ ìë™ìœ¼ë¡œ ë‹¤ì‹œ fetch\r\n      queryClient.invalidateQueries({ queryKey: [MESSAGE_QUERY_KEY] })\r\n      // ğŸ’¡ ë°ì´í„° ì¹´ìš´íŠ¸ë„ ë¬´íš¨í™”í•˜ì—¬ ë©”ì‹œì§€ ê°œìˆ˜ ì—…ë°ì´íŠ¸\r\n      queryClient.invalidateQueries({ queryKey: ['dataCounts'] })\r\n    },\r\n  })\r\n}\r\n\r\n// ğŸŒŸ ë©”ì‹œì§€ ì‚­ì œ (React Query Mutation)\r\nexport const useDeleteMessage = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation<void, Error, string>({\r\n    mutationFn: async (id: string) => {\r\n      await messagesAPI.delete(id)\r\n    },\r\n    onSuccess: () => {\r\n      // ğŸ’¡ í•µì‹¬: ë©”ì‹œì§€ ê´€ë ¨ ëª¨ë“  ì¿¼ë¦¬ ë¬´íš¨í™” â†’ ìë™ìœ¼ë¡œ ë‹¤ì‹œ fetch\r\n      queryClient.invalidateQueries({ queryKey: [MESSAGE_QUERY_KEY] })\r\n      // ğŸ’¡ ë°ì´í„° ì¹´ìš´íŠ¸ë„ ë¬´íš¨í™”í•˜ì—¬ ë©”ì‹œì§€ ê°œìˆ˜ ì—…ë°ì´íŠ¸\r\n      queryClient.invalidateQueries({ queryKey: ['dataCounts'] })\r\n    },\r\n  })\r\n}\r\n\r\n// ğŸŒŸ ì¼ê´„ ì½ìŒ ì²˜ë¦¬ (React Query Mutation)\r\nexport const useBulkMarkAsRead = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation<void, Error, string[]>({\r\n    mutationFn: (ids: string[]) => Promise.all(ids.map(id => messagesAPI.markAsRead(id))).then(() => undefined),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: [MESSAGE_QUERY_KEY] })\r\n      // ğŸ’¡ ë°ì´í„° ì¹´ìš´íŠ¸ë„ ë¬´íš¨í™”í•˜ì—¬ ë©”ì‹œì§€ ê°œìˆ˜ ì—…ë°ì´íŠ¸\r\n      queryClient.invalidateQueries({ queryKey: ['dataCounts'] })\r\n    },\r\n  })\r\n}\r\n\r\n// ğŸŒŸ ì¼ê´„ ì‚­ì œ (React Query Mutation)\r\nexport const useBulkDeleteMessages = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation<void, Error, string[]>({\r\n    mutationFn: (ids: string[]) => Promise.all(ids.map(id => messagesAPI.delete(id))).then(() => undefined),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: [MESSAGE_QUERY_KEY] })\r\n      // ğŸ’¡ ë°ì´í„° ì¹´ìš´íŠ¸ë„ ë¬´íš¨í™”í•˜ì—¬ ë©”ì‹œì§€ ê°œìˆ˜ ì—…ë°ì´íŠ¸\r\n      queryClient.invalidateQueries({ queryKey: ['dataCounts'] })\r\n    },\r\n  })\r\n}\r\n\r\n// ğŸ”„ ê¸°ì¡´ í›… í˜¸í™˜ì„± ìœ ì§€ (ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ê°€ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡)\r\nexport const useMessageManagerData = () => {\r\n  const { data: messages = [], isLoading } = useMessages()\r\n  const markAsReadMutation = useMarkMessageAsRead()\r\n  const deleteMessageMutation = useDeleteMessage()\r\n  const bulkMarkAsReadMutation = useBulkMarkAsRead()\r\n  const bulkDeleteMutation = useBulkDeleteMessages()\r\n\r\n  const markAsRead = async (id: string) => {\r\n    try {\r\n      await markAsReadMutation.mutateAsync(id)\r\n      return { success: true }\r\n    } catch (error) {\r\n      console.error('Message ì½ìŒ ì²˜ë¦¬ ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }\r\n\r\n  const deleteMessage = async (id: string) => {\r\n    try {\r\n      await deleteMessageMutation.mutateAsync(id)\r\n      return { success: true }\r\n    } catch (error) {\r\n      console.error('Message ì‚­ì œ ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }\r\n\r\n  const bulkMarkAsRead = async (ids: string[]) => {\r\n    try {\r\n      await bulkMarkAsReadMutation.mutateAsync(ids)\r\n      return { success: true }\r\n    } catch (error) {\r\n      console.error('Message ì¼ê´„ ì½ìŒ ì²˜ë¦¬ ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }\r\n\r\n  const bulkDelete = async (ids: string[]) => {\r\n    try {\r\n      await bulkDeleteMutation.mutateAsync(ids)\r\n      return { success: true }\r\n    } catch (error) {\r\n      console.error('Message ì¼ê´„ ì‚­ì œ ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }\r\n\r\n  return {\r\n    messages,\r\n    isLoading,\r\n    fetchMessages: () => {}, // ë” ì´ìƒ í•„ìš” ì—†ì§€ë§Œ í˜¸í™˜ì„± ìœ ì§€\r\n    markAsRead,\r\n    deleteMessage,\r\n    bulkMarkAsRead,\r\n    bulkDelete\r\n  }\r\n}\r\n","import { useQuery } from '@tanstack/react-query'\r\nimport { messagesAPI } from '../services/api'\r\nimport { ContactMessage } from '../types'\r\nimport { MESSAGE_QUERY_KEY } from './useMessageManagerData'\r\n\r\ninterface UseMessageDetailOptions {\r\n  enabled?: boolean\r\n  staleTime?: number\r\n}\r\n\r\nexport function useMessageDetail(\r\n  messageId: string | undefined,\r\n  options: UseMessageDetailOptions = {}\r\n) {\r\n  const { enabled = true, staleTime = 5 * 60 * 1000 } = options\r\n\r\n  return useQuery({\r\n    queryKey: [MESSAGE_QUERY_KEY, 'detail', messageId], // ğŸ’¡ í†µì¼ëœ ì¿¼ë¦¬ í‚¤ ì‚¬ìš©\r\n    queryFn: async () => {\r\n      if (!messageId) return null\r\n      const response = await messagesAPI.getById(messageId)\r\n      return response.data.data\r\n    },\r\n    enabled: !!messageId && enabled,\r\n    staleTime, // 5ë¶„ ë™ì•ˆ ìºì‹œëœ ë°ì´í„° ì‚¬ìš©\r\n    gcTime: 10 * 60 * 1000, // 10ë¶„ í›„ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜\r\n    retry: 2, // ì‹¤íŒ¨ ì‹œ 2ë²ˆ ì¬ì‹œë„\r\n    retryDelay: attemptIndex => Math.min(1000 * 2 ** attemptIndex, 30000), // ì§€ìˆ˜ ë°±ì˜¤í”„\r\n    refetchOnWindowFocus: false, // ì°½ í¬ì»¤ìŠ¤ ì‹œ ìë™ ë¦¬í˜ì¹˜ ë¹„í™œì„±í™”\r\n    select: (data): ContactMessage | null => {\r\n      // ë°ì´í„° ë³€í™˜ ë¡œì§ (í•„ìš”ì‹œ)\r\n      return data || null\r\n    }\r\n  })\r\n}\r\n\r\n// ë©”ì‹œì§€ ëª©ë¡ê³¼ ìƒì„¸ ì •ë³´ë¥¼ í•¨ê»˜ ê´€ë¦¬í•˜ëŠ” ë³µí•© í›…\r\nexport function useMessageWithDetail(messageId: string | undefined) {\r\n  const messageDetailQuery = useMessageDetail(messageId)\r\n  \r\n  return {\r\n    message: messageDetailQuery.data,\r\n    isLoading: messageDetailQuery.isLoading,\r\n    isError: messageDetailQuery.isError,\r\n    error: messageDetailQuery.error,\r\n    refetch: messageDetailQuery.refetch,\r\n    isFetching: messageDetailQuery.isFetching,\r\n    isStale: messageDetailQuery.isStale\r\n  }\r\n}\r\n","import { useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { skillsAPI } from '@/services/api'\r\nimport { SkillCategory, SkillFormData, SkillCategoryFormData } from '@/types'\r\n\r\n// useSkills.tsì™€ ë™ì¼í•œ ìºì‹œ í‚¤\r\nconst SKILLS_QUERY_KEY = ['skillCategories']\r\n\r\n// =================================================================\r\n// ğŸŒŸ 1. ìŠ¤í‚¬ ì—…ë°ì´íŠ¸ (í•µì‹¬ ë¬¸ì œ í•´ê²°)\r\n// =================================================================\r\n\r\nexport const useUpdateSkillMutation = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation<any, Error, { id: string; data: SkillFormData }>({\r\n    mutationFn: async ({ id, data }) => {\r\n      // ì„œë²„ì— ì €ì¥\r\n      const response = await skillsAPI.update(id, data)\r\n      return response.data?.data || response.data\r\n    },\r\n    \r\n    // ğŸš€ ë‚™ê´€ì  ì—…ë°ì´íŠ¸\r\n    onMutate: async ({ id, data }) => {\r\n      // 1. ì§„í–‰ ì¤‘ì¸ ì¿¼ë¦¬ ì·¨ì†Œ (ê²½ìŸ ì¡°ê±´ ë°©ì§€)\r\n      await queryClient.cancelQueries({ queryKey: SKILLS_QUERY_KEY })\r\n      \r\n      // 2. ì´ì „ ìºì‹œ ë°±ì—… (ë¡¤ë°±ìš©)\r\n      const previousCategories = queryClient.getQueryData<SkillCategory[]>(SKILLS_QUERY_KEY)\r\n\r\n      // 3. ìºì‹œë¥¼ ë‚™ê´€ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸\r\n      queryClient.setQueryData<SkillCategory[]>(SKILLS_QUERY_KEY, (oldCategories) => {\r\n        if (!oldCategories) return previousCategories\r\n        return oldCategories.map(category => ({\r\n          ...category,\r\n          skills: category.skills?.map(skill => \r\n            skill._id === id \r\n              ? { ...skill, ...data, updatedAt: new Date().toISOString() } // ğŸŒŸ ë³‘í•©\r\n              : skill\r\n          ) || []\r\n        }))\r\n      })\r\n      \r\n      // 4. ë¡¤ë°±ì— ì‚¬ìš©í•  Context ë°˜í™˜\r\n      return { previousCategories }\r\n    },\r\n\r\n    // âœ… ì—ëŸ¬ ì‹œ ë¡¤ë°±\r\n    onError: (err, variables, context: any) => {\r\n      console.error(\"âŒ ìŠ¤í‚¬ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨ - ë¡¤ë°± ì‹¤í–‰:\", err)\r\n      if (context?.previousCategories) {\r\n        queryClient.setQueryData(SKILLS_QUERY_KEY, context.previousCategories)\r\n      }\r\n    },\r\n\r\n    // ğŸŒŸ onSettled ì œê±°: ìŠ¬ë¼ì´ë” ë“œë˜ê·¸ ì¤‘ invalidateQueries í˜¸ì¶œ ë°©ì§€\r\n    // ë‚™ê´€ì  ì—…ë°ì´íŠ¸ë§Œìœ¼ë¡œë„ ì¶©ë¶„í•˜ë©°, í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ì‹œì—ë§Œ ì„œë²„ ë°ì´í„° ë™ê¸°í™”\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// ğŸŒŸ 2. ìŠ¤í‚¬ ì¹´í…Œê³ ë¦¬ ìƒì„±\r\n// =================================================================\r\n\r\nexport const useCreateSkillCategoryMutation = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation<any, Error, SkillCategoryFormData>({\r\n    mutationFn: async (data) => {\r\n      const response = await skillsAPI.createCategory(data)\r\n      return response.data?.data || response.data\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: SKILLS_QUERY_KEY })\r\n    },\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// ğŸŒŸ 3. ìŠ¤í‚¬ ì¹´í…Œê³ ë¦¬ ìˆ˜ì •\r\n// =================================================================\r\n\r\nexport const useUpdateSkillCategoryMutation = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation<any, Error, { id: string; data: SkillCategoryFormData }>({\r\n    mutationFn: async ({ id, data }) => {\r\n      const response = await skillsAPI.updateCategory(id, data)\r\n      return response.data?.data || response.data\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: SKILLS_QUERY_KEY })\r\n    },\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// ğŸŒŸ 4. ìŠ¤í‚¬ ì¹´í…Œê³ ë¦¬ ì‚­ì œ\r\n// =================================================================\r\n\r\nexport const useDeleteSkillCategoryMutation = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation<any, Error, string>({\r\n    mutationFn: async (id) => {\r\n      await skillsAPI.deleteCategory(id)\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: SKILLS_QUERY_KEY })\r\n    },\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// ğŸŒŸ 5. ìŠ¤í‚¬ ìƒì„±\r\n// =================================================================\r\n\r\nexport const useCreateSkillMutation = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation<any, Error, { categoryId: string; data: SkillFormData }>({\r\n    mutationFn: async ({ categoryId, data }) => {\r\n      const response = await skillsAPI.create(categoryId, data)\r\n      return response.data?.data || response.data\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: SKILLS_QUERY_KEY })\r\n    },\r\n  })\r\n}\r\n\r\n// =================================================================\r\n// ğŸŒŸ 6. ìŠ¤í‚¬ ì‚­ì œ\r\n// =================================================================\r\n\r\nexport const useDeleteSkillMutation = () => {\r\n  const queryClient = useQueryClient()\r\n\r\n  return useMutation<any, Error, string>({\r\n    mutationFn: async (id) => {\r\n      await skillsAPI.delete(id)\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: SKILLS_QUERY_KEY })\r\n    },\r\n  })\r\n}\r\n\r\n","import { useSkills } from './useSkills'\r\nimport { SkillFormData, SkillCategoryFormData } from '../types'\r\nimport { \r\n  useUpdateSkillMutation,\r\n  useCreateSkillCategoryMutation,\r\n  useUpdateSkillCategoryMutation,\r\n  useDeleteSkillCategoryMutation,\r\n  useCreateSkillMutation,\r\n  useDeleteSkillMutation\r\n} from './useSkillMutations'\r\n\r\n/**\r\n * ğŸŒŸ React Query ê¸°ë°˜ ìŠ¤í‚¬ ê´€ë¦¬ í›…\r\n * \r\n * ì£¼ìš” ê°œì„ ì‚¬í•­:\r\n * 1. useState â†’ React Query Cache (ë‹¨ì¼ ë°ì´í„° ì†ŒìŠ¤)\r\n * 2. useEffect â†’ useQuery (ìë™ ìºì‹± ë° ë™ê¸°í™”)\r\n * 3. ë‚™ê´€ì  ì—…ë°ì´íŠ¸ë¡œ ì¦‰ê°ì ì¸ UI ë°˜ì‘\r\n * 4. ì—ëŸ¬ ì‹œ ìë™ ë¡¤ë°±\r\n */\r\nexport const useSkillsManagerData = () => {\r\n  // ğŸŒŸ 1. ë°ì´í„° ì¡°íšŒ: useSkills í›…ì—ì„œ ê¸€ë¡œë²Œ ìºì‹œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\r\n  const { \r\n    skillCategories, \r\n    loading: isLoading, \r\n    refetch: fetchSkillCategories \r\n  } = useSkills()\r\n\r\n  // ğŸŒŸ 2. ë®¤í…Œì´ì…˜ í›… ì´ˆê¸°í™”\r\n  const updateSkillMutation = useUpdateSkillMutation()\r\n  const createCategoryMutation = useCreateSkillCategoryMutation()\r\n  const updateCategoryMutation = useUpdateSkillCategoryMutation()\r\n  const deleteCategoryMutation = useDeleteSkillCategoryMutation()\r\n  const createSkillMutation = useCreateSkillMutation()\r\n  const deleteSkillMutation = useDeleteSkillMutation()\r\n\r\n  // ğŸŒŸ 3. updateSkill í•¨ìˆ˜ë¥¼ useMutationìœ¼ë¡œ ëŒ€ì²´\r\n  const updateSkill = async (id: string, data: SkillFormData) => {\r\n    try {\r\n      const result = await updateSkillMutation.mutateAsync({ id, data })\r\n      return { success: true, data: result }\r\n    } catch (error) {\r\n      console.error('ìŠ¤í‚¬ ìˆ˜ì • ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }\r\n\r\n  // ğŸŒŸ 4. ê¸°íƒ€ CRUD í•¨ìˆ˜ë¥¼ useMutationìœ¼ë¡œ ëŒ€ì²´\r\n  const createSkillCategory = async (data: SkillCategoryFormData) => {\r\n    try {\r\n      const result = await createCategoryMutation.mutateAsync(data)\r\n      return { success: true, data: result }\r\n    } catch (error) {\r\n      console.error('ìŠ¤í‚¬ ì¹´í…Œê³ ë¦¬ ìƒì„± ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }\r\n\r\n  const updateSkillCategory = async (id: string, data: SkillCategoryFormData) => {\r\n    try {\r\n      const result = await updateCategoryMutation.mutateAsync({ id, data })\r\n      return { success: true, data: result }\r\n    } catch (error) {\r\n      console.error('ìŠ¤í‚¬ ì¹´í…Œê³ ë¦¬ ìˆ˜ì • ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }\r\n\r\n  const deleteSkillCategory = async (id: string) => {\r\n    try {\r\n      await deleteCategoryMutation.mutateAsync(id)\r\n      return { success: true }\r\n    } catch (error) {\r\n      console.error('ìŠ¤í‚¬ ì¹´í…Œê³ ë¦¬ ì‚­ì œ ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }\r\n\r\n  const createSkill = async (categoryId: string, data: SkillFormData) => {\r\n    try {\r\n      const result = await createSkillMutation.mutateAsync({ categoryId, data })\r\n      return { success: true, data: result }\r\n    } catch (error) {\r\n      console.error('ìŠ¤í‚¬ ìƒì„± ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }\r\n\r\n  const deleteSkill = async (id: string) => {\r\n    try {\r\n      await deleteSkillMutation.mutateAsync(id)\r\n      return { success: true }\r\n    } catch (error) {\r\n      console.error('ìŠ¤í‚¬ ì‚­ì œ ì‹¤íŒ¨:', error)\r\n      return { success: false, error }\r\n    }\r\n  }\r\n\r\n  return { \r\n    skillCategories, \r\n    isLoading, \r\n    fetchSkillCategories,\r\n    createSkillCategory,\r\n    updateSkillCategory,\r\n    deleteSkillCategory,\r\n    createSkill,\r\n    updateSkill,\r\n    deleteSkill\r\n  }\r\n}\r\n","import { useQuery, useQueryClient } from '@tanstack/react-query'\r\nimport { booksAPI, videoLearningsAPI, videoPlaylistsAPI, experiencesAPI, projectsAPI, messagesAPI, skillsAPI, categoriesAPI } from '../services/api'\r\nimport { MESSAGE_QUERY_KEY } from './useMessageManagerData'\r\n\r\ninterface DataCounts {\r\n  books: number\r\n  videoLearnings: number\r\n  videoPlaylists: number\r\n  experiences: number\r\n  projects: number\r\n  messages: number\r\n  skills: number\r\n  categories: number\r\n}\r\n\r\n// ğŸŒŸ React Queryë¥¼ ì‚¬ìš©í•œ ë°ì´í„° ì¹´ìš´íŠ¸ ì¡°íšŒ\r\nexport const useDataCounts = () => {\r\n  const queryClient = useQueryClient()\r\n  \r\n  const { data: counts, isLoading } = useQuery<DataCounts, Error>({\r\n    queryKey: ['dataCounts'], // ğŸ’¡ ë…ë¦½ì ì¸ ì¿¼ë¦¬ í‚¤\r\n    queryFn: async () => {\r\n      // ì‹¤ì œë¡œëŠ” ê° APIì—ì„œ ë°ì´í„° ê°œìˆ˜ë§Œ ë°˜í™˜í•˜ëŠ” ì „ìš© ì—”ë“œí¬ì¸íŠ¸ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì \r\n      // í˜„ì¬ëŠ” ê¸°ì¡´ APIë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ í›„ lengthë¥¼ ê³„ì‚°\r\n      const [booksResponse, videoLearningsResponse, videoPlaylistsResponse, experiencesResponse, projectsResponse, messagesResponse, skillsResponse, categoriesResponse] = await Promise.all([\r\n        booksAPI.getAll(),\r\n        videoLearningsAPI.getAll(),\r\n        videoPlaylistsAPI.getAll(),\r\n        experiencesAPI.getAll(),\r\n        projectsAPI.getAll(),\r\n        messagesAPI.getAll(), // ğŸ’¡ ë©”ì‹œì§€ë„ ì§ì ‘ ì¡°íšŒ\r\n        skillsAPI.getCategories(),\r\n        categoriesAPI.getAll()\r\n      ])\r\n      \r\n      return {\r\n        books: booksResponse.data?.data?.length || 0,\r\n        videoLearnings: videoLearningsResponse.data?.data?.length || 0,\r\n        videoPlaylists: videoPlaylistsResponse.data?.data?.length || 0,\r\n        experiences: experiencesResponse.data?.data?.length || 0,\r\n        projects: projectsResponse.data?.data?.length || 0,\r\n        messages: messagesResponse.data?.data?.length || 0, // ğŸ’¡ ë©”ì‹œì§€ API ì‘ë‹µì—ì„œ ê¸¸ì´ ê³„ì‚°\r\n        skills: skillsResponse.data?.data?.length || 0,\r\n        categories: categoriesResponse.data?.length || 0,\r\n      }\r\n    },\r\n    staleTime: 2 * 60 * 1000, // 2ë¶„ ë™ì•ˆ ìºì‹œ ìœ ì§€\r\n    gcTime: 5 * 60 * 1000, // 5ë¶„ í›„ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜\r\n    refetchOnWindowFocus: true, // ì°½ í¬ì»¤ìŠ¤ ì‹œ ìë™ ìƒˆë¡œê³ ì¹¨ (ë°ì´í„° ë™ê¸°í™”)\r\n  })\r\n\r\n  return { \r\n    counts: counts || {\r\n      books: 0,\r\n      videoLearnings: 0,\r\n      videoPlaylists: 0,\r\n      experiences: 0,\r\n      projects: 0,\r\n      messages: 0,\r\n      skills: 0,\r\n      categories: 0,\r\n    }, \r\n    isLoading,\r\n    refreshCounts: () => {} // ë” ì´ìƒ í•„ìš” ì—†ì§€ë§Œ í˜¸í™˜ì„± ìœ ì§€\r\n  }\r\n}\r\n\r\nexport default useDataCounts\r\n","import { useState } from 'react'\r\n\r\n// íƒ­ íƒ€ì… ì •ì˜\r\nexport type AdminTab = 'settings' | 'books' | 'videoLearnings' | 'videoPlaylists' | 'experiences' | 'projects' | 'messages' | 'skills' | 'categories'\r\n\r\n// í•„í„° íƒ€ì…ë“¤\r\nexport type BookFilter = 'all' | 'five-star' | 'category'\r\nexport type ExperienceFilter = 'all' | 'company' | 'year'\r\nexport type ProjectFilter = 'all' | 'category' | 'featured'\r\n\r\n// í•„í„° ê·¸ë£¹ ì¸í„°í˜ì´ìŠ¤ë“¤\r\nexport interface BookFilterGroup {\r\n  state: {\r\n    filter: BookFilter\r\n    searchTerm: string\r\n    selectedCategory: string\r\n  }\r\n  actions: {\r\n    setFilter: (filter: BookFilter) => void\r\n    setSearchTerm: (term: string) => void\r\n    setSelectedCategory: (category: string) => void\r\n  }\r\n  data: {\r\n    categories: string[]\r\n  }\r\n}\r\n\r\nexport interface ExperienceFilterGroup {\r\n  state: {\r\n    filter: ExperienceFilter\r\n    searchTerm: string\r\n    selectedCompany: string\r\n    selectedYear: string\r\n  }\r\n  actions: {\r\n    setFilter: (filter: ExperienceFilter) => void\r\n    setSearchTerm: (term: string) => void\r\n    setSelectedCompany: (company: string) => void\r\n    setSelectedYear: (year: string) => void\r\n  }\r\n  data: {\r\n    companies: string[]\r\n    years: string[]\r\n  }\r\n}\r\n\r\nexport interface ProjectFilterGroup {\r\n  state: {\r\n    filter: ProjectFilter\r\n    searchTerm: string\r\n    selectedCategory: string\r\n  }\r\n  actions: {\r\n    setFilter: (filter: ProjectFilter) => void\r\n    setSearchTerm: (term: string) => void\r\n    setSelectedCategory: (category: string) => void\r\n  }\r\n  data: {\r\n    categories: string[]\r\n  }\r\n}\r\n\r\nexport const useAdminSidebarState = () => {\r\n  // íƒ­ ë° ì„¤ì • ì„¹ì…˜ ìƒíƒœ\r\n  const [activeTab, setActiveTab] = useState<AdminTab>('settings')\r\n  const [activeSettingsSection, setActiveSettingsSection] = useState<string | null>(null)\r\n\r\n  // ì„œì  í•„í„° ìƒíƒœ\r\n  const [bookFilter, setBookFilter] = useState<BookFilter>('all')\r\n  const [bookSearchTerm, setBookSearchTerm] = useState('')\r\n  const [selectedBookCategory, setSelectedBookCategory] = useState('')\r\n\r\n  // ê²½ë ¥ í•„í„° ìƒíƒœ\r\n  const [experienceFilter, setExperienceFilter] = useState<ExperienceFilter>('all')\r\n  const [experienceSearchTerm, setExperienceSearchTerm] = useState('')\r\n  const [selectedExperienceCompany, setSelectedExperienceCompany] = useState('')\r\n  const [selectedExperienceYear, setSelectedExperienceYear] = useState('')\r\n\r\n  // í”„ë¡œì íŠ¸ í•„í„° ìƒíƒœ\r\n  const [projectFilter, setProjectFilter] = useState<ProjectFilter>('all')\r\n  const [projectSearchTerm, setProjectSearchTerm] = useState('')\r\n  const [selectedProjectCategory, setSelectedProjectCategory] = useState('')\r\n\r\n  // ë”ë¯¸ ë°ì´í„° (ì‹¤ì œë¡œëŠ” APIì—ì„œ ê°€ì ¸ì™€ì•¼ í•¨)\r\n  const bookCategories = ['í”„ë¡œê·¸ë˜ë°', 'ë°ì´í„°ë² ì´ìŠ¤', 'ì›¹ ê°œë°œ', 'AI/ML', 'ì‹œìŠ¤í…œ ì„¤ê³„']\r\n  const experienceCompanies = ['ABC Corp', 'XYZ Inc', 'Dev Solutions', 'Tech Startup']\r\n  const experienceYears = ['2024', '2023', '2022', '2021', '2020']\r\n  const projectCategories = ['ì›¹ ê°œë°œ', 'ëª¨ë°”ì¼ ì•±', 'ë°ì´í„° ë¶„ì„', 'ì„ë² ë””ë“œ', 'AI/ML']\r\n\r\n  return {\r\n    // íƒ­ ê´€ë ¨ ìƒíƒœì™€ ì•¡ì…˜\r\n    activeTab,\r\n    setActiveTab,\r\n    activeSettingsSection,\r\n    setActiveSettingsSection,\r\n\r\n    // ì„œì  í•„í„° ê´€ë ¨ ìƒíƒœì™€ ì•¡ì…˜ì„ í•˜ë‚˜ì˜ ê°ì²´ë¡œ ë¬¶ì–´ì„œ ë°˜í™˜\r\n    bookFilters: {\r\n      state: {\r\n        filter: bookFilter,\r\n        searchTerm: bookSearchTerm,\r\n        selectedCategory: selectedBookCategory,\r\n      },\r\n      actions: {\r\n        setFilter: setBookFilter,\r\n        setSearchTerm: setBookSearchTerm,\r\n        setSelectedCategory: setSelectedBookCategory,\r\n      },\r\n      data: {\r\n        categories: bookCategories,\r\n      },\r\n    } as BookFilterGroup,\r\n\r\n    // ê²½ë ¥ í•„í„° ê´€ë ¨ ìƒíƒœì™€ ì•¡ì…˜ì„ í•˜ë‚˜ì˜ ê°ì²´ë¡œ ë¬¶ì–´ì„œ ë°˜í™˜\r\n    experienceFilters: {\r\n      state: {\r\n        filter: experienceFilter,\r\n        searchTerm: experienceSearchTerm,\r\n        selectedCompany: selectedExperienceCompany,\r\n        selectedYear: selectedExperienceYear,\r\n      },\r\n      actions: {\r\n        setFilter: setExperienceFilter,\r\n        setSearchTerm: setExperienceSearchTerm,\r\n        setSelectedCompany: setSelectedExperienceCompany,\r\n        setSelectedYear: setSelectedExperienceYear,\r\n      },\r\n      data: {\r\n        companies: experienceCompanies,\r\n        years: experienceYears,\r\n      },\r\n    } as ExperienceFilterGroup,\r\n\r\n    // í”„ë¡œì íŠ¸ í•„í„° ê´€ë ¨ ìƒíƒœì™€ ì•¡ì…˜ì„ í•˜ë‚˜ì˜ ê°ì²´ë¡œ ë¬¶ì–´ì„œ ë°˜í™˜\r\n    projectFilters: {\r\n      state: {\r\n        filter: projectFilter,\r\n        searchTerm: projectSearchTerm,\r\n        selectedCategory: selectedProjectCategory,\r\n      },\r\n      actions: {\r\n        setFilter: setProjectFilter,\r\n        setSearchTerm: setProjectSearchTerm,\r\n        setSelectedCategory: setSelectedProjectCategory,\r\n      },\r\n      data: {\r\n        categories: projectCategories,\r\n      },\r\n    } as ProjectFilterGroup,\r\n  }\r\n}\r\n"],"names":["INITIAL_SETTINGS","fullName","firstName","role","subtitle","location","education","yearsOfExperience","email","phone","githubUrl","linkedinUrl","heroTitle","heroSubtitle","heroTag","heroCtaLink1","heroCtaLink2","aboutTitle","aboutSubtitle","aboutDescription1","aboutDescription2","skillsTitle","skillsSubtitle","projectsTitle","projectsSubtitle","projectsUpdateTitle","projectsUpdateDescription","projectsUpdateTechList","booksTitle","booksSubtitle","contactTitle","contactSubtitle","experienceTitle","experienceSubtitle","learningGoalsTitle","learningGoalsDescription","learningGoalsList","stat1Number","stat1Label","stat2Number","stat2Label","stat3Number","stat3Label","mainSkills","SiteSettingsContext","createContext","SiteSettingsProvider","children","settings","setSettings","useState","loading","setLoading","error","setError","fetchSettings","useCallback","async","response","settingsAPI","get","mergedSettings","data","err","useEffect","refetchSettings","value","useMemo","jsx","Provider","useSiteSettings","context","useContext","Error","SECTION_IDS","DEFAULT_OPTIONS","offset","debounceDelay","useScrollSpy","options","activeSection","setActiveSection","timeoutRef","useRef","handleScroll","activationPoint","window","scrollY","newActiveSection","sectionId","element","document","getElementById","offsetTop","debouncedHandleScroll","func","delay","timeoutId","args","clearTimeout","setTimeout","debounce","addEventListener","passive","removeEventListener","current","useSidebarSkills","coreSkills","setCoreSkills","languageSkills","setLanguageSkills","isLoadingSkills","setIsLoadingSkills","siteSettings","fetchSkills","allSkills","skillsAPI","getAll","sidebarSkills","filter","skill","showInSidebar","sort","a","b","order","slice","sidebarSkillCount","length","level","langSkills","showInLanguageCard","languageCardSkillCount","BOOK_QUERY_KEY","useBooks","useQuery","queryKey","queryFn","booksAPI","staleTime","gcTime","useBook","bookId","getById","enabled","useDeleteBook","queryClient","useQueryClient","useMutation","mutationFn","id","delete","onSuccess","invalidateQueries","CATEGORIES_QUERY_KEY","useCategories","categoriesAPI","useCategoryUsage","getUsage","useCategoryManagerData","categories","isLoading","createMutation","create","useCreateCategory","updateMutation","update","useUpdateCategory","deleteMutation","useDeleteCategory","createCategory","mutateAsync","success","updateCategory","deleteCategory","useLearningManager","editingLearningId","setEditingLearningId","editingChapterId","setEditingChapterId","currentFormData","setCurrentFormData","topic","topicEn","topicJa","content","contentEn","contentJa","showAddForm","setShowAddForm","apiError","setApiError","learningsAPI","createForBook","useCreateLearning","learningId","updateForBook","useUpdateLearning","deleteForBook","useDeleteLearning","updateSkillsMutation","skillIds","updateSkills","useUpdateLearningSkills","isSaving","isPending","resetFormState","handleCancelEdit","learningApiError","handleToggleAddForm","prev","handleAddLearning","handleAddLearningToChapter","chapterId","createForChapter","handleDeleteLearning","confirm","deleteForChapter","handleStartEdit","learning","_id","handleSaveEdit","updateForChapter","handleSkillLinkChange","skillId","isLinked","chaptersQueryKey","previousBook","getQueryData","previousChapters","newSkillIds","currentLearning","flatMap","c","learnings","find","l","currentSkillIds","Array","from","Set","setQueryData","oldChapters","map","chapter","oldBook","chapters","fetchSkillCategories","getCategories","_a","useSkills","skillCategories","refetch","VIDEO_LEARNING_QUERY_KEY","useVideoLearnings","videoLearningsAPI","useVideoLearning","useUpdateVideoLearning","_","variables","useDeleteVideoLearning","useVideoLearningManagerData","videoLearnings","isError","useCreateVideoLearning","createVideoLearning","updateVideoLearning","deleteVideoLearning","useVideoPlaylists","videoPlaylistsAPI","useVideoPlaylist","usePlaylistVideos","playlistId","playlistVideosAPI","getByPlaylist","useDeleteVideoPlaylist","useCreatePlaylistVideo","useUpdatePlaylistVideo","_b","useDeletePlaylistVideo","useVideoPlaylistManagerData","playlists","useCreateVideoPlaylist","useUpdateVideoPlaylist","createPlaylist","updatePlaylist","deletePlaylist","useToastHelpers","showToast","rest","toasts","setToasts","toast","Math","random","toString","substr","newToast","duration","hideToast","clearAllToasts","useToast","title","message","type","warning","info","fetchProjects","projectsAPI","useProjects","projects","useProjectDetail","currentLang","project","setProject","localizedProject","getLocalizedField","titleEn","titleJa","description","descriptionEn","descriptionJa","detailedDescription","detailedDescriptionEn","detailedDescriptionJa","technologies","getLocalizedArrayField","technologiesEn","technologiesJa","features","featuresEn","featuresJa","learningsEn","learningsJa","videoDescriptions","videoDescriptionsEn","videoDescriptionsJa","linkedSkills","category","skills","skillIdSet","has","name","getLocalizedSkillName","getLocalizedSkillDescription","levelText","fetchExperiences","createdAt","Date","getTime","transformExperiences","experiencesAPI","useExperiences","experiences","useAbortController","abortControllerRef","createAbortController","abort","AbortController","getAbortController","signal","useOptimisticArrayUpdate","initialData","isOptimistic","optimisticUpdate","updateData","resetData","setData","setIsOptimistic","previousDataRef","onError","onRollback","optimisticData","apiCall","result","newData","useOptimisticUpdate","optimisticAdd","newItem","now","item","startsWith","optimisticUpdateItem","updates","optimisticDelete","optimisticReorder","reorderedItems","useBookManagerData","setIsLoading","showError","books","fetchBooks","abortController","aborted","includes","errorMessage","createBook","bookData","newBook","toISOString","updatedAt","then","res","updateBook","deleteBook","useCRUDManager","onSave","onDelete","showForm","setShowForm","editingItem","setEditingItem","setIsSaving","isDeleting","setIsDeleting","handleCreate","handleEdit","handleCancel","handleSave","handleDelete","useExperienceManagerData","setExperiences","createExperience","experienceData","updateExperience","deleteExperience","useProjectForm","setCurrentLang","initialCategoryIds","categoryIds","catIdOrObj","Boolean","initialSkillIds","skillIdOrObj","videoItems","setVideoItems","videos","isArray","url","index","_c","formData","setFormData","join","images","status","githubLink","liveLink","image","handleFieldChange","key","handleArrayFieldChange","handleVideoUrlChange","newVideoItems","handleVideoDescriptionChange","lang","handleAddVideo","handleRemoveVideo","i","prepareDataForSubmit","trim","split","s","useProjectManagerData","setProjects","projectsData","createProject","projectData","updateProject","deleteProject","MESSAGE_QUERY_KEY","useMessages","messagesAPI","useMessageManagerData","messages","markAsReadMutation","markAsRead","useMarkMessageAsRead","deleteMessageMutation","useDeleteMessage","bulkMarkAsReadMutation","ids","Promise","all","useBulkMarkAsRead","bulkDeleteMutation","useBulkDeleteMessages","fetchMessages","deleteMessage","bulkMarkAsRead","bulkDelete","useMessageDetail","messageId","retry","retryDelay","attemptIndex","min","refetchOnWindowFocus","select","SKILLS_QUERY_KEY","useSkillsManagerData","updateSkillMutation","onMutate","cancelQueries","previousCategories","oldCategories","useUpdateSkillMutation","createCategoryMutation","useCreateSkillCategoryMutation","updateCategoryMutation","useUpdateSkillCategoryMutation","deleteCategoryMutation","useDeleteSkillCategoryMutation","createSkillMutation","categoryId","useCreateSkillMutation","deleteSkillMutation","useDeleteSkillMutation","createSkillCategory","updateSkillCategory","deleteSkillCategory","createSkill","updateSkill","deleteSkill","useDataCounts","counts","booksResponse","videoLearningsResponse","videoPlaylistsResponse","experiencesResponse","projectsResponse","messagesResponse","skillsResponse","categoriesResponse","_d","videoPlaylists","_f","_e","_h","_g","_j","_i","_l","_k","_n","_m","_o","refreshCounts","useAdminSidebarState","activeTab","setActiveTab","activeSettingsSection","setActiveSettingsSection","bookFilter","setBookFilter","bookSearchTerm","setBookSearchTerm","selectedBookCategory","setSelectedBookCategory","experienceFilter","setExperienceFilter","experienceSearchTerm","setExperienceSearchTerm","selectedExperienceCompany","setSelectedExperienceCompany","selectedExperienceYear","setSelectedExperienceYear","projectFilter","setProjectFilter","projectSearchTerm","setProjectSearchTerm","selectedProjectCategory","setSelectedProjectCategory","bookFilters","state","searchTerm","selectedCategory","actions","setFilter","setSearchTerm","setSelectedCategory","experienceFilters","selectedCompany","selectedYear","setSelectedCompany","setSelectedYear","companies","years","projectFilters"],"mappings":"kPAQA,MAAMA,EAA8C,CAElDC,SAAU,GACVC,UAAW,GACXC,KAAM,GACNC,SAAU,GACVC,SAAU,GACVC,UAAW,GACXC,kBAAmB,GAGnBC,MAAO,GACPC,MAAO,GACPC,UAAW,GACXC,YAAa,GAGbC,UAAW,GACXC,aAAc,GACdC,QAAS,GACTC,aAAc,GACdC,aAAc,GACdC,WAAY,GACZC,cAAe,GACfC,kBAAmB,GACnBC,kBAAmB,GACnBC,YAAa,GACbC,eAAgB,GAChBC,cAAe,GACfC,iBAAkB,GAElBC,oBAAqB,GACrBC,0BAA2B,GAC3BC,uBAAwB,GACxBC,WAAY,GACZC,cAAe,GACfC,aAAc,GACdC,gBAAiB,GACjBC,gBAAiB,GACjBC,mBAAoB,GAGpBC,mBAAoB,aACpBC,yBAA0B,uFAC1BC,kBAAmB,CAAC,WAAY,gBAAiB,SAAU,UAAW,iBAGtEC,YAAa,GACbC,WAAY,GACZC,YAAa,GACbC,WAAY,GACZC,YAAa,GACbC,WAAY,GAGZC,WAAY,IAcRC,EAAsBC,EAAAA,mBAAmD,GAUlEC,EAA4D,EAAGC,eAC1E,MAAOC,EAAUC,GAAeC,WAA2BlD,IACpDmD,EAASC,GAAcF,YAAS,IAChCG,EAAOC,GAAYJ,WAAwB,MAG5CK,EAAgBC,EAAAA,YAAYC,UAC5B,IACFL,GAAW,GACXE,EAAS,MAEH,MAAAI,QAAiBC,EAAYC,MAE7BC,EAAiB,IAClB7D,KACA0D,EAASI,MAGdb,EAAYY,SACLE,GAEPT,EAAS,qBACTL,EAAYjD,EAAoC,CAChD,QACAoD,GAAW,EACb,GACC,IAGHY,EAAAA,UAAU,UAEP,CAACT,IAEE,MAAAU,EAAkBT,EAAAA,YAAYC,gBAC1BF,KACP,CAACA,IAGEW,EAAQC,EAAAA,QAAQ,KAAO,CAC3BnB,WACAG,UACAE,QACAY,oBACE,CAACjB,EAAUG,EAASE,EAAOY,IAE/B,SACGG,IAAAxB,EAAoByB,SAApB,CAA6BH,QAC3BnB,cASMuB,EAAkB,KACvB,MAAAC,EAAUC,aAAW5B,GAC3B,QAAgB,IAAZ2B,EACI,MAAA,IAAIE,MAAM,8DAEX,OAAAF,GCjJIG,EAAc,CACzB,OACA,QACA,aACA,SACA,WACA,UACA,QACA,gBACA,kBACA,aACA,eACA,eAcIC,EAAiD,CACrDC,OAAQ,GACRC,cAAe,KAsBJC,EAAe,CAACC,EAA+B,MACpD,MAAAH,OAAEA,gBAAQC,GAAkB,IAAKF,KAAoBI,IACpDC,EAAeC,GAAoB/B,WAAoB,QACxDgC,EAAaC,SAAsB,MAEnCC,EAAe5B,EAAAA,YAAY,KAEzB,MAAA6B,EAAkBC,OAAOC,QAAUX,EACzC,IAAIY,EAA8B,OAGlC,IAAA,MAAWC,KAAaf,EAAa,CAC7B,MAAAgB,EAAUC,SAASC,eAAeH,GACxC,IAAKC,EAAS,SAMVL,GAHeK,EAAQG,UAAYjB,IAIlBY,EAAAC,EAEvB,CAEAR,EAAiBO,IAChB,CAACZ,IAGEkB,EAAwBtC,EAAAA,YA9Cf,EACfuC,EACAC,KAEA,IAAIC,EAA2B,KAE/B,MAAO,IAAIC,KACLD,GACFE,aAAaF,GAGfA,EAAYG,WAAW,KACrBL,KAAQG,IACPF,KAkCHK,CAASjB,EAAcP,GACvB,CAACO,EAAcP,IAoBV,OAjBPb,EAAAA,UAAU,KAERsB,OAAOgB,iBAAiB,SAAUR,EAAuB,CAAES,SAAS,QAM7D,KACEjB,OAAAkB,oBAAoB,SAAUV,GAEjCZ,EAAWuB,SACbN,aAAajB,EAAWuB,WAG3B,CAACrB,EAAcU,IAEXd,GC1FI0B,EAAmB,KAC9B,MAAOC,EAAYC,GAAiB1D,EAAAA,SAAkB,KAC/C2D,EAAgBC,GAAqB5D,EAAAA,SAAkB,KACvD6D,EAAiBC,GAAsB9D,YAAS,IAC/CF,SAAUiE,GAAiB3C,IAG7B4C,EAAc1D,EAAAA,YAAYC,UAC9BuD,GAAmB,GACf,IACI,MACAG,SADiBC,EAAUC,UACNvD,MAAQ,GAG/B,IAAAwD,EAAgBH,EACjBI,OAAQC,GAAiBA,EAAMC,eAC/BC,KAAK,CAACC,EAAUC,IAAaD,EAAEE,MAAQD,EAAEC,OACzCC,MAAM,GAAiB,MAAdb,OAAc,EAAAA,EAAAc,oBAAqB,GAGlB,IAAzBT,EAAcU,SAChBV,EAAgBH,EACbO,KAAK,CAACC,EAAUC,IAAaA,EAAEK,MAAQN,EAAEM,OACzCH,MAAM,GAAG,MAAAb,OAAA,EAAAA,EAAcc,oBAAqB,IAEjDnB,EAAcU,GAIV,IAAAY,EAAaf,EACdI,OAAQC,GAAiBA,EAAMW,oBAC/BT,KAAK,CAACC,EAAUC,IAAaA,EAAEK,MAAQN,EAAEM,OACzCH,MAAM,GAAiB,MAAdb,OAAc,EAAAA,EAAAmB,yBAA0B,GAGpDtB,EAAkBoB,SACX7E,GAGPuD,EAAc,IACdE,EAAkB,GAAE,CACpB,QACAE,GAAmB,EACrB,GACC,CAAC,MAAAC,OAAA,EAAAA,EAAcc,kBAAmB,MAAAd,OAAA,EAAAA,EAAcmB,yBAO5CjE,OALPH,EAAAA,UAAU,UAEP,CAACkD,IAGG/C,UAAQ,KAAO,CACpBwC,aACAE,iBACAE,oBACE,CAACJ,EAAYE,EAAgBE,KC/DtBsB,EAAiB,QAMjBC,EAAW,IACfC,EAAwB,CAC7BC,SAAU,CAACH,EAAgB,QAC3BI,QAAShF,UACD,MAAAC,QAAiBgF,EAASrB,SAChC,OAAO3D,EAASI,KAAKA,MAAQJ,EAASI,MAAQ,IAEhD6E,UAAW,IACXC,OAAQ,MAQCC,EAAWC,GACfP,EAAsB,CAC3BC,SAAU,CAACH,EAAgB,SAAUS,GACrCL,QAAShF,UACP,IAAKqF,EAAc,MAAA,IAAIrE,MAAM,uBAE7B,aADuBiE,EAASK,QAAQD,IACxBhF,MAElBkF,UAAWF,EACXH,UAAW,IACXC,OAAQ,MAkDCK,EAAgB,KAC3B,MAAMC,EAAcC,IAEpB,OAAOC,EAAiC,CACtCC,WAAY5F,MAAO6F,UACXZ,EAASa,OAAOD,IAExBE,UAAW,KAETN,EAAYO,kBAAkB,CAAEjB,SAAU,CAACH,EAAgB,UAE3Da,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC,oBC7F3CkB,EAAuB,CAAC,cAGjBC,EAAgB,IACpBpB,EAAS,CACdC,SAAUkB,EACVjB,QAAShF,gBACgBmG,EAAcvC,UACrBvD,OAmBT+F,EAAoBP,GACxBf,EAAS,CACdC,SAAU,IAAIkB,EAAsBJ,EAAI,SACxCb,QAAShF,UACP,IAAK6F,EAAU,MAAA,IAAI7E,MAAM,aAEzB,aADuBmF,EAAcE,SAASR,IAC9BxF,MAElBkF,UAAWM,IAkDFS,EAAyB,KACpC,MAAQjG,KAAMkG,EAAa,GAAIC,UAAAA,GAAcN,IACvCO,EA/CyB,MAC/B,MAAMhB,EAAcC,IAEpB,OAAOC,EAAY,CACjBC,WAAY5F,MAAOK,UACM8F,EAAcO,OAAOrG,IAC5BA,KAElB0F,UAAW,KACTN,EAAYO,kBAAkB,CAAEjB,SAAUkB,QAsCvBU,GACjBC,EAjCyB,MAC/B,MAAMnB,EAAcC,IAEpB,OAAOC,EAAY,CACjBC,WAAY5F,OAAS6F,KAAIxF,iBACA8F,EAAcU,OAAOhB,EAAIxF,IAChCA,KAElB0F,UAAW,KACTN,EAAYO,kBAAkB,CAAEjB,SAAUkB,QAwBvBa,GACjBC,EAnByB,MAC/B,MAAMtB,EAAcC,IAEpB,OAAOC,EAAY,CACjBC,WAAY5F,MAAO6F,UACMM,EAAcL,OAAOD,IAC5BxF,KAElB0F,UAAW,KACTN,EAAYO,kBAAkB,CAAEjB,SAAUkB,QAUvBe,GAEhB,MAAA,CACLT,aACAC,YACAS,eAAgBjH,MAAOK,IACjB,IAEK,aADDoG,EAAeS,YAAY7G,GAC1B,CAAE8G,SAAS,SACXvH,GAEA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,GAEFwH,eAAgBpH,MAAO6F,EAAYxF,KAC7B,IAEK,aADDuG,EAAeM,YAAY,CAAErB,KAAIxF,SAChC,CAAE8G,SAAS,SACXvH,GAEA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,GAEFyH,eAAgBrH,MAAO6F,IACjB,IAEK,aADDkB,EAAeG,YAAYrB,GAC1B,CAAEsB,SAAS,SACXvH,GAEA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,KCRO0H,EAAsBjC,IACjC,MAAMI,EAAcC,KAGb6B,EAAmBC,GAAwB/H,WAAwB,OACnEgI,EAAkBC,GAAuBjI,WAAwB,OACjEkI,EAAiBC,GAAsBnI,WAA2B,CACvEoI,MAAO,GACPC,QAAS,GACTC,QAAS,GACTC,QAAS,GACTC,UAAW,GACXC,UAAW,MAENC,EAAaC,GAAkB3I,YAAS,IACxC4I,EAAUC,GAAe7I,WAAwB,MAGlDgH,EAlHyB,CAACpB,IAChC,MAAMI,EAAcC,IAEpB,OAAOC,EAA+C,CACpDC,WAAY5F,MAAOK,UACMkI,EAAaC,cAAcnD,EAAQhF,IAC1CA,KAElB0F,UAAW,KAEGN,EAAAO,kBAAkB,CAAEjB,SAAU,CAACH,EAAgB,SAAUS,KAErEI,EAAYO,kBAAkB,CAAEjB,SAAU,CAACH,EAAgB,UAE3Da,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC,WAAYM,SAoGpCoD,CAAkBpD,GACnCuB,EA5FyB,CAACvB,IAChC,MAAMI,EAAcC,IAEpB,OAAOC,EAA6E,CAClFC,WAAY5F,OAAS0I,aAAYrI,iBACRkI,EAAaI,cAActD,EAAQqD,EAAYrI,IACtDA,KAElB0F,UAAW,KAEGN,EAAAO,kBAAkB,CAAEjB,SAAU,CAACH,EAAgB,SAAUS,KAErEI,EAAYO,kBAAkB,CAAEjB,SAAU,CAACH,EAAgB,UAE3Da,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC,WAAYM,SA8EpCuD,CAAkBvD,GACnC0B,EAtEyB,CAAC1B,IAChC,MAAMI,EAAcC,IAEpB,OAAOC,EAAiC,CACtCC,WAAY5F,MAAO0I,UACXH,EAAaM,cAAcxD,EAAQqD,IAE3C3C,UAAW,KAEGN,EAAAO,kBAAkB,CAAEjB,SAAU,CAACH,EAAgB,SAAUS,KAErEI,EAAYO,kBAAkB,CAAEjB,SAAU,CAACH,EAAgB,UAE3Da,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC,WAAYM,SAyDpCyD,CAAkBzD,GACnC0D,EAjD+B,CAAC1D,IACtC,MAAMI,EAAcC,IAEpB,OAAOC,EAAyE,CAC9EC,WAAY5F,OAAS0I,aAAYM,qBAERT,EAAaU,aAAa5D,EAAQqD,EAAYM,IACrD3I,KAElB0F,UAAW,KAEGN,EAAAO,kBAAkB,CAAEjB,SAAU,CAACH,EAAgB,SAAUS,KAErEI,EAAYO,kBAAkB,CAAEjB,SAAU,CAACH,EAAgB,UAE3Da,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC,WAAYM,SAkC9B6D,CAAwB7D,GAE/C8D,EAAW1C,EAAe2C,WAAaxC,EAAewC,WAAarC,EAAeqC,WAAaL,EAAqBK,UAGpHC,EAAiB,KACrB7B,EAAqB,MACrBE,EAAoB,MACDE,EAAA,CACjBC,MAAO,GACPC,QAAS,GACTC,QAAS,GACTC,QAAS,GACTC,UAAW,GACXC,UAAW,KAEbE,GAAe,IAkIXkB,EAAmB,SAEvBhB,EAAY,OA0GP,MAAA,CACLf,oBACAI,kBACAC,qBACAO,cACAgB,WACAI,iBAAkBlB,EAClBmB,oBAjP0B,KACtBjC,OAGAY,GACiBP,EAAA,CACjBC,MAAO,GACPC,QAAS,GACTC,QAAS,GACTC,QAAS,GACTC,UAAW,GACXC,UAAW,KAGAE,EAAAqB,IAASA,GACxBnB,EAAY,OAmOZoB,kBA/NwB1J,UACxB,GAAK2H,EAAgBE,OAAUF,EAAgBK,QAE3C,IACFM,EAAY,YACN7B,EAAeS,YAAYS,aAE1B/H,GAEP0I,EAAY,oBACd,GAsNAqB,2BAlNiC3J,MAAO4J,IACxC,GAAKjC,EAAgBE,OAAUF,EAAgBK,QAE3C,IACFM,EAAY,YACNC,EAAasB,iBAAiBxE,EAAQuE,EAAWjC,OAG3ClC,EAAAO,kBAAkB,CAAEjB,SAAU,CAACH,EAAgB,SAAUS,KACrEI,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC,WAAYM,WAChDzF,GAEP0I,EAAY,wBACd,GAsMAwB,qBAlM2B9J,MAAO0I,EAAoBkB,KAClD,GAACG,QAAQ,sBAET,IACFzB,EAAY,MAGRsB,QACIrB,EAAayB,iBAAiB3E,EAAQuE,EAAWlB,SAIjD3B,EAAeG,YAAYwB,GAIvBjD,EAAAO,kBAAkB,CAAEjB,SAAU,CAACH,EAAgB,SAAUS,KACrEI,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC,WAAYM,WAChDzF,GAEP0I,EAAY,oBACd,GA8KA2B,gBA1KsB,CAACC,EAAoBN,KAC3CxB,GAAe,GACfZ,EAAqB0C,EAASC,KAC9BzC,EAAoBkC,GAAa,MACdhC,EAAA,CACjBC,MAAOqC,EAASrC,MAChBC,QAASoC,EAASpC,SAAW,GAC7BC,QAASmC,EAASnC,SAAW,GAC7BC,QAASkC,EAASlC,QAClBC,UAAWiC,EAASjC,WAAa,GACjCC,UAAWgC,EAAShC,WAAa,KAEnCI,EAAY,OA+JZ8B,eA3JqBpK,UACrB,GAAKuH,GAAsBI,EAAgBE,OAAUF,EAAgBK,QAEjE,IAIF,GAHAM,EAAY,MAGRb,EAAkB,OACGc,EAAa8B,iBAClChF,EACAoC,EACAF,EACAI,EAE4C,YAGxCf,EAAeM,YAAY,CAC/BwB,WAAYnB,EACZlH,KAAMsH,IAKElC,EAAAO,kBAAkB,CAAEjB,SAAU,CAACH,EAAgB,SAAUS,KACrEI,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC,WAAYM,eAGhDzF,GAEP0I,EAAY,oBACd,GA6HAgB,mBACAgB,sBA7G4BtK,MAAO0I,EAAoB6B,EAAiBC,KACxE,MAAMzF,EAAW,CAACH,EAAgB,SAAUS,GACtCoF,EAAmB,CAAC,WAAYpF,GAGhCqF,EAAejF,EAAYkF,aAAmB5F,GAC9C6F,EAAmBnF,EAAYkF,aAAwBF,GAEzD,IACFnC,EAAY,MAGZ,IAAIuC,EAAwB,GAGtB,MAAAC,GAAmBF,GAAoB,IAAIG,WAAaC,EAAEC,WAAa,IAAIC,QAAUC,EAAEhB,MAAQzB,MACzE,MAAAgC,OAAA,EAAAA,EAAcO,YAAa,IAAIC,KAAKC,GAAKA,EAAEhB,MAAQzB,GAE/E,GAAIoC,EAAiB,CACb,MAAAM,EAAkBN,EAAgB9B,UAAY,GAGpC6B,EAFZL,EAEYa,MAAMC,KAAS,IAAAC,IAAI,IAAIH,EAAiBb,KAGxCa,EAAgBtH,OAAQ+B,GAAeA,IAAO0E,EAC9D,MAGAM,EAAcL,EAAW,CAACD,GAAW,GAInCK,GACUnF,EAAA+F,aAAwBf,EAAmBgB,GAChDA,EAEEA,EAAYC,IAAKC,IAAa,IAChCA,EACHV,WAAYU,EAAQV,WAAa,IAAIS,IAAKxB,GACxCA,EAASC,MAAQzB,EAAa,IAAKwB,EAAUlB,SAAU6B,GAAgBX,MALlDuB,GAYzBf,GACUjF,EAAA+F,aAAmBzG,EAAW6G,GACnCA,EAGDA,EAAQC,UAAYD,EAAQC,SAAStH,OAAS,EACzC,IACFqH,EACHC,SAAUD,EAAQC,SAASH,IAAKC,IAAsB,IACjDA,EACHV,WAAYU,EAAQV,WAAa,IAAIS,IAAKxB,GACxCA,EAASC,MAAQzB,EAAa,IAAKwB,EAAUlB,SAAU6B,GAAgBX,OAOxE,IACF0B,EACHX,WAAYW,EAAQX,WAAa,IAAIS,IAAKxB,GACxCA,EAASC,MAAQzB,EAAa,IAAKwB,EAAUlB,SAAU6B,GAAgBX,IAnBtD0B,SA0BnB7C,EAAqB7B,YAAY,CAAEwB,aAAYM,SAAU6B,UAExDjL,GAEP0I,EAAY,qBAGRsC,GACUnF,EAAA+F,aAAaf,EAAkBG,GAEzCF,EACUjF,EAAA+F,aAAazG,EAAU2F,IAGvBjF,EAAAO,kBAAkB,CAAEjB,aAChCU,EAAYO,kBAAkB,CAAEjB,SAAU0F,IAE9C,KCxXEqB,EAAuB9L,gBACrB,MAAAC,QAAiB0D,EAAUoI,gBAG1B,OADY,OAAAC,EAAS/L,EAAAI,eAAMA,OAAQJ,EAASI,MAAQ,IAIhD4L,EAAY,KACjB,MACJ5L,KAAM6L,EAAkB,GACxB1F,UAAW9G,EAAAE,MACXA,EAAAuM,QACAA,GACErH,EAAS,CACXC,SAAU,CAAC,mBACXC,QAAS8G,EACT5G,UAAW,IACXC,OAAQ,MAGH,MAAA,CACL+G,kBACAxM,UACAE,MAAOA,EAAQ,wBAA0B,KACzCuM,YC5BEC,EAA2B,iBAMpBC,EAAoB,IACxBvH,EAAiC,CACtCC,SAAU,CAACqH,EAA0B,QACrCpH,QAAShF,gBACD,MAAAC,QAAiBqM,EAAkB1I,SACzC,OAAO,OAAAoI,IAAS3L,WAAT,EAAA2L,EAAe3L,OAAQJ,EAASI,MAAQ,IAEjD6E,UAAW,MAQFqH,EAAoB1G,GACxBf,EAA+B,CACpCC,SAAU,CAACqH,EAA0B,SAAUvG,GAC/Cb,QAAShF,UACP,IAAK6F,EAAU,MAAA,IAAI7E,MAAM,kBAEzB,aADuBsL,EAAkBhH,QAAQO,IACjCxF,MAElBkF,UAAWM,EACXX,UAAW,MA6BFsH,EAAyB,KACpC,MAAM/G,EAAcC,IAEpB,OAAOC,EAA+E,CACpFC,WAAY5F,OAAS6F,KAAIxF,iBACAiM,EAAkBzF,OAAOhB,EAAIxF,IACpCA,KAElB0F,UAAW,CAAC0G,EAAGC,KAEbjH,EAAYO,kBAAkB,CAAEjB,SAAU,CAACqH,EAA0B,UAEzD3G,EAAAO,kBAAkB,CAAEjB,SAAU,CAACqH,EAA0B,SAAUM,EAAU7G,UASlF8G,EAAyB,KACpC,MAAMlH,EAAcC,IAEpB,OAAOC,EAAiC,CACtCC,WAAY5F,MAAO6F,UACXyG,EAAkBxG,OAAOD,IAEjCE,UAAW,KAETN,EAAYO,kBAAkB,CAAEjB,SAAU,CAACqH,EAA0B,UAErE3G,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC,oBASpC6H,EAA8B,KACnC,MAAEvM,KAAMwM,EAAiB,aAAIrG,UAAWsG,EAASlN,MAAAA,EAAAuM,QAAOA,GAAYE,IACpE5F,EAhE8B,MACpC,MAAMhB,EAAcC,IAEpB,OAAOC,EAAyD,CAC9DC,WAAY5F,MAAOK,UACMiM,EAAkB5F,OAAOrG,IAChCA,KAElB0F,UAAW,KAETN,EAAYO,kBAAkB,CAAEjB,SAAU,CAACqH,EAA0B,UAErE3G,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC,oBAoDxBgI,GACjBnG,EAAiB4F,IACjBzF,EAAiB4F,IAgChB,MAAA,CACLE,iBACArG,YACA5G,MAAOkN,EAAUlN,EAAQ,KACzBoN,oBAlC0BhN,MAAOK,IAC7B,IAEK,aADDoG,EAAeS,YAAY7G,GAC1B,CAAE8G,SAAS,SACXvH,GAEP,MAAO,CAAEuH,SAAS,EAAOvH,MAAAA,EAC3B,GA4BAqN,oBAzB0BjN,MAAO6F,EAAYxF,KACzC,IAEK,aADDuG,EAAeM,YAAY,CAAErB,KAAIxF,SAChC,CAAE8G,SAAS,SACXvH,GAEP,MAAO,CAAEuH,SAAS,EAAOvH,MAAAA,EAC3B,GAmBAsN,oBAhB0BlN,MAAO6F,IAC7B,IAEK,aADDkB,EAAeG,YAAYrB,GAC1B,CAAEsB,SAAS,SACXvH,GAEP,MAAO,CAAEuH,SAAS,EAAOvH,MAAAA,EAC3B,GAUAuM,YC/ISgB,EAAoB,IACxBrI,EAAiC,CACtCC,SAAU,CAAC,kBACXC,QAAShF,gBACD,MAAAC,QAAiBmN,EAAkBxJ,SACzC,OAAO,OAAAoI,IAAS3L,WAAT,EAAA2L,EAAe3L,OAAQJ,EAASI,MAAQ,IAEjD6E,UAAW,MAIFmI,EAAoBxH,GACxBf,EAA+B,CACpCC,SAAU,CAAC,gBAAiBc,GAC5Bb,QAAShF,gBACP,IAAK6F,EAAU,MAAA,IAAI7E,MAAM,aACzB,MAAMf,QAAiBmN,EAAkB9H,QAAQO,GAC1C,OAAA,OAAAmG,EAAS/L,EAAAI,WAAM,EAAA2L,EAAA3L,OAAQJ,EAASI,MAEzCkF,UAAWM,EACXX,UAAW,MAQFoI,EAAqBC,GACzBzI,EAAiC,CACtCC,SAAU,CAAC,iBAAkBwI,GAC7BvI,QAAShF,gBACP,IAAKuN,EAAY,MAAO,GACxB,MAAMtN,QAAiBuN,EAAkBC,cAAcF,GACvD,OAAO,OAAAvB,IAAS3L,WAAT,EAAA2L,EAAe3L,OAAQJ,EAASI,MAAQ,IAEjDkF,UAAWgI,EACXrI,UAAW,MAgCFwI,EAAyB,KACpC,MAAMjI,EAAcC,IAEpB,OAAOC,EAAY,CACjBC,WAAaC,GAAeuH,EAAkBtH,OAAOD,GACrDE,UAAW,KACTN,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC,wBASpC4I,EAAyB,KACpC,MAAMlI,EAAcC,IAEpB,OAAOC,EAAY,CACjBC,WAAavF,GAAgCmN,EAAkB9G,OAAOrG,GACtE0F,UAAW,CAAC0G,EAAGC,KACDjH,EAAAO,kBAAkB,CAAEjB,SAAU,CAAC,iBAAkB2H,EAAUa,kBAKhEK,EAAyB,KACpC,MAAMnI,EAAcC,IAEpB,OAAOC,EAAY,CACjBC,WAAY,EAAGC,KAAIxF,UACjBmN,EAAkB3G,OAAOhB,EAAIxF,GAC/B0F,UAAY9F,YACJ,MAAAsN,EAAa,OAAAM,EAAA,OAAA7B,EAAA/L,EAASI,WAAT,EAAA2L,EAAe3L,WAAM,EAAAwN,EAAAN,WACpCA,GACF9H,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC,iBAAkBwI,SAMxDO,EAAyB,KACpC,MAAMrI,EAAcC,IAEpB,OAAOC,EAAY,CACjBC,WAAaC,GAAe2H,EAAkB1H,OAAOD,GACrDE,UAAW,KACTN,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC,wBASpCgJ,EAA8B,KACzC,MAAQ1N,KAAM2N,EAAY,GAAIxH,UAAAA,GAAc2G,IACtC1G,EAlF8B,MACpC,MAAMhB,EAAcC,IAEpB,OAAOC,EAAY,CACjBC,WAAavF,GAAgC+M,EAAkB1G,OAAOrG,GACtE0F,UAAW,KACTN,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC,wBA4ExBkJ,GACjBrH,EAxE8B,MACpC,MAAMnB,EAAcC,IAEpB,OAAOC,EAAY,CACjBC,WAAY,EAAGC,KAAIxF,UACjB+M,EAAkBvG,OAAOhB,EAAIxF,GAC/B0F,UAAW,CAAC0G,EAAGC,KACbjH,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC,oBAC/BU,EAAAO,kBAAkB,CAAEjB,SAAU,CAAC,gBAAiB2H,EAAU7G,UAgEnDqI,GACjBnH,EAAiB2G,IAuChB,MAAA,CACLM,YACAxH,YACA2H,eAxCqBnO,MAAOK,IACxB,UAEmBoG,EAAeS,YAAY7G,GAEzC,MAAA,CAAE8G,SAAS,SACXvH,GAOA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,GA2BAwO,eAxBqBpO,MAAO6F,EAAYxF,KACpC,IAEK,aADDuG,EAAeM,YAAY,CAAErB,KAAIxF,SAChC,CAAE8G,SAAS,SACXvH,GAEA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,GAkBAyO,eAfqBrO,MAAO6F,IACxB,IAEK,aADDkB,EAAeG,YAAYrB,GAC1B,CAAEsB,SAAS,SACXvH,GAEA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,KC9GG,SAAS0O,IACd,MAAMC,UAAEA,KAAcC,GAzCjB,WACL,MAAOC,EAAQC,GAAajP,EAAAA,SAAkB,IAExC8O,EAAYxO,cAAa4O,IACvB,MAAA9I,EAAK+I,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,GAC1CC,EAAkB,CACtBnJ,KACAoJ,SAAU,OACPN,GAGLD,EAAkBjF,GAAA,IAAIA,EAAMuF,IAGxBA,EAASC,UAAYD,EAASC,SAAW,GAC3CtM,WAAW,KACTuM,EAAUrJ,IACTmJ,EAASC,WAEb,IAEGC,EAAYnP,cAAa8F,IACnB6I,KAAQjF,EAAK3F,UAAgB6K,EAAM9I,KAAOA,KACnD,IAEGsJ,EAAiBpP,EAAAA,YAAY,KACjC2O,EAAU,KACT,IAEI,MAAA,CACLD,SACAF,YACAW,YACAC,iBAEJ,CAMiCC,GAkBxB,MAAA,IACFZ,EACHrH,QAlBcpH,EAAAA,YAAY,CAACsP,EAAeC,KAC1Cf,EAAU,CAAEgB,KAAM,UAAWF,QAAOC,aACnC,CAACf,IAiBF3O,MAfYG,EAAAA,YAAY,CAACsP,EAAeC,KACxCf,EAAU,CAAEgB,KAAM,QAASF,QAAOC,aACjC,CAACf,IAcFiB,QAZczP,EAAAA,YAAY,CAACsP,EAAeC,KAC1Cf,EAAU,CAAEgB,KAAM,UAAWF,QAAOC,aACnC,CAACf,IAWFkB,KATW1P,EAAAA,YAAY,CAACsP,EAAeC,KACvCf,EAAU,CAAEgB,KAAM,OAAQF,QAAOC,aAChC,CAACf,IASN,CC7EA,MAAMmB,GAAgB1P,gBACG2P,EAAY/L,UACnBvD,KAAKA,KAGVuP,GAAc,KACnB,MACJvP,KAAMwP,EAAW,GACjBrJ,UAAW9G,EAAAE,MACXA,EAAAuM,QACAA,GACErH,EAAS,CACXC,SAAU,CAAC,YACXC,QAAS0K,GACTxK,UAAW,IACXC,OAAQ,MAGH,MAAA,CACL0K,WACAnQ,UACAE,MAAOA,EAAQ,sBAAwB,KACvCuM,YCGS2D,GAAmB,CAC9BjK,EACAkK,KAEA,MAAOC,EAASC,GAAcxQ,WAAyB,OAChDC,EAASC,GAAcF,YAAS,IAChCG,EAAOC,GAAYJ,WAAwB,OAC5CyM,gBAAEA,GAAoBD,IAG5B1L,EAAAA,UAAU,KACaP,WACnB,GAAK6F,EAED,IACFlG,GAAW,GACX,MAAMM,QAAiB0P,EAAYrK,QAAQO,GAC3CoK,EAAWhQ,EAASI,YACbT,GAEPC,EAAS,sBAAqB,CAC9B,QACAF,GAAW,EACb,OAID,CAACkG,IAGE,MAAAqK,EAAmBxP,EAAAA,QAAiC,IACnDsP,EAEE,IACFA,EAEHX,MAAOc,EAAkBJ,EAAaC,EAAQX,MAAOW,EAAQI,QAASJ,EAAQK,SAC9EC,YAAaH,EAAkBJ,EAAaC,EAAQM,YAAaN,EAAQO,cAAeP,EAAQQ,eAChGC,oBAAqBN,EACnBJ,EACAC,EAAQS,oBACRT,EAAQU,sBACRV,EAAQW,uBAGVC,aAAcC,EACZd,EACAC,EAAQY,aACRZ,EAAQc,eACRd,EAAQe,iBACL,GACLC,SAAUH,EACRd,EACAC,EAAQgB,SACRhB,EAAQiB,WACRjB,EAAQkB,aACL,GACLjG,UAAW4F,EACTd,EACAC,EAAQ/E,UACR+E,EAAQmB,YACRnB,EAAQoB,cACL,GACLC,kBAAmBR,EACjBd,EACAC,EAAQqB,kBACRrB,EAAQsB,oBACRtB,EAAQuB,sBACL,IArCc,KAuCpB,CAACvB,EAASD,IA+BN,MAAA,CACLrQ,UACAE,QACAsQ,mBACAsB,aAxBmB9Q,EAAAA,QAAuB,KACtC,IAACsP,IAAY9D,EAAiB,MAAO,GAGnC,MAAAxI,EAAYwI,EAAgBnB,WAAoB0G,EAASC,QAAU,IAGnEC,EAAa,IAAIpG,IAAIyE,EAAQhH,UAAY,IAGxC,OAAAtF,EACJI,OAAOC,GAAS4N,EAAWC,IAAI7N,EAAMoG,MACrCuB,IAAc3H,IAAA,UACVA,EACH8N,KAAMC,EAAsB/B,EAAahM,GACzCuM,YAAayB,EAA6BhC,EAAahM,GACvDiO,WAxBgBxN,EAwBQT,EAAMS,OAAS,EAvBvCA,GAAS,GAAW,SACpBA,GAAS,GAAW,aACpBA,GAAS,GAAW,YACjB,UAJY,IAACA,KA0BnB,CAACwL,EAAS9D,EAAiB6D,MCpE1BkC,GAAmBjS,SAlBI,CAACK,GACrBA,EAAKgE,QAAQJ,KAAK,CAACC,EAAGC,SAEX,IAAZD,EAAEE,YAAmC,IAAZD,EAAEC,MACtBF,EAAEE,MAAQD,EAAEC,MAIjBF,EAAEgO,WAAa/N,EAAE+N,UAEZ,IAAIC,KAAKhO,EAAE+N,WAAWE,UAAY,IAAID,KAAKjO,EAAEgO,WAAWE,UAG1D,GAQFC,QAFgBC,EAAe1O,UACEvD,KAAKA,MAIlCkS,GAAiB,KACtB,MACJlS,KAAMmS,EAAc,GACpBhM,UAAW9G,EAAAE,MACXA,EAAAuM,QACAA,GACErH,EAAS,CACXC,SAAU,CAAC,eACXC,QAASiN,GACT/M,UAAW,IACXC,OAAQ,MAGH,MAAA,CACLqN,cACA9S,UACAE,MAAOA,EAAQ,6BAA+B,KAC9CuM,YCpFG,SAASsG,WACR,MAAAC,EAAqBhR,SAA+B,MAGpDiR,EAAwB5S,EAAAA,YAAY,KAEpC2S,EAAmB1P,SACrB0P,EAAmB1P,QAAQ4P,QAIVF,EAAA1P,QAAU,IAAI6P,gBAC1BH,EAAmB1P,SACzB,IAGG8P,EAAqB/S,EAAAA,YAAY,KAChC2S,EAAmB1P,UACH0P,EAAA1P,QAAU,IAAI6P,iBAE5BH,EAAmB1P,SACzB,IAGG4P,EAAQ7S,EAAAA,YAAY,KACpB2S,EAAmB1P,UACrB0P,EAAmB1P,QAAQ4P,QAC3BF,EAAmB1P,QAAU,OAE9B,IAWI,OARPzC,EAAAA,UAAU,IACD,KACDmS,EAAmB1P,SACrB0P,EAAmB1P,QAAQ4P,SAG9B,IAEI,CACLD,wBACAG,qBACAF,QACAG,OAAQ,OAAA/G,EAAmB0G,EAAA1P,cAAS,EAAAgJ,EAAA+G,OAExC,CC2CO,SAASC,GACdC,EACA3R,EAAwC,IAElC,MAAAjB,KACJA,EAAA6S,aACAA,EAAAC,iBACAA,EAAAC,WACAA,EAAAC,UACAA,GA5FG,SACLJ,EACA3R,EAAsC,IAEtC,MAAOjB,EAAMiT,GAAW7T,WAAYwT,IAC7BC,EAAcK,GAAmB9T,YAAS,GAC3C+T,EAAkB9R,SAAUuR,IAE5BlN,UAAEA,EAAA0N,QAAWA,EAASC,WAAAA,GAAepS,EAGrC6R,EAAmBpT,EAAAA,YAAYC,MACnC2T,EACAC,KAGAJ,EAAgBxQ,QAAU3C,EAG1BiT,EAAgB7J,GAC4B,mBAAnBkK,EAClBA,EAAkClK,GACnCkK,GAINJ,GAAgB,GAEZ,IAEI,MAAAM,QAAeD,IAOd,OAJPN,EAAQO,GACRN,GAAgB,GACJ,MAAAxN,GAAAA,EAAA8N,GAELA,QACAjU,GAWD,MATN0T,EAAQE,EAAgBxQ,SACxBuQ,GAAgB,GAOhB,MAAAE,GAAAA,EAAU7T,EALO,KACf0T,EAAQE,EAAgBxQ,SACxB,MAAA0Q,GAAAA,EAAaF,EAAgBxQ,WAIzBpD,CACR,GACC,CAACS,EAAM0F,EAAW0N,EAASC,IAGxBN,EAAarT,cAAa+T,IAC9BR,EAAgB7J,GACqB,mBAAZqK,EAClBA,EAA2BrK,GAC5BqK,IAGL,IAGGT,EAAYtT,cAAa+T,IAC7BR,EAAQQ,GACRN,EAAgBxQ,QAAU8Q,EAC1BP,GAAgB,IACf,IAEI,MAAA,CACLlT,OACA6S,eACAC,mBACAC,aACAC,YAEJ,CAgBMU,CAAyBd,EAAa3R,GAGpC0S,EAAgBjU,EAAAA,YAAYC,MAChCiU,EACAL,IAEOT,EACJ1J,GAAS,IAAIA,EAAM,IAAKwK,EAAS9J,IAAK,QAAQgI,KAAK+B,UACpDlU,UACQ,MAAA6T,QAAeD,IAKrB,OAHWR,KAAQ3J,EAAKiC,OACtByI,EAAKhK,IAAIiK,WAAW,SAAWP,EAASM,IAEnC,IAAI9T,EAAKyD,OAAeqQ,IAACA,EAAKhK,IAAIiK,WAAW,UAAWP,KAGlE,CAACV,EAAkBC,EAAY/S,IAG5BgU,EAAuBtU,EAAAA,YAAYC,MACvC6F,EACAyO,EACAV,IAEOT,EACJ1J,GAASA,EAAKiC,IAAIyI,GACjBA,EAAKhK,MAAQtE,EAAK,IAAKsO,KAASG,GAAYH,GAE9CnU,UACQ,MAAA6T,QAAeD,IAId,OAHIR,KAAQ3J,EAAKiC,IACtByI,GAAAA,EAAKhK,MAAQtE,EAAKgO,EAASM,IAEtB9T,EAAKqL,IAAIyI,GAAQA,EAAKhK,MAAQtE,EAAKgO,EAASM,KAGtD,CAAChB,EAAkBC,EAAY/S,IAG5BkU,EAAmBxU,EAAAA,YAAYC,MACnC6F,EACA+N,KAGA,GADqBvT,EAAK6K,KAAaiJ,GAAAA,EAAKhK,MAAQtE,GAG7C,OAAAsN,EACJ1J,GAASA,EAAK3F,OAAeqQ,GAAAA,EAAKhK,MAAQtE,GAC3C7F,gBACQ4T,IACCvT,EAAKyD,OAAeqQ,GAAAA,EAAKhK,MAAQtE,MAG3C,CAACsN,EAAkB9S,IAGhBmU,EAAoBzU,EAAAA,YAAYC,MACpCyU,EACAb,IAEOT,EACLsB,EACAzU,eACuB4T,KAIxB,CAACT,IAEG,MAAA,CACL9S,OACA6S,eACAc,gBACAK,uBACAE,mBACAC,oBACApB,aACAC,YAEJ,CC3KO,SAASqB,KACd,MAAOlO,EAAWmO,GAAgBlV,YAAS,IACpCG,EAAOC,GAAYJ,WAAwB,OAC5CkT,sBAAEA,GAA0BF,MAC5BtL,QAAEA,EAASvH,MAAOgV,GAActG,KAIpCjO,KAAMwU,EAAA3B,aACNA,EAAAc,cACAA,EAAAK,qBACAA,EAAAE,iBACAA,EAAAlB,UACAA,GACEL,GAA+B,IAG7B8B,EAAa/U,EAAAA,YAAYC,gBACzB,IACF2U,GAAa,GACb9U,EAAS,MAET,MAAMkV,EAAkBpC,IAClB1S,QAAiBgF,EAASrB,SAEzBmR,EAAgBhC,OAAOiC,SAC1B3B,EAAUpT,EAASI,KAAKA,MAAQ,UAE7BC,GACP,KAAM,OAAA0L,EAAA1L,EAAcuR,WAAd,EAAA7F,EAAoBiJ,SAAS,eAAe,CAChD,MAAMC,EAAe,uBACrBrV,EAASqV,GACTN,EAAU,QAASM,EACrB,CAAA,CACA,QACAP,GAAa,EACf,GACC,CAAChC,EAAuBU,EAAWuB,IAGhCO,EAAapV,cAAYC,MAAOoV,IAChC,IACF,MAAMC,EAAU,IACXD,EACHjL,IAAK,QAAQgI,KAAK+B,QAClBhC,WAAW,IAAIC,MAAOmD,cACtBC,WAAW,IAAIpD,MAAOmD,eAGlBzB,QAAeG,EACnBqB,EACA,IAAMpQ,EAASyB,OAAO0O,GAAUI,KAAKC,GAAOA,EAAIpV,OAI3C,OADP8G,EAAQ,WAAY,GAAGiO,EAAS/F,4BACzBwE,QACAvT,GAED,MADNsU,EAAU,WAAYtU,aAAeU,MAAQV,EAAIgP,QAAU,sBACrDhP,CACR,GACC,CAAC0T,EAAe7M,EAASyN,IAGtBc,EAAa3V,EAAAA,YAAYC,MAAOqF,EAAgB+P,KAChD,IACF,MAAMvB,QAAeQ,EACnBhP,EACA+P,EACA,IAAMnQ,EAAS4B,OAAOxB,EAAQ+P,GAAUI,KAAYC,GAAAA,EAAIpV,OAInD,OADP8G,EAAQ,WAAY,yBACb0M,QACAvT,GAED,MADNsU,EAAU,WAAYtU,aAAeU,MAAQV,EAAIgP,QAAU,sBACrDhP,CACR,GACC,CAAC+T,EAAsBlN,EAASyN,IAG7Be,EAAa5V,cAAYC,MAAOqF,IAChC,IACF,MAAMwO,QAAeU,EACnBlP,EACA,IAAMJ,EAASa,OAAOT,GAAQmQ,KAAK,SAI9B,OADPrO,EAAQ,WAAY,sBACb0M,QACAvT,GAED,MADNsU,EAAU,WAAYtU,aAAeU,MAAQV,EAAIgP,QAAU,sBACrDhP,CACR,GACC,CAACiU,EAAkBpN,EAASyN,IAOxB,OAJPrU,EAAAA,UAAU,UAEP,IAEI,CACLsU,QACArO,YACA5G,QACAsT,eACAiC,aACAO,aACAC,aACAxJ,QAAS2I,EAEb,CC/FO,SAASc,IAAkBC,OAChCA,EAAAC,SACAA,EAAA/P,UACAA,EAAA0N,QACAA,IAGA,MAAOsC,EAAUC,GAAevW,YAAS,IAClCwW,EAAaC,GAAkBzW,WAAmB,OAClD0J,EAAUgN,GAAe1W,YAAS,IAClC2W,EAAYC,GAAiB5W,YAAS,GAGvC6W,EAAevW,EAAAA,YAAY,KAC/BmW,EAAe,MACfF,GAAY,IACX,IAGGO,EAAaxW,cAAaoU,IAC9B+B,EAAe/B,GACf6B,GAAY,IACX,IAGGQ,EAAezW,EAAAA,YAAY,KAC/BiW,GAAY,GACZE,EAAe,MACfC,GAAY,GACZE,GAAc,IACb,IAGGI,EAAa1W,cAAYC,MAAOK,IAChC,IAAA8I,EAEA,IACFgN,GAAY,SACNN,EAAOxV,EAAM4V,OAIP,MAAAlQ,GAAAA,UACLnG,GAEG,MAAA6T,GAAAA,EAAA7T,EAAc,CACxB,QACAuW,GAAY,EACd,GACC,CAAChN,EAAU8M,EAAaJ,EAAQ9P,EAAW0N,EAAS+C,IAGjDE,EAAe3W,cAAYC,MAAOmU,IAClC,GAAAiC,EAAY,OAOhB,GAJkBvU,OAAOkI,QACvB,OAAQoK,EAAa9E,OAAU8E,EAAatC,MAAQ,yBAKlD,IACFwE,GAAc,SACRP,EAAS3B,GACH,MAAApO,GAAAA,UACLnG,GAEG,MAAA6T,GAAAA,EAAA7T,EAAc,CACxB,QACAyW,GAAc,EAChB,GACC,CAACD,EAAYN,EAAU/P,EAAW0N,IAmB9B,MAAA,CAjBqB,CAC1BsC,WACAE,cACA9M,WACAiN,cAG8B,CAC9BE,eACAC,aACAC,eACAC,aACAC,eACAV,cACAE,kBAIJ,CCvHO,MAAMS,GAA2B,KACtC,MAAOnE,EAAaoE,GAAkBnX,EAAAA,SAAuB,KACtD+G,EAAWmO,GAAgBlV,YAAS,GAGrCwS,EAAmBlS,EAAAA,YAAYC,UACnC2U,GAAa,GACT,IACI,MAAA1U,QAAiBqS,EAAe1O,SACpCgT,EAAe3W,EAASI,KAAKA,MAAQ,UAChCT,GACqC,CAC5C,QACA+U,GAAa,EACf,GACC,IAGGkC,EAAmB9W,cAAYC,MAAO8W,IACtC,IAGK,aAFDxE,EAAe5L,OAAOoQ,SACtB7E,IACC,CAAE9K,SAAS,SACXvH,GAEA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,GACC,CAACqS,IAGE8E,EAAmBhX,EAAAA,YAAYC,MAAO6F,EAAYiR,KAClD,IAGK,aAFDxE,EAAezL,OAAOhB,EAAIiR,SAC1B7E,IACC,CAAE9K,SAAS,SACXvH,GAEA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,GACC,CAACqS,IAGE+E,EAAmBjX,cAAYC,MAAO6F,IACtC,IAGK,aAFDyM,EAAexM,OAAOD,SACtBoM,IACC,CAAE9K,SAAS,SACXvH,GAEA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,GACC,CAACqS,IAMG,OAJP1R,EAAAA,UAAU,KACS0R,KAChB,IAEI,CACLO,cACAhM,YACAyL,iBAAAA,EACA4E,mBACAE,mBACAC,qBCnCSC,GAAkBhE,IAC7B,MAAOlD,EAAamH,GAAkBzX,WAAwB,MAGxD0X,GAAqB,MAAAlE,OAAA,EAAAA,EAAamE,aACnCnE,EAAYmE,YAAsB1L,IAAK2L,GAChB,iBAAfA,EAA0BA,EAAaA,EAAWlN,KACzDrG,OAAOwT,SACT,GAGEC,GAAkB,MAAAtE,OAAA,EAAAA,EAAajK,UAChCiK,EAAYjK,SAAmB0C,IAAK8L,GACX,iBAAjBA,EAA4BA,EAAeA,EAAarN,KAC/DrG,OAAOwT,SACT,IAGGG,EAAYC,GAAiBjY,WAAsB,WACpDwT,WAAa0E,SAAUtM,MAAMuM,QAAQ3E,EAAY0E,QAC5C1E,EAAY0E,OAAOjM,IAAI,CAACmM,EAAKC,eAAW,MAAA,CAC7CD,MACAvH,aAAa,OAAAtE,EAAAiH,EAAY5B,wBAAZ,EAAArF,EAAgC8L,KAAU,GACvDvH,eAAe,OAAA1C,EAAAoF,EAAY3B,0BAAZ,EAAAzD,EAAkCiK,KAAU,GAC3DtH,eAAe,OAAAuH,EAAA9E,EAAY1B,0BAAZ,EAAAwG,EAAkCD,KAAU,MAGxD,KAIFE,EAAUC,GAAexY,EAAAA,SAC9BwT,EAAc,IACTA,EAEHrC,aAAcvF,MAAMuM,QAAQ3E,EAAYrC,cAAgBqC,EAAYrC,aAAasH,KAAK,MAAQjF,EAAYrC,cAAgB,GAC1HE,eAAgBzF,MAAMuM,QAAQ3E,EAAYnC,gBAAkBmC,EAAYnC,eAAeoH,KAAK,MAAQjF,EAAYnC,gBAAkB,GAClIC,eAAgB1F,MAAMuM,QAAQ3E,EAAYlC,gBAAkBkC,EAAYlC,eAAemH,KAAK,MAAQjF,EAAYlC,gBAAkB,GAClIoH,OAAQ9M,MAAMuM,QAAQ3E,EAAYkF,QAAUlF,EAAYkF,OAAOD,KAAK,MAAQjF,EAAYkF,QAAU,GAClGnH,SAAU3F,MAAMuM,QAAQ3E,EAAYjC,UAAYiC,EAAYjC,SAASkH,KAAK,MAAQjF,EAAYjC,UAAY,GAC1GC,WAAY5F,MAAMuM,QAAQ3E,EAAYhC,YAAcgC,EAAYhC,WAAWiH,KAAK,MAAQjF,EAAYhC,YAAc,GAClHC,WAAY7F,MAAMuM,QAAQ3E,EAAY/B,YAAc+B,EAAY/B,WAAWgH,KAAK,MAAQjF,EAAY/B,YAAc,GAClHjG,UAAWI,MAAMuM,QAAQ3E,EAAYhI,WAAagI,EAAYhI,UAAUiN,KAAK,MAAQjF,EAAYhI,WAAa,GAC9GkG,YAAa9F,MAAMuM,QAAQ3E,EAAY9B,aAAe8B,EAAY9B,YAAY+G,KAAK,MAAQjF,EAAY9B,aAAe,GACtHC,YAAa/F,MAAMuM,QAAQ3E,EAAY7B,aAAe6B,EAAY7B,YAAY8G,KAAK,MAAQjF,EAAY7B,aAAe,GACtHpI,SAAUuO,EACVH,YAAaD,GACX,CACF9H,MAAO,GACPe,QAAS,GACTC,QAAS,GACTC,YAAa,GACbC,cAAe,GACfC,cAAe,GACfI,aAAc,GACdE,eAAgB,GAChBC,eAAgB,GAChBU,SAAU,aACV2F,YAAa,GACbgB,OAAQ,YACRC,WAAY,GACZC,SAAU,GACVC,MAAO,GACPJ,OAAQ,GACR1H,oBAAqB,GACrBC,sBAAuB,GACvBC,sBAAuB,GACvBK,SAAU,GACVC,WAAY,GACZC,WAAY,GACZjG,UAAW,GACXkG,YAAa,GACbC,YAAa,GACbhN,MAAO,EACP4E,SAAU,KA2HP,MAAA,CACLgP,WACAP,aACA1H,cACAmH,iBACAe,cACAP,gBACAc,kBA7HwB,CAACC,EAAahY,KACtCwX,EAAaxO,IAAe,IACvBA,EACHgP,CAACA,GAAMhY,MA2HTiY,uBAtH6B,CAACD,EAAahY,KAC3CwX,EAAaxO,IAAe,IACvBA,EACHgP,CAACA,GAAMhY,MAoHTkY,qBAvG2B,CAACb,EAAeD,KACrC,MAAAe,EAAgB,IAAInB,GACtBmB,EAAcd,KACFc,EAAAd,GAAOD,IAAMA,EAC3BH,EAAckB,KAoGhBC,6BAhGmC,CAACf,EAAexH,EAAqBwI,KAClE,MAAAF,EAAgB,IAAInB,GACtBmB,EAAcd,KACH,OAATgB,EACYF,EAAAd,GAAOxH,YAAcA,EACjB,OAATwI,EACKF,EAAAd,GAAOvH,cAAgBD,EACnB,OAATwI,IACKF,EAAAd,GAAOtH,cAAgBF,GAEvCoH,EAAckB,KAuFhBG,eAjHqB,KACrBrB,EAAc,IAAID,EAAY,CAAEI,IAAK,GAAIvH,YAAa,GAAIC,cAAe,GAAIC,cAAe,OAiH5FwI,kBA9GyBlB,IACzBJ,EAAcD,EAAW3T,OAAO,CAAC2I,EAAGwM,IAAMA,IAAMnB,KA8GhDoB,qBApF2B,KAE3B,MAAMvB,EAASF,EAAW/L,IAAIyI,GAAQA,EAAK0D,KAAK/T,OAAc+T,GAAAA,EAAIsB,OAAO5U,OAAS,GAC5E8M,EAAoBoG,EAAW/L,IAAIyI,GAAQA,EAAK7D,aAChDgB,EAAsBmG,EAAW/L,IAAIyI,GAAQA,EAAK5D,eAClDgB,EAAsBkG,EAAW/L,IAAIyI,GAAQA,EAAK3D,eAGxD,IAAA,IAASyI,EAAI,EAAGA,EAAIxB,EAAWlT,OAAQ0U,IAAK,CACpC,MAAA9E,EAAOsD,EAAWwB,GACxB,GAAK9E,EAAL,CACA,GAAIA,EAAK7D,aAAe6D,EAAK7D,YAAY/L,OAAS,IAC1C,MAAA,IAAIvD,MAAM,MAAMiY,EAAI,0BAA0B9E,EAAK7D,YAAY/L,uBAEvE,GAAI4P,EAAK5D,eAAiB4D,EAAK5D,cAAchM,OAAS,IAC9C,MAAA,IAAIvD,MAAM,MAAMiY,EAAI,yBAAyB9E,EAAK5D,cAAchM,uBAExE,GAAI4P,EAAK3D,eAAiB2D,EAAK3D,cAAcjM,OAAS,IAC9C,MAAA,IAAIvD,MAAM,MAAMiY,EAAI,0BAA0B9E,EAAK3D,cAAcjM,sBAR9D,CAUb,CAgDO,MA7Ce,IACjByT,EAEHpH,aAA+C,iBAA1BoH,EAASpH,aAC1BoH,EAASpH,aAAawI,MAAM,SAAS1N,IAAK2N,GAAcA,EAAEF,QAAQrV,OAAQuV,GAAcA,EAAE9U,OAAS,GACnGyT,EAASpH,cAAgB,GAC7BE,eAAmD,iBAA5BkH,EAASlH,eAC5BkH,EAASlH,eAAesI,MAAM,SAAS1N,IAAK2N,GAAcA,EAAEF,QAAQrV,OAAQuV,GAAcA,EAAE9U,OAAS,GACrGyT,EAASlH,gBAAkB,GAC/BC,eAAmD,iBAA5BiH,EAASjH,eAC5BiH,EAASjH,eAAeqI,MAAM,SAAS1N,IAAK2N,GAAcA,EAAEF,QAAQrV,OAAQuV,GAAcA,EAAE9U,OAAS,GACrGyT,EAASjH,gBAAkB,GAE/BoH,OAAmC,iBAApBH,EAASG,OACpBH,EAASG,OAAOiB,MAAM,MAAM1N,IAAK2N,GAAcA,EAAEF,QAAQrV,OAAQuV,GAAcA,EAAE9U,OAAS,GAC1FyT,EAASG,QAAU,GAEvBR,SACAtG,oBACAC,sBACAC,sBAEAP,SAAuC,iBAAtBgH,EAAShH,SACtBgH,EAAShH,SAASoI,MAAM,MAAM1N,IAAK2N,GAAcA,EAAEF,QAAQrV,OAAQuV,GAAcA,EAAE9U,OAAS,GAC5FyT,EAAShH,UAAY,GACzBC,WAA2C,iBAAxB+G,EAAS/G,WACxB+G,EAAS/G,WAAWmI,MAAM,MAAM1N,IAAK2N,GAAcA,EAAEF,QAAQrV,OAAQuV,GAAcA,EAAE9U,OAAS,GAC9FyT,EAAS/G,YAAc,GAC3BC,WAA2C,iBAAxB8G,EAAS9G,WACxB8G,EAAS9G,WAAWkI,MAAM,MAAM1N,IAAK2N,GAAcA,EAAEF,QAAQrV,OAAQuV,GAAcA,EAAE9U,OAAS,GAC9FyT,EAAS9G,YAAc,GAE3BjG,UAAyC,iBAAvB+M,EAAS/M,UACvB+M,EAAS/M,UAAUmO,MAAM,MAAM1N,IAAK2N,GAAcA,EAAEF,QAAQrV,OAAQuV,GAAcA,EAAE9U,OAAS,GAC7FyT,EAAS/M,WAAa,GAC1BkG,YAA6C,iBAAzB6G,EAAS7G,YACzB6G,EAAS7G,YAAYiI,MAAM,MAAM1N,IAAK2N,GAAcA,EAAEF,QAAQrV,OAAQuV,GAAcA,EAAE9U,OAAS,GAC/FyT,EAAS7G,aAAe,GAC5BC,YAA6C,iBAAzB4G,EAAS5G,YACzB4G,EAAS5G,YAAYgI,MAAM,MAAM1N,IAAK2N,GAAcA,EAAEF,QAAQrV,OAAQuV,GAAcA,EAAE9U,OAAS,GAC/FyT,EAAS5G,aAAe,GAE5BpI,SAAUgP,EAAShP,UAAY,OC3NxBsQ,GAAwB,KACnC,MAAOzJ,EAAU0J,GAAe9Z,EAAAA,SAAoB,KAC7C+G,EAAWmO,GAAgBlV,YAAS,GAGrCiQ,EAAgB3P,EAAAA,YAAYC,UAChC2U,GAAa,GACT,IAEI,MACA6E,SADiB7J,EAAY/L,UACLvD,KAAKA,MAAQ,GAG3CkZ,EAAYC,SACL5Z,GACoC,CAC3C,QACA+U,GAAa,EACf,GACC,IAGG8E,EAAgB1Z,cAAYC,MAAO0Z,IACnC,UAEqB/J,EAAYjJ,OAAOgT,GAKnC,aAFDhK,IAEC,CAAEvI,SAAS,SACXvH,GAEA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,GACC,CAAC8P,IAGEiK,EAAgB5Z,EAAAA,YAAYC,MAAO6F,EAAY6T,KAC/C,UAEqB/J,EAAY9I,OAAOhB,EAAI6T,GAKvC,aAFDhK,IAEC,CAAEvI,SAAS,SACXvH,GAEA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,GACC,CAAC8P,IAGEkK,EAAgB7Z,cAAYC,MAAO6F,IACnC,IAGK,aAFD8J,EAAY7J,OAAOD,SACnB6J,IACC,CAAEvI,SAAS,SACXvH,GAEA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,GACC,CAAC8P,IAMG,OAJPnP,EAAAA,UAAU,KACMmP,KACb,IAEI,CACLG,WACArJ,YACAkJ,cAAAA,EACA+J,gBACAE,gBACAC,kBC1ESC,GAAoB,gBAGpBC,GAAc,IAClBhV,EAAkC,CACvCC,SAAU,CAAC8U,GAAmB,QAC9B7U,QAAShF,UACD,MAAAC,QAAiB8Z,EAAYnW,SACnC,OAAO3D,EAASI,KAAKA,MAAQJ,EAASI,MAAQ,IAEhD6E,UAAW,KACXC,OAAQ,MAmEC6U,GAAwB,KACnC,MAAQ3Z,KAAM4Z,EAAW,GAAIzT,UAAAA,GAAcsT,KACrCI,EAhE4B,MAClC,MAAMzU,EAAcC,IAEpB,OAAOC,EAAiC,CACtCC,WAAY5F,MAAO6F,UACXkU,EAAYI,WAAWtU,IAE/BE,UAAW,KAETN,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC8U,MAE3CpU,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC,oBAqDpBqV,GACrBC,EAhDwB,MAC9B,MAAM5U,EAAcC,IAEpB,OAAOC,EAAiC,CACtCC,WAAY5F,MAAO6F,UACXkU,EAAYjU,OAAOD,IAE3BE,UAAW,KAETN,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC8U,MAE3CpU,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC,oBAqCjBuV,GACxBC,EAhCyB,MAC/B,MAAM9U,EAAcC,IAEpB,OAAOC,EAAmC,CACxCC,WAAa4U,GAAkBC,QAAQC,IAAIF,EAAI9O,IAAI7F,GAAMkU,EAAYI,WAAWtU,KAAM2P,KAAK,QAC3FzP,UAAW,KACTN,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC8U,MAE3CpU,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC,oBAwBhB4V,GACzBC,EAnB6B,MACnC,MAAMnV,EAAcC,IAEpB,OAAOC,EAAmC,CACxCC,WAAa4U,GAAkBC,QAAQC,IAAIF,EAAI9O,IAAI7F,GAAMkU,EAAYjU,OAAOD,KAAM2P,KAAK,QACvFzP,UAAW,KACTN,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC8U,MAE3CpU,EAAYO,kBAAkB,CAAEjB,SAAU,CAAC,oBAWpB8V,GA0CpB,MAAA,CACLZ,WACAzT,YACAsU,cAAe,OACfX,WA5CiBna,MAAO6F,IACpB,IAEK,aADDqU,EAAmBhT,YAAYrB,GAC9B,CAAEsB,SAAS,SACXvH,GAEA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,GAsCAmb,cAnCoB/a,MAAO6F,IACvB,IAEK,aADDwU,EAAsBnT,YAAYrB,GACjC,CAAEsB,SAAS,SACXvH,GAEA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,GA6BAob,eA1BqBhb,MAAOwa,IACxB,IAEK,aADDD,EAAuBrT,YAAYsT,GAClC,CAAErT,SAAS,SACXvH,GAEA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,GAoBAqb,WAjBiBjb,MAAOwa,IACpB,IAEK,aADDI,EAAmB1T,YAAYsT,GAC9B,CAAErT,SAAS,SACXvH,GAEA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,KCrHG,SAASsb,GACdC,EACA7Z,EAAmC,IAEnC,MAAMiE,QAAEA,GAAU,EAAAL,UAAMA,EAAY,KAAkB5D,EAEtD,OAAOwD,EAAS,CACdC,SAAU,CAAC8U,GAAmB,SAAUsB,GACxCnW,QAAShF,UACP,IAAKmb,EAAkB,OAAA,KAEvB,aADuBpB,EAAYzU,QAAQ6V,IAC3B9a,KAAKA,MAEvBkF,UAAW4V,GAAa5V,EACxBL,YACAC,OAAQ,IACRiW,MAAO,EACPC,WAA4BC,GAAA1M,KAAK2M,IAAI,IAAO,GAAKD,EAAc,KAC/DE,sBAAsB,EACtBC,OAASpb,GAEAA,GAAQ,MAGrB,CC7BA,MAAMqb,GAAmB,CAAC,mBCebC,GAAuB,KAE5B,MAAAzP,gBACJA,EACAxM,QAAS8G,EACT2F,QAASL,GACPG,IAGE2P,EDlB8B,MACpC,MAAMnW,EAAcC,IAEpB,OAAOC,EAA6D,CAClEC,WAAY5F,OAAS6F,KAAIxF,iBAEvB,MAAMJ,QAAiB0D,EAAUkD,OAAOhB,EAAIxF,GACrC,OAAA,OAAA2L,EAAS/L,EAAAI,WAAM,EAAA2L,EAAA3L,OAAQJ,EAASI,MAIzCwb,SAAU7b,OAAS6F,KAAIxF,iBAEfoF,EAAYqW,cAAc,CAAE/W,SAAU2W,KAGtC,MAAAK,EAAqBtW,EAAYkF,aAA8B+Q,IAgBrE,OAbYjW,EAAA+F,aAA8BkQ,GAAmBM,GACtDA,EACEA,EAActQ,IAAiB+F,UAAA,MAAA,IACjCA,EACHC,QAAQ,OAAA1F,EAASyF,EAAAC,aAAQ,EAAA1F,EAAAN,IACvB3H,GAAAA,EAAMoG,MAAQtE,EACV,IAAK9B,KAAU1D,EAAMkV,eAAepD,MAAOmD,eAC3CvR,KACD,MAPoBgY,GAYtB,CAAEA,uBAIXtI,QAAS,CAACnT,EAAKoM,EAAW5L,YAEpBA,WAASib,qBACCtW,EAAA+F,aAAakQ,GAAkB5a,EAAQib,wBCrB7BE,GACtBC,EDiCsC,MAC5C,MAAMzW,EAAcC,IAEpB,OAAOC,EAA+C,CACpDC,WAAY5F,MAAOK,UACjB,MAAMJ,QAAiB0D,EAAUsD,eAAe5G,GACzC,OAAA,OAAA2L,EAAS/L,EAAAI,WAAM,EAAA2L,EAAA3L,OAAQJ,EAASI,MAEzC0F,UAAW,KACTN,EAAYO,kBAAkB,CAAEjB,SAAU2W,SC1CfS,GACzBC,EDkDsC,MAC5C,MAAM3W,EAAcC,IAEpB,OAAOC,EAAqE,CAC1EC,WAAY5F,OAAS6F,KAAIxF,iBACvB,MAAMJ,QAAiB0D,EAAUyD,eAAevB,EAAIxF,GAC7C,OAAA,OAAA2L,EAAS/L,EAAAI,WAAM,EAAA2L,EAAA3L,OAAQJ,EAASI,MAEzC0F,UAAW,KACTN,EAAYO,kBAAkB,CAAEjB,SAAU2W,SC3DfW,GACzBC,EDmEsC,MAC5C,MAAM7W,EAAcC,IAEpB,OAAOC,EAAgC,CACrCC,WAAY5F,MAAO6F,UACXlC,EAAU0D,eAAexB,IAEjCE,UAAW,KACTN,EAAYO,kBAAkB,CAAEjB,SAAU2W,SC3Efa,GACzBC,EDmF8B,MACpC,MAAM/W,EAAcC,IAEpB,OAAOC,EAAqE,CAC1EC,WAAY5F,OAASyc,aAAYpc,iBAC/B,MAAMJ,QAAiB0D,EAAU+C,OAAO+V,EAAYpc,GAC7C,OAAA,OAAA2L,EAAS/L,EAAAI,WAAM,EAAA2L,EAAA3L,OAAQJ,EAASI,MAEzC0F,UAAW,KACTN,EAAYO,kBAAkB,CAAEjB,SAAU2W,SC5FlBgB,GACtBC,EDoG8B,MACpC,MAAMlX,EAAcC,IAEpB,OAAOC,EAAgC,CACrCC,WAAY5F,MAAO6F,UACXlC,EAAUmC,OAAOD,IAEzBE,UAAW,KACTN,EAAYO,kBAAkB,CAAEjB,SAAU2W,SC5GlBkB,GAgErB,MAAA,CACL1Q,kBACA1F,YACAsF,qBAAAA,EACA+Q,oBAtD0B7c,MAAOK,IAC7B,IAEF,MAAO,CAAE8G,SAAS,EAAM9G,WADH6b,EAAuBhV,YAAY7G,UAEjDT,GAEA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,GAgDAkd,oBA7C0B9c,MAAO6F,EAAYxF,KACzC,IAEF,MAAO,CAAE8G,SAAS,EAAM9G,WADH+b,EAAuBlV,YAAY,CAAErB,KAAIxF,gBAEvDT,GAEA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,GAuCAmd,oBApC0B/c,MAAO6F,IAC7B,IAEK,aADDyW,EAAuBpV,YAAYrB,GAClC,CAAEsB,SAAS,SACXvH,GAEA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,GA8BAod,YA3BkBhd,MAAOyc,EAAoBpc,KACzC,IAEF,MAAO,CAAE8G,SAAS,EAAM9G,WADHmc,EAAoBtV,YAAY,CAAEuV,aAAYpc,gBAE5DT,GAEA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,GAqBAqd,YArEkBjd,MAAO6F,EAAYxF,KACjC,IAEF,MAAO,CAAE8G,SAAS,EAAM9G,WADHub,EAAoB1U,YAAY,CAAErB,KAAIxF,gBAEpDT,GAEA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,GA+DAsd,YAnBkBld,MAAO6F,IACrB,IAEK,aADD8W,EAAoBzV,YAAYrB,GAC/B,CAAEsB,SAAS,SACXvH,GAEA,MAAA,CAAEuH,SAAS,EAAOvH,QAC3B,KC/ESud,GAAgB,KACQzX,IAEnC,MAAQrF,KAAM+c,EAAQ5W,UAAAA,GAAc1B,EAA4B,CAC9DC,SAAU,CAAC,cACXC,QAAShF,4CAGP,MAAOqd,EAAeC,EAAwBC,EAAwBC,EAAqBC,EAAkBC,EAAkBC,EAAgBC,SAA4BnD,QAAQC,IAAI,CACrLzV,EAASrB,SACT0I,EAAkB1I,SAClBwJ,EAAkBxJ,SAClB0O,EAAe1O,SACf+L,EAAY/L,SACZmW,EAAYnW,SACZD,EAAUoI,gBACV5F,EAAcvC,WAGT,MAAA,CACLiR,OAAO,OAAAhH,EAAA,OAAc7B,EAAAqR,EAAAhd,WAAM,EAAA2L,EAAA3L,eAAMkE,SAAU,EAC3CsI,gBAAgB,OAAAgR,EAAA,OAAuB9F,EAAAuF,EAAAjd,WAAM,EAAA0X,EAAA1X,eAAMkE,SAAU,EAC7DuZ,gBAAgB,OAAAC,EAAA,OAAuBC,EAAAT,EAAAld,WAAM,EAAA2d,EAAA3d,eAAMkE,SAAU,EAC7DiO,aAAa,OAAAyL,EAAA,OAAoBC,EAAAV,EAAAnd,WAAM,EAAA6d,EAAA7d,eAAMkE,SAAU,EACvDsL,UAAU,OAAAsO,EAAA,OAAiBC,EAAAX,EAAApd,WAAM,EAAA+d,EAAA/d,eAAMkE,SAAU,EACjD0V,UAAU,OAAAoE,EAAA,OAAiBC,EAAAZ,EAAArd,WAAM,EAAAie,EAAAje,eAAMkE,SAAU,EACjDmN,QAAQ,OAAA6M,EAAA,OAAeC,EAAAb,EAAAtd,WAAM,EAAAme,EAAAne,eAAMkE,SAAU,EAC7CgC,YAAY,OAAAkY,EAAAb,EAAmBvd,WAAnB,EAAAoe,EAAyBla,SAAU,IAGnDW,UAAW,KACXC,OAAQ,IACRqW,sBAAsB,IAGjB,MAAA,CACL4B,OAAQA,GAAU,CAChBvI,MAAO,EACPhI,eAAgB,EAChBiR,eAAgB,EAChBtL,YAAa,EACb3C,SAAU,EACVoK,SAAU,EACVvI,OAAQ,EACRnL,WAAY,GAEdC,YACAkY,cAAe,SCDNC,GAAuB,KAElC,MAAOC,EAAWC,GAAgBpf,WAAmB,aAC9Cqf,EAAuBC,GAA4Btf,WAAwB,OAG3Euf,EAAYC,GAAiBxf,WAAqB,QAClDyf,EAAgBC,GAAqB1f,WAAS,KAC9C2f,EAAsBC,GAA2B5f,WAAS,KAG1D6f,EAAkBC,GAAuB9f,WAA2B,QACpE+f,EAAsBC,GAA2BhgB,WAAS,KAC1DigB,EAA2BC,GAAgClgB,WAAS,KACpEmgB,EAAwBC,GAA6BpgB,WAAS,KAG9DqgB,EAAeC,GAAoBtgB,WAAwB,QAC3DugB,EAAmBC,GAAwBxgB,WAAS,KACpDygB,EAAyBC,GAA8B1gB,WAAS,IAQhE,MAAA,CAELmf,YACAC,eACAC,wBACAC,2BAGAqB,YAAa,CACXC,MAAO,CACLvc,OAAQkb,EACRsB,WAAYpB,EACZqB,iBAAkBnB,GAEpBoB,QAAS,CACPC,UAAWxB,EACXyB,cAAevB,EACfwB,oBAAqBtB,GAEvBhf,KAAM,CACJkG,WAzBiB,CAAC,QAAS,SAAU,OAAQ,QAAS,YA8B1Dqa,kBAAmB,CACjBP,MAAO,CACLvc,OAAQwb,EACRgB,WAAYd,EACZqB,gBAAiBnB,EACjBoB,aAAclB,GAEhBY,QAAS,CACPC,UAAWlB,EACXmB,cAAejB,EACfsB,mBAAoBpB,EACpBqB,gBAAiBnB,GAEnBxf,KAAM,CACJ4gB,UA3CsB,CAAC,WAAY,UAAW,gBAAiB,gBA4C/DC,MA3CkB,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,UAgDvDC,eAAgB,CACdd,MAAO,CACLvc,OAAQgc,EACRQ,WAAYN,EACZO,iBAAkBL,GAEpBM,QAAS,CACPC,UAAWV,EACXW,cAAeT,EACfU,oBAAqBR,GAEvB9f,KAAM,CACJkG,WA3DoB,CAAC,OAAQ,QAAS,SAAU,OAAQ"}