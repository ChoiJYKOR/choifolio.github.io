import{j as e,N as t,r as a,D as r,E as s,R as l,G as i,S as n,u as d,H as o,B as c,I as x,s as g,a as m,J as u,K as h,F as p,l as y,L as b,i as k,x as j,M as f,O as v,P as N,Q as w,T as C,U as S,V as E,W as I,q as F,X as _,Y as L,Z as J,_ as T,$ as D,a0 as A,a1 as M,a2 as P,a3 as $,a4 as z,a5 as R,a6 as B,a7 as H,a8 as O,a9 as U,aa as G,o as q,ab as Y,ac as W,g as V,h as K,ad as Q,ae as X,af as Z,t as ee,ag as te,e as ae,y as re,k as se,ah as le,ai as ie,aj as ne,ak as de,z as oe,m as ce,n as xe,al as ge,am as me,an as ue,ao as he,ap as pe,aq as ye,ar as be,as as ke,at as je,au as fe,av as ve,aw as Ne,v as we,ax as Ce}from"./chunk-2803e76c.js";import{u as Se,f as Ee,a as Ie,c as Fe,e as _e,r as Le,g as Je,b as Te,d as De}from"./chunk-4537ee11.js";import{r as Ae,w as Me,x as Pe,y as $e,z as ze,A as Re,B as Be,C as He,D as Oe,E as Ue,a as Ge,F as qe,g as Ye,G as We,i as Ve,H as Ke,I as Qe,J as Xe}from"./chunk-5481d5d5.js";import{m as Ze,A as et,u as tt,a as at}from"./chunk-5eab360c.js";import{S as rt,C as st,P as lt,W as it,a as nt,A as dt,D as ot,b as ct,B as xt,c as gt,T as mt,M as ut,d as ht,g as pt,e as yt,F as bt}from"./chunk-3710b4bf.js";import{D as kt,c as jt,S as ft,v as vt,u as Nt,C as wt}from"./chunk-7dc7c94b.js";const Ct=({element:a})=>{const{isAuthenticated:r,isLoading:s}=Se();return s?e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#f8fafc"},children:[e.jsx("div",{style:{width:"32px",height:"32px",border:"4px solid #3b82f6",borderTop:"4px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),e.jsx("span",{style:{marginLeft:"12px",color:"#6b7280",fontSize:"16px"},children:"인증 확인 중..."})]}):r?e.jsx(a,{}):e.jsx(t,{to:"/",replace:!0})},St=({onFirstVisitComplete:t})=>{const[s,l]=a.useState(0),i=r();a.useEffect(()=>{window.location.hash&&i("/home",{replace:!0})},[i]);const n=a.useRef(null),d=a.useRef(),o=a.useRef(),c=a.useRef([]),x=a.useRef(),g=a.useRef(),m=a.useRef();a.useEffect(()=>(h(),f(),()=>{u()}),[]),a.useEffect(()=>{const e=setTimeout(()=>{localStorage.setItem("hasVisited","true"),null==t||t(),i("/home")},6e3);return()=>clearTimeout(e)},[i,t]);const u=()=>{if(d.current&&cancelAnimationFrame(d.current),o.current&&o.current.kill(),m.current&&n.current){const e=m.current.domElement;n.current.contains(e)&&n.current.removeChild(e),m.current.dispose()}c.current=[]},h=()=>{if(!n.current)return;const e=new rt;e.background=new st(657930);const t=new lt(75,window.innerWidth/window.innerHeight,.1,1e3),a=new it({alpha:!1,antialias:!0});a.setSize(window.innerWidth,window.innerHeight),a.setClearColor(657930,1),a.shadowMap.enabled=!0,a.shadowMap.type=nt,n.current.appendChild(a.domElement);const r=new dt(16777215,.3);e.add(r);const s=new ot(16777215,.8);s.position.set(10,10,5),s.castShadow=!0,s.shadow.mapSize.width=2048,s.shadow.mapSize.height=2048,e.add(s);const l=new ct(65535,.5,100);l.position.set(-10,0,10),e.add(l);const i=new ct(16711935,.5,100);i.position.set(10,0,10),e.add(i),p(e),t.position.z=20,t.lookAt(0,0,0),x.current=e,g.current=t,m.current=a;const o=()=>{d.current=requestAnimationFrame(o),c.current.forEach((e,t)=>{e&&(e.rotation.y+=.008+.002*t,e.rotation.x=.1*Math.sin(.001*Date.now()+t),e.position.y=.5*Math.sin(.002*Date.now()+t))}),g.current&&(g.current.position.x=2*Math.sin(5e-4*Date.now()),g.current.position.y=1*Math.cos(3e-4*Date.now()),g.current.lookAt(0,0,0)),a.render(e,t)};o();const u=()=>{g.current&&m.current&&(g.current.aspect=window.innerWidth/window.innerHeight,g.current.updateProjectionMatrix(),m.current.setSize(window.innerWidth,window.innerHeight))};return window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)}},p=e=>{const t=["L","O","A","D","I","N","G"];t.forEach((a,r)=>{let s;switch(a){case"L":s=y();break;case"O":s=new mt(1.2,.4,16,32);break;case"A":s=new gt(1.8,4,3);break;case"D":s=b();break;case"I":s=new xt(.4,4,.4);break;case"N":s=k();break;case"G":s=j();break;default:s=new xt(1,4,.5)}const l=r/t.length*360,i=new ut({color:(new st).setHSL(l/360,.8,.6),shininess:100,specular:3355443,emissive:(new st).setHSL(l/360,.3,.1)}),n=new ht(s,i);n.castShadow=!0,n.receiveShadow=!0;const d=3.5*-(t.length-1)/2;n.position.set(d+3.5*r,0,0),n.scale.set(.01,.01,.01),n.rotation.x=Math.PI,n.rotation.z=Math.PI,e.add(n),c.current.push(n),pt.to(n.scale,{x:1,y:1,z:1,duration:1.2,delay:.15*r,ease:"back.out(2)"}),pt.to(n.rotation,{x:0,z:0,duration:1.2,delay:.15*r,ease:"power2.out"})})},y=()=>{const e=new yt,t=[];return t.push(-1,-2,0,-1,2,0,-.3,2,0),t.push(-1,-2,0,-.3,2,0,-.3,-2,0),t.push(-.3,-1.5,0,1,-1.5,0,1,-2,0),t.push(-.3,-1.5,0,1,-2,0,-.3,-2,0),e.setAttribute("position",new bt(t,3)),e.computeVertexNormals(),e},b=()=>{const e=new yt,t=[];for(let a=0;a<=16;a++){const e=a/16*Math.PI,r=1.5*Math.cos(e),s=2*Math.sin(e);t.push(r,s,0,r,s,.5)}return t.push(-1.5,-2,0,-1.5,2,0,-1.5,2,.5),t.push(-1.5,-2,0,-1.5,2,.5,-1.5,-2,.5),e.setAttribute("position",new bt(t,3)),e.computeVertexNormals(),e},k=()=>{const e=new yt,t=[];return t.push(-1,-2,0,-1,2,0,-.3,2,0),t.push(-1,-2,0,-.3,2,0,-.3,-2,0),t.push(-.3,1.5,0,1,-2,0,1,-1.5,0),t.push(-.3,1.5,0,1,-1.5,0,-.3,-2,0),t.push(.7,-2,0,.7,2,0,1,2,0),t.push(.7,-2,0,1,2,0,1,-2,0),e.setAttribute("position",new bt(t,3)),e.computeVertexNormals(),e},j=()=>{const e=new yt,t=[];for(let a=0;a<=20;a++){const e=a/20*Math.PI*1.8,r=1.5*Math.cos(e),s=2*Math.sin(e);t.push(r,s,0,r,s,.5)}return t.push(-1.5,-2,0,0,-2,0,0,-1.5,0),t.push(-1.5,-2,0,0,-1.5,0,-1.5,-1.5,0),e.setAttribute("position",new bt(t,3)),e.computeVertexNormals(),e},f=()=>{const e=pt.timeline();o.current=e,e.to({},{duration:3,onUpdate:function(){l(100*this.progress())}})};return e.jsxs("div",{className:"fixed inset-0 z-50 bg-black overflow-hidden",children:[e.jsx("div",{ref:n,className:"absolute inset-0"}),e.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:e.jsxs(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[e.jsx("h2",{className:"text-5xl font-bold text-white mb-12 tracking-wider",children:"Loading..."}),e.jsx("div",{className:"w-96 h-3 bg-gray-800 rounded-full overflow-hidden",children:e.jsx(Ze.div,{className:"h-full bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-600 rounded-full",style:{width:`${s}%`},transition:{duration:.1}})}),e.jsxs("p",{className:"text-lg text-gray-400 mt-6 font-mono",children:[Math.round(s),"%"]})]})})]})},Et={...i,...n},It=({iconName:t,size:a=16,className:r=""})=>{const i=Et[t];return i?l.createElement(i,{size:a,className:r}):e.jsx(s,{size:a,className:r})},Ft=({variant:t="default"})=>{const{i18n:a}=d(),r=e=>{a.changeLanguage(e),localStorage.setItem("language",e)},s=[{code:"ko",short:"KOR",full:"한국어"},{code:"en",short:"ENG",full:"English"},{code:"ja",short:"JPN",full:"日本語"}];return"compact"===t?e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(o,{className:"text-base text-gray-600 dark:text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:"Language"})]}),e.jsx("div",{className:"flex items-center gap-2",children:s.map(t=>{const s=a.language===t.code;return e.jsx("button",{onClick:()=>r(t.code),className:"px-3 py-2 rounded-lg text-xs font-semibold transition-all duration-200 "+(s?"bg-blue-600 text-white shadow-md":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"),"aria-label":`${t.full}로 변경`,"aria-current":s?"true":"false",children:t.short},t.code)})})]}):e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:"text-primary-600 dark:text-primary-400"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:"언어 선택"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(t=>{const s=a.language===t.code;return e.jsx("button",{onClick:()=>r(t.code),className:"px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 "+(s?"bg-primary-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-primary-100 dark:hover:bg-primary-900 hover:text-primary-700 dark:hover:text-primary-300"),"aria-label":`${t.full}로 변경`,"aria-current":s?"true":"false",children:t.full},t.code)})})]})},_t=(e,t,a,r)=>"en"===e&&a?a:"ja"===e&&r?r:t||"",Lt=(e,t,a,r)=>"en"===e&&a&&a.length>0?a:"ja"===e&&r&&r.length>0?r:t||[],Jt=(e,t)=>_t(e,t.name,t.nameEn,t.nameJa),Tt=(e,t)=>_t(e,t.description,t.descriptionEn,t.descriptionJa),Dt=(e,t)=>_t(e,t.name,t.nameEn,t.nameJa),At=(e,t)=>_t(e,t.title,t.titleEn,t.titleJa),Mt=({item:t,location:s,setIsOpen:l,activeSection:i})=>{const n=r(),d=a.useMemo(()=>s.pathname.startsWith(t.path),[s.pathname,t.path]),o=t.icon,c="flex items-center gap-2 px-4 py-3 rounded-xl transition-colors duration-200 font-medium "+(d?"bg-coffee-100 dark:bg-dark-700 text-coffee-600 dark:text-coffee-400":"text-dark-700 dark:text-dark-300 hover:bg-coffee-100 dark:hover:bg-dark-700 hover:text-coffee-600 dark:hover:text-coffee-400"),x=a.useCallback(()=>{n(t.href),l(!1)},[t.href,n,l]);return e.jsxs("button",{onClick:x,className:c,"aria-current":d?"page":void 0,children:[e.jsx(o,{size:18}),t.name]})},Pt=({darkMode:t,toggleDarkMode:r,onLoginClick:s})=>{const[l,i]=a.useState(!1),n=c(),{isAuthenticated:o,logout:_}=Se(),{t:L,i18n:J}=d(),T=J.language,{settings:D}=Ae(),A=Me(),M=[{name:L("nav.home"),href:"/home",path:"/home",icon:x},{name:L("nav.about"),href:"/about",path:"/about",icon:g},{name:L("nav.experience"),href:"/experience",path:"/experience",icon:m},{name:L("nav.skills"),href:"/skills",path:"/skills",icon:u},{name:L("nav.projects"),href:"/projects",path:"/projects",icon:h},{name:L("nav.books"),href:"/books",path:"/books",icon:p},{name:L("nav.videoLearnings"),href:"/video-learnings",path:"/video-learnings",icon:y},{name:L("nav.contact"),href:"/contact",path:"/contact",icon:b}],{coreSkills:P,languageSkills:$,isLoadingSkills:z}=Pe(),R=[{icon:E,href:"#",label:"GitHub"},{icon:I,href:"#",label:"LinkedIn"},{icon:F,href:"mailto:juyeong_choi@naver.com",label:"Email"}];return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>i(!l),className:"lg:hidden fixed top-4 left-4 z-50 p-3 bg-coffee-600 text-white rounded-xl shadow-lg hover:bg-coffee-700 transition-colors","aria-label":l?"사이드바 닫기":"사이드바 열기",children:l?e.jsx(k,{size:20}):e.jsx(j,{size:20})}),l&&e.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>i(!1),"aria-label":"사이드바 닫기"}),e.jsx("aside",{className:`fixed top-0 left-0 h-screen w-80 bg-white dark:bg-dark-800 border-r border-cream-200 dark:border-dark-700 z-40 transition-transform duration-300 lg:translate-x-0 ${l?"translate-x-0":"-translate-x-full"} overflow-y-auto custom-scrollbar`,"aria-label":"주요 네비게이션",children:e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-6",children:[e.jsx("div",{className:"w-full h-full rounded-full bg-coffee-600 flex items-center justify-center text-white text-4xl font-bold shadow-xl",children:_t(T,null==D?void 0:D.firstName,null==D?void 0:D.firstNameEn,null==D?void 0:D.firstNameJa)||"주영"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-10 h-10 bg-caramel-500 rounded-full flex items-center justify-center border-4 border-white dark:border-dark-800","aria-label":"프로필 이미지",children:e.jsx(f,{className:"text-white",size:18})})]}),e.jsx("h1",{className:"text-2xl font-bold text-dark-900 dark:text-cream-100 mb-2",children:_t(T,null==D?void 0:D.fullName,null==D?void 0:D.fullNameEn,null==D?void 0:D.fullNameJa)||"최주영"}),e.jsx("p",{className:"text-coffee-600 dark:text-coffee-400 font-medium mb-1",children:_t(T,null==D?void 0:D.role,null==D?void 0:D.roleEn,null==D?void 0:D.roleJa)||"공장자동화 전문가"}),e.jsx("p",{className:"text-sm text-dark-600 dark:text-dark-400",children:_t(T,null==D?void 0:D.subtitle,null==D?void 0:D.subtitleEn,null==D?void 0:D.subtitleJa)||"바리스타 → 자동화 엔지니어"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-cream-100 dark:bg-dark-700 rounded-xl p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-dark-700 dark:text-dark-300 text-sm",children:L("about.location")}),e.jsx("span",{className:"text-dark-900 dark:text-cream-100 font-medium",children:_t(T,null==D?void 0:D.location,null==D?void 0:D.locationEn,null==D?void 0:D.locationJa)||"부산"})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-dark-700 dark:text-dark-300 text-sm",children:L("about.education")}),e.jsx("span",{className:"text-dark-900 dark:text-cream-100 font-medium text-right text-xs",children:_t(T,null==D?void 0:D.education,null==D?void 0:D.educationEn,null==D?void 0:D.educationJa)||"부산인력개발원"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-dark-700 dark:text-dark-300 text-sm",children:L("about.yearsOfExperience")}),e.jsx("span",{className:"text-dark-900 dark:text-cream-100 font-medium",children:_t(T,null==D?void 0:D.yearsOfExperience,null==D?void 0:D.yearsOfExperienceEn,null==D?void 0:D.yearsOfExperienceJa)||"5년"})]})]})}),$.length>0&&e.jsx("div",{children:e.jsx("div",{className:"flex justify-around items-center gap-2",children:z?[1,2,3].map(t=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 dark:bg-gray-700 animate-pulse"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-12 mt-2"})]},t)):$.map(t=>{const a=Jt(T,t),r=a.includes("한국어")&&100===t.level;return e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"relative w-16 h-16",children:[e.jsxs("svg",{className:"w-16 h-16 transform -rotate-90",children:[e.jsx("circle",{cx:"32",cy:"32",r:"28",stroke:"currentColor",strokeWidth:"4",fill:"none",className:"text-cream-200 dark:text-dark-700"}),e.jsx("circle",{cx:"32",cy:"32",r:"28",stroke:t.color||"#8B4513",strokeWidth:"4",fill:"none",strokeDasharray:t.level/100*176+" 176",className:"transition-all duration-1000 ease-out",strokeLinecap:"round"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(It,{iconName:t.icon,size:20,className:"text-coffee-600 dark:text-coffee-400"})})]}),e.jsx("span",{className:"text-xs font-medium text-dark-700 dark:text-dark-300 mt-1 text-center",children:a}),e.jsx("span",{className:"text-xs font-bold text-coffee-600 dark:text-coffee-400",children:r?L("sidebar.nativeLanguage"):`${t.level}%`})]},t._id)})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-dark-900 dark:text-cream-100 mb-4",children:L("sidebar.coreSkills")}),e.jsx("div",{className:"space-y-4",children:z?e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(t=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-16"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-8"})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 animate-pulse"})]},t))}):P.length>0?P.map(t=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-dark-700 dark:text-dark-300",children:Jt(T,t)}),e.jsxs("span",{className:"text-sm font-bold text-coffee-600 dark:text-coffee-400",children:[t.level,"%"]})]}),e.jsx("div",{className:"w-full bg-cream-200 dark:bg-dark-700 rounded-full h-2",children:e.jsx(Ze.div,{initial:{width:0},animate:{width:`${t.level}%`},transition:{duration:1,delay:.2},className:"bg-coffee-600 h-2 rounded-full"})})]},t._id)):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:L("sidebar.noSkillData")})})})]}),e.jsxs("nav",{children:[e.jsx("h3",{className:"text-lg font-bold text-dark-900 dark:text-cream-100 mb-4",children:L("sidebar.menu")}),e.jsx("ul",{className:"space-y-2",children:M.map(t=>e.jsx("li",{children:e.jsx(Mt,{item:t,location:n,setIsOpen:i,activeSection:A})},t.name))})]}),o&&e.jsx(Ze.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:e.jsxs(v,{to:"/admin",className:"block px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-colors duration-200 font-medium text-center flex items-center justify-center gap-2",onClick:()=>i(!1),children:[e.jsx(N,{size:18})," ",L("sidebar.adminDashboard")]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-dark-900 dark:text-cream-100 mb-4",children:L("sidebar.social")}),e.jsx("div",{className:"flex space-x-3",children:R.map(({icon:t,href:a,label:r})=>e.jsx("a",{href:a,className:"p-3 bg-cream-100 dark:bg-dark-700 rounded-xl hover:bg-coffee-100 dark:hover:bg-dark-600 text-dark-700 dark:text-dark-300 hover:text-coffee-600 dark:hover:text-coffee-400 transition-all duration-200","aria-label":r,children:e.jsx(t,{size:20})},r))})]}),e.jsx("div",{className:"mb-4",children:e.jsx(Ft,{variant:"compact"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:r,className:"w-full py-3 px-4 bg-coffee-600 hover:bg-coffee-700 text-white rounded-xl transition-colors duration-200 flex items-center justify-center space-x-2 font-medium","aria-label":L(t?"sidebar.lightMode":"sidebar.darkMode"),children:t?e.jsxs(e.Fragment,{children:[e.jsx(w,{size:18}),e.jsx("span",{children:L("sidebar.lightMode")})]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{size:18}),e.jsx("span",{children:L("sidebar.darkMode")})]})}),o?e.jsxs("button",{onClick:()=>{_(),i(!1)},className:"w-full py-3 px-4 bg-red-600 hover:bg-red-700 text-white rounded-xl transition-colors duration-200 flex items-center justify-center space-x-2 font-medium","aria-label":L("sidebar.logout"),children:[e.jsx(S,{size:18}),e.jsx("span",{children:L("sidebar.logout")})]}):e.jsxs("button",{onClick:()=>{s(),i(!1)},className:"w-full py-3 px-4 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-colors duration-200 flex items-center justify-center space-x-2 font-medium","aria-label":L("sidebar.adminLogin"),children:[e.jsx(S,{size:18}),e.jsx("span",{children:L("sidebar.adminLogin")})]})]})]})})]})},$t=({isOpen:t,onClose:s})=>{const[l,i]=a.useState(""),[n,d]=a.useState(""),[o,c]=a.useState(""),[x,m]=a.useState(!1),{login:u}=Se(),h=r(),p=()=>{i(""),d(""),c(""),s()};return e.jsx(et,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:p,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50"}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs(Ze.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},role:"dialog","aria-modal":"true","aria-labelledby":"login-title",className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md p-8 relative",children:[e.jsx("button",{onClick:p,className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"닫기",children:e.jsx(k,{className:"text-gray-600 dark:text-gray-300"})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(g,{className:"text-white text-2xl"})}),e.jsx("h2",{id:"login-title",className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"관리자 로그인"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"포트폴리오 관리를 위해 로그인하세요"})]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),c(""),m(!0);try{await u(l,n),s(),h("/admin"),i(""),d("")}catch(t){const e=t.message||"로그인 중 알 수 없는 오류가 발생했습니다.";c(e)}finally{m(!1)}},className:"space-y-6",children:[o&&e.jsx(Ze.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-700 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg text-sm",role:"alert",children:o}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"아이디"}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",id:"username",value:l,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"아이디를 입력하세요",required:!0,autoComplete:"username"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"비밀번호"}),e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"password",id:"password",value:n,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"비밀번호를 입력하세요",required:!0,autoComplete:"current-password"})]})]}),e.jsx(Ze.button,{type:"submit",disabled:x,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-3 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:x?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"animate-spin"}),"로그인 중..."]}):"로그인"})]})]})})]})})},zt=({darkMode:t,toggleDarkMode:r,showLoginModal:s,setShowLoginModal:l,isFirstVisit:i})=>{const n=()=>e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});return e.jsxs("div",{className:"flex min-h-screen bg-cream-50 dark:bg-dark-900 transition-colors duration-300",children:[e.jsx(Pt,{darkMode:t,toggleDarkMode:r,onLoginClick:()=>l(!0)}),e.jsx("main",{className:"flex-1 ml-0 lg:ml-80 overflow-y-auto",children:e.jsx(a.Suspense,{fallback:i?e.jsx(St,{}):e.jsx(n,{}),children:e.jsx(J,{})})}),e.jsx($t,{isOpen:s,onClose:()=>l(!1)})]})},Rt=()=>{const{settings:t,loading:a}=Ae(),{t:r,i18n:s}=d(),l=s.language,{scrollYProgress:i}=tt(),n=at(i,[0,1],[0,100]),o=at(i,[0,1],[0,-100]),c={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut"}}};if(a)return e.jsx("section",{id:"home",className:"min-h-screen flex items-center justify-center bg-cream-50 dark:bg-dark-900",children:e.jsx("div",{className:"w-12 h-12 border-4 border-coffee-600 border-t-transparent rounded-full animate-spin"})});const x=[{number:(null==t?void 0:t.stat1Number)||"5+",label:_t(l,null==t?void 0:t.stat1Label,null==t?void 0:t.stat1LabelEn,null==t?void 0:t.stat1LabelJa)||"년 경력",icon:T},{number:(null==t?void 0:t.stat2Number)||"3+",label:_t(l,null==t?void 0:t.stat2Label,null==t?void 0:t.stat2LabelEn,null==t?void 0:t.stat2LabelJa)||"완료 프로젝트",icon:f},{number:(null==t?void 0:t.stat3Number)||"10+",label:_t(l,null==t?void 0:t.stat3Label,null==t?void 0:t.stat3LabelEn,null==t?void 0:t.stat3LabelJa)||"기술 스택",icon:D}];return e.jsxs("section",{id:"home",className:"min-h-screen flex items-center justify-center bg-cream-50 dark:bg-dark-900 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx(Ze.div,{style:{y:n},className:"absolute -top-40 -right-40 w-80 h-80 bg-coffee-200 dark:bg-coffee-900 rounded-full opacity-20 blur-3xl"}),e.jsx(Ze.div,{style:{y:o},className:"absolute -bottom-40 -left-40 w-80 h-80 bg-caramel-200 dark:bg-caramel-900 rounded-full opacity-20 blur-3xl"})]}),e.jsx("div",{className:"section-padding w-full relative z-10",children:e.jsxs(Ze.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.3}}},initial:"hidden",animate:"visible",className:"max-w-4xl mx-auto",children:[e.jsx(Ze.div,{variants:c,className:"mb-8",children:e.jsx("span",{className:"inline-block px-4 py-2 bg-coffee-100 dark:bg-coffee-900 text-coffee-700 dark:text-coffee-300 rounded-full text-sm font-medium mb-6",children:_t(l,null==t?void 0:t.heroTag,null==t?void 0:t.heroTagEn,null==t?void 0:t.heroTagJa)||"🎯 취업 준비 중"})}),e.jsx(Ze.h1,{variants:c,className:"text-5xl md:text-7xl font-bold text-dark-900 dark:text-cream-100 mb-8 leading-tight",children:_t(l,null==t?void 0:t.heroTitle,null==t?void 0:t.heroTitleEn,null==t?void 0:t.heroTitleJa)||"공장자동화 전문가"}),e.jsx(Ze.p,{variants:c,className:"text-xl md:text-2xl text-dark-600 dark:text-dark-300 mb-12 leading-relaxed max-w-3xl whitespace-pre-line",children:_t(l,null==t?void 0:t.heroSubtitle,null==t?void 0:t.heroSubtitleEn,null==t?void 0:t.heroSubtitleJa)||"PLC 프로그래밍부터 데이터 분석까지, 스마트 팩토리의 미래를 만들어갑니다."}),e.jsxs(Ze.div,{variants:c,className:"flex flex-col sm:flex-row gap-4 mb-16",children:[e.jsx(v,{to:"/projects",children:e.jsxs(Ze.button,{"aria-label":r("hero.viewProjects"),variants:c,className:"btn-primary text-lg px-8 py-4 flex items-center justify-center gap-2 group w-full",children:[r("hero.viewProjects"),e.jsx(A,{className:"group-hover:translate-x-1 transition-transform"})]})}),e.jsxs(Ze.button,{onClick:()=>alert(r("hero.resumeComingSoon")),"aria-label":r("hero.downloadResume"),variants:c,className:"btn-secondary text-lg px-8 py-4 flex items-center justify-center gap-2",children:[e.jsx(M,{}),r("hero.downloadResume")]})]}),e.jsx(Ze.div,{variants:c,className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:x.map(t=>e.jsx(Ze.div,{className:"bg-white dark:bg-dark-800 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-cream-200 dark:border-dark-700",whileHover:{y:-5},role:"status","aria-label":`${t.label} 통계: ${t.number}`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-coffee-100 dark:bg-coffee-900 rounded-xl",children:e.jsx(t.icon,{className:"text-coffee-600 dark:text-coffee-400",size:24})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-coffee-600 dark:text-coffee-400",children:t.number}),e.jsx("div",{className:"text-sm text-dark-600 dark:text-dark-400",children:t.label})]})]})},t.label))})]})})]})},Bt=({src:t,alt:r,className:s="w-full h-64 object-cover group-hover:scale-105 transition-transform duration-300",fallbackIcon:l})=>{const[i,n]=a.useState("loading"),[d,o]=a.useState(t);return d&&"error"!==i?e.jsxs("div",{className:"relative overflow-hidden",children:["loading"===i&&e.jsx("div",{className:"absolute inset-0 bg-gray-200 dark:bg-gray-700 animate-pulse flex items-center justify-center",children:e.jsx(P,{className:"text-gray-400 text-4xl"})}),e.jsx("img",{src:d,alt:r,className:`${s} ${"loading"===i?"opacity-0":"opacity-100"} transition-opacity duration-300`,loading:"lazy",decoding:"async",width:"400",height:"256",onLoad:()=>{n("loaded")},onError:()=>{n("error"),o(void 0)}})]}):e.jsx("div",{className:"w-full h-64 bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center",children:l||e.jsx(p,{className:"text-white text-6xl"})})},Ht=()=>{const[t,r]=a.useState(!1);a.useEffect(()=>{const e=()=>{window.scrollY>300?r(!0):r(!1)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]);return e.jsx(et,{children:t&&e.jsx(Ze.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-8 right-8 z-50 p-4 bg-primary-600 hover:bg-primary-700 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 group","aria-label":"맨 위로 스크롤",title:"맨 위로",children:e.jsx($,{className:"text-xl group-hover:transform group-hover:-translate-y-1 transition-transform"})})})},Ot=(e,t=200)=>{const a=((e,t=200)=>{if(!e)return 0;const a=e.trim().split(/\s+/).length,r=Math.ceil(a/t);return Math.max(1,r)})(e,t);return(e=>0===e?"읽기 시간 없음":1===e?"1분 읽기":`${e}분 읽기`)(a)},Ut=({value:t,onChange:r,placeholder:s="내용을 입력하세요",rows:l=8,className:i=""})=>{const n=a.useRef(null),[d,o]=a.useState(0),c=()=>{n.current&&o(n.current.selectionStart)},x=()=>{var e;const a=t.split("\n");let r=0,s=0;for(let t=0;t<a.length;t++){const l=((null==(e=a[t])?void 0:e.length)||0)+1;if(d>=s&&(d<s+l||t===a.length-1)){r=t;break}s+=l}return{lineIndex:r,line:a[r]||"",lines:a,lineStart:s}},g=e=>{const{lineIndex:t,line:a,lines:s}=x(),l="#".repeat(e)+" ";a.match(/^#+\s/)?s[t]=l+a.replace(/^#+\s/,""):s[t]=l+a,r(s.join("\n"))},m=e=>{var t;const{lineIndex:a,line:s,lines:l}=x();if((null==s?void 0:s.match(/^[\s]*[-*+]\s/))||(null==s?void 0:s.match(/^[\s]*\d+\.\s/)))l[a]=(null==s?void 0:s.replace(/^[\s]*[-*+\d\.]\s/,"").trim())||"";else{const r=(null==(t=null==s?void 0:s.match(/^[\s]*/))?void 0:t[0])||"",i="bullet"===e?"- ":"1. ";l[a]=r+i+((null==s?void 0:s.trim())||"")}r(l.join("\n"))},u=e=>{const{lineIndex:t,lines:a}=x(),s=a[t]||"";a[t]="in"===e?"  "+s:s.replace(/^[\s]{0,2}/,""),r(a.join("\n"))},h=e=>{const a=n.current;if(!a)return;const s=a.selectionStart,l=a.selectionEnd,i=t.substring(s,l);let d="";switch(e){case"bold":d="**";break;case"italic":d="*";break;case"underline":d="__"}const o=`${d}${i}${d}`,c=t.substring(0,s)+o+t.substring(l);r(c),setTimeout(()=>{s===l?a.setSelectionRange(s+d.length,l+d.length):a.setSelectionRange(l+2*d.length,l+2*d.length),a.focus()},0)};return e.jsxs("div",{className:`border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 ${i}`,children:[e.jsxs("div",{className:"flex items-center gap-1 p-2 border-b border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 rounded-t-lg",children:[e.jsxs("div",{className:"flex items-center gap-1 mr-2",children:[e.jsx("button",{type:"button",onClick:()=>g(1),className:"px-2 py-1 text-xs font-bold text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"제목 1",children:"H1"}),e.jsx("button",{type:"button",onClick:()=>g(2),className:"px-2 py-1 text-xs font-semibold text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"제목 2",children:"H2"}),e.jsx("button",{type:"button",onClick:()=>g(3),className:"px-2 py-1 text-xs font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"제목 3",children:"H3"})]}),e.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600"}),e.jsxs("div",{className:"flex items-center gap-1 mx-2",children:[e.jsx("button",{type:"button",onClick:()=>h("bold"),className:"p-1 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"굵게",children:e.jsx(z,{className:"text-xs"})}),e.jsx("button",{type:"button",onClick:()=>h("italic"),className:"p-1 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"기울임",children:e.jsx(R,{className:"text-xs"})}),e.jsx("button",{type:"button",onClick:()=>h("underline"),className:"p-1 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"밑줄",children:e.jsx(B,{className:"text-xs"})})]}),e.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600"}),e.jsxs("div",{className:"flex items-center gap-1 mx-2",children:[e.jsx("button",{type:"button",onClick:()=>m("bullet"),className:"p-1 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"불릿 리스트",children:e.jsx(H,{className:"text-xs"})}),e.jsx("button",{type:"button",onClick:()=>m("number"),className:"p-1 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"번호 리스트",children:e.jsx(O,{className:"text-xs"})})]}),e.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600"}),e.jsxs("div",{className:"flex items-center gap-1 mx-2",children:[e.jsx("button",{type:"button",onClick:()=>u("out"),className:"p-1 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"내어쓰기",children:e.jsx(U,{className:"text-xs"})}),e.jsx("button",{type:"button",onClick:()=>u("in"),className:"p-1 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"들여쓰기",children:e.jsx(G,{className:"text-xs"})})]}),e.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600"}),e.jsx("button",{type:"button",onClick:()=>{const{lineIndex:e,lines:t,lineStart:a}=x(),s="▶ 토글 제목";t.splice(e+1,0,s,"  토글 내용을 입력하세요"),r(t.join("\n")),setTimeout(()=>{var r;if(n.current){const s=a+((null==(r=t[e])?void 0:r.length)||0)+1+7+1+2;n.current.setSelectionRange(s,s),n.current.focus()}},0)},className:"p-1 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors mx-2",title:"토글 블록",children:e.jsx(q,{className:"text-xs"})}),e.jsx("button",{type:"button",onClick:()=>{const{lineIndex:e,lines:t,lineStart:a}=x(),s=["```javascript","// 여기에 코드를 작성하세요","```"];t.splice(e+1,0,...s);const l=t.join("\n");r(l),setTimeout(()=>{var r,l;if(n.current){const i=a+((null==(r=t[e])?void 0:r.length)||0)+1+((null==(l=s[0])?void 0:l.length)||0)+1+2;n.current.setSelectionRange(i,i),n.current.focus()}},0)},className:"p-1 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"코드 블록",children:e.jsx(Y,{className:"text-sm"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{ref:n,value:t,onChange:e=>r(e.target.value),onSelect:c,onKeyUp:c,onMouseUp:c,placeholder:s,rows:l,className:"w-full p-3 bg-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none resize-y"}),t&&e.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-0",children:e.jsx("div",{className:"p-3 text-gray-900 dark:text-white whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:(p=t,p.replace(/^### (.*$)/gim,'<h3 class="text-lg font-semibold mt-4 mb-2 text-gray-900 dark:text-white">$1</h3>').replace(/^## (.*$)/gim,'<h2 class="text-xl font-semibold mt-4 mb-2 text-gray-900 dark:text-white">$1</h2>').replace(/^# (.*$)/gim,'<h1 class="text-2xl font-bold mt-4 mb-2 text-gray-900 dark:text-white">$1</h1>').replace(/\*\*(.*?)\*\*/g,'<strong class="font-bold">$1</strong>').replace(/\*(.*?)\*/g,'<em class="italic">$1</em>').replace(/__(.*?)__/g,'<u class="underline">$1</u>').replace(/`(.*?)`/g,'<code class="bg-gray-200 dark:bg-gray-600 text-red-600 dark:text-red-400 px-1 rounded text-sm">$1</code>').replace(/^▶ (.*$)/gim,'<div class="flex items-center mt-2 mb-1"><span class="mr-2">▶</span><span class="font-medium text-gray-900 dark:text-white">$1</span></div>').replace(/^[\s]*[-*+]\s(.*$)/gim,'<div class="ml-4 mb-1"><span class="mr-2">•</span>$1</div>').replace(/^[\s]*\d+\.\s(.*$)/gim,'<div class="ml-4 mb-1"><span class="mr-2">1.</span>$1</div>').replace(/```(.*?)\n([\s\S]*?)\n```/gim,(e,t,a)=>`<pre class="bg-gray-800 p-3 rounded-lg overflow-x-auto my-3"><code class="${t?`language-${t.trim()}`:""} text-sm text-gray-100">${a.trim()}</code></pre>`).replace(/\n/g,"<br>"))}})})]})]});var p},Gt=({activeLanguage:t,onChange:a})=>e.jsx("div",{className:"flex gap-2 mb-6 border-b border-gray-200 dark:border-gray-700",children:[{code:"ko",flag:"🇰🇷",label:"한국어"},{code:"en",flag:"🇺🇸",label:"English"},{code:"ja",flag:"🇯🇵",label:"日本語"}].map(r=>{const s=t===r.code;return e.jsxs("button",{type:"button",onClick:()=>a(r.code),className:"flex items-center gap-2 px-6 py-3 font-semibold transition-all duration-200 border-b-2 "+(s?"border-blue-600 text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"),children:[e.jsx("span",{className:"text-xl",children:r.flag}),e.jsx("span",{children:r.label})]},r.code)})}),qt=({learning:t,index:r,isAuthenticated:s,isEditing:l,currentFormData:i,setCurrentFormData:n,onStartEdit:o,onSaveEdit:c,onCancelEdit:x,onDelete:g,isSaving:m=!1,allSkillsMap:u,onSkillLinkChange:h,chapterId:p})=>{var y;const{i18n:b}=d(),k=b.language,[j,f]=a.useState("ko"),N=a.useMemo(()=>u?(t.skillIds||[]).map(e=>u.get(e)).filter(e=>!!e):[],[t.skillIds,u]),w=a.useMemo(()=>u?Array.from(u.values()):[],[u]);return e.jsx(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r},className:"card p-6 "+(l?"border-2 border-primary-500 shadow-xl":""),children:l?e.jsxs("div",{className:"space-y-4",children:[e.jsx(Gt,{activeLanguage:j,onChange:f}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"topic",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["학습 주제 ","ko"===j&&e.jsx("span",{className:"text-red-500",children:"*"}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(","ko"===j?"🇰🇷 한국어":"en"===j?"🇺🇸 English":"🇯🇵 日本語",")"]})]}),"ko"===j&&e.jsx("input",{type:"text",id:"topic",value:i.topic,onChange:e=>n(t=>({...t,topic:e.target.value})),placeholder:"학습 주제를 입력하세요",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),"en"===j&&e.jsx("input",{type:"text",value:i.topicEn||"",onChange:e=>n(t=>({...t,topicEn:e.target.value})),placeholder:"Enter learning topic",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),"ja"===j&&e.jsx("input",{type:"text",value:i.topicJa||"",onChange:e=>n(t=>({...t,topicJa:e.target.value})),placeholder:"学習トピックを入力",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["학습 내용 ","ko"===j&&e.jsx("span",{className:"text-red-500",children:"*"}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(","ko"===j?"🇰🇷 한국어":"en"===j?"🇺🇸 English":"🇯🇵 日本語",")"]})]}),"ko"===j&&e.jsx(Ut,{value:i.content,onChange:e=>n(t=>({...t,content:e})),placeholder:"학습 내용을 입력하세요. 리치텍스트 에디터를 사용하여 다양한 서식을 적용할 수 있습니다.",rows:8,className:"min-h-[200px]"}),"en"===j&&e.jsx(Ut,{value:i.contentEn||"",onChange:e=>n(t=>({...t,contentEn:e})),placeholder:"Enter learning content. Use the rich text editor to apply various formats.",rows:8,className:"min-h-[200px]"}),"ja"===j&&e.jsx(Ut,{value:i.contentJa||"",onChange:e=>n(t=>({...t,contentJa:e})),placeholder:"学習内容を入力してください。リッチテキストエディタを使用して、さまざまな書式を適用できます。",rows:8,className:"min-h-[200px]"})]}),s&&u&&w.length>0&&e.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[e.jsx(W,{size:14,className:"text-primary-600"})," 관련 스킬 연결 (",(null==(y=t.skillIds)?void 0:y.length)||0,"개 연결됨)"]}),e.jsx("div",{className:"flex flex-wrap gap-2 max-h-40 overflow-y-auto p-2 rounded-lg bg-gray-50 dark:bg-gray-700/50",children:w.map(a=>{var r;const s=null==(r=t.skillIds)?void 0:r.includes(a._id),l=a.color&&s?{backgroundColor:a.color,color:"#FFFFFF"}:void 0;return e.jsxs("button",{onClick:()=>(e=>{var a;if(!h)return;const r=(null==(a=t.skillIds)?void 0:a.includes(e))||!1;h(t._id,e,!r)})(a._id),type:"button",className:"px-3 py-1 text-xs font-medium rounded-full transition-all "+(s?"text-white hover:opacity-80":"bg-gray-200 text-gray-700 dark:bg-gray-600 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-500"),style:l,children:[s?"✔️":"➕"," ",a.name]},a._id)})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:()=>c(),disabled:m||!i.topic.trim()||!i.content.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:m?"저장 중...":"수정"}),e.jsx("button",{onClick:x,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"취소"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:_t(k,t.topic,t.topicEn,t.topicJa)}),s&&e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>o(t,p),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-blue-600 dark:text-blue-400","aria-label":"수정",children:e.jsx(V,{size:16})}),e.jsx("button",{onClick:()=>g(t._id,p),className:"p-2 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 text-red-600 dark:text-red-400","aria-label":"삭제",children:e.jsx(K,{size:16})})]})]}),N.length>0&&e.jsxs("div",{className:"flex flex-wrap items-start gap-2 mb-4",children:[e.jsx(W,{size:16,className:"text-gray-500 dark:text-gray-400 mt-1 shrink-0",title:"관련 스킬"}),N.map(t=>{const a=t.color?{backgroundColor:`${r=t.color}1A`,color:r}:void 0;var r;return e.jsx(v,{to:`/projects?skillId=${t._id}`,title:`${t.name} 스킬이 사용된 프로젝트 보기`,className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium transition-all hover:opacity-80 hover:ring-2",style:{...a,"--tw-ring-color":t.color||"#3B82F6"},children:t.name},t._id)})]}),e.jsx("div",{className:"text-gray-600 dark:text-gray-300 leading-relaxed prose prose-sm max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:(C=_t(k,t.content,t.contentEn,t.contentJa),C?C.replace(/```([\s\S]*?)```/g,'<pre class="bg-gray-100 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto my-4"><code class="text-sm font-mono">$1</code></pre>').replace(/`([^`]+)`/g,'<code class="bg-gray-100 dark:bg-gray-800 px-1 py-0.5 rounded text-sm font-mono">$1</code>').replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/__(.*?)__/g,"<strong>$1</strong>").replace(/(^|[^*])\*([^*\s][^*]*[^*\s]|[^*\s])\*([^*]|$)/g,"$1<em>$2</em>$3").replace(/(^|[^_])\_([^_\s][^_]*[^_\s]|[^_\s])\_([^_]|$)/g,"$1<em>$2</em>$3").replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-primary-600 hover:text-primary-700 underline" target="_blank" rel="noopener noreferrer">$1</a>').replace(/^### (.*$)/gm,'<h3 class="text-lg font-semibold text-gray-900 dark:text-white mt-4 mb-2">$1</h3>').replace(/^## (.*$)/gm,'<h2 class="text-xl font-semibold text-gray-900 dark:text-white mt-4 mb-2">$1</h2>').replace(/^# (.*$)/gm,'<h1 class="text-2xl font-bold text-gray-900 dark:text-white mt-4 mb-2">$1</h1>').replace(/^[\s]*[-*] (.*$)/gm,'<li class="ml-4">$1</li>').replace(/(<li class="ml-4">.*<\/li>)/s,'<ul class="list-disc list-inside my-2">$1</ul>').replace(/^> (.*$)/gm,'<blockquote class="border-l-4 border-primary-500 pl-4 italic text-gray-600 dark:text-gray-400 my-2">$1</blockquote>').replace(/^---$/gm,'<hr class="border-gray-300 dark:border-gray-600 my-4">').replace(/\n/g,"<br>"):"")}}),e.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-500",children:["작성일: ",Ee(t.createdAt)," (",Ie(t.createdAt),") • ",Ot(t.content)]})]})});var C},Yt=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{id:t}=Q(),s=r(),l=c(),{isAuthenticated:i}=Se(),{i18n:n}=d(),o=n.language,{data:x,isLoading:g,isError:m,error:u}=$e(t),{data:h=[]}=X({queryKey:["chapters",t],queryFn:async()=>{var e;if(!t)return[];const a=await Fe.getByBook(t);return(null==(e=a.data)?void 0:e.data)||a.data||[]},enabled:!!t,staleTime:3e5}),{skillCategories:y}=ze(),b=Re(),k=m?(null==u?void 0:u.message)||"서적 정보를 불러오는 데 실패했습니다.":null,{editingLearningId:j,currentFormData:f,setCurrentFormData:N,showAddForm:w,isSaving:C,learningApiError:S,handleToggleAddForm:E,handleAddLearning:I,handleDeleteLearning:F,handleStartEdit:_,handleSaveEdit:L,handleCancelEdit:J,handleSkillLinkChange:T}=Be(t),[D,A]=a.useState(null),[M,P]=a.useState(!1),[$,z]=a.useState({title:"",titleEn:"",titleJa:"",order:((null==h?void 0:h.length)||0)+1}),R=a.useMemo(()=>{if(!h||!y)return[];const e=y.flatMap(e=>e.skills||[]),t=new Set;if(h.forEach(e=>{(e.learnings||[]).forEach(e=>{(e.skillIds||[]).forEach(e=>{t.add(e)})})}),0===t.size)return[];return e.filter(e=>e._id&&t.has(e._id)).map(e=>{return{...e,levelText:(t=e.level||0,t>=90?"Expert":t>=70?"Proficient":t>=50?"Competent":"Basic")};var t})},[h,y]),B=a.useMemo(()=>{const e=new Map;return R.forEach(t=>t._id&&e.set(t._id,t)),e},[R]),H=b.isPending,O=a.useMemo(()=>(null==x?void 0:x.learnings)?[...x.learnings].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()):[],[null==x?void 0:x.learnings]);if(g)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})});if(!x)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(p,{className:"text-6xl text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"서적을 찾을 수 없습니다"}),e.jsx(v,{to:"/books",state:l.state,className:"text-primary-600 hover:text-primary-700 mt-4 inline-block",children:"목록으로 돌아가기"})]})});return e.jsx("section",{className:"section-padding bg-white dark:bg-dark-900 min-h-screen",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[(k||S)&&e.jsx(Ze.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-dark-800 dark:text-red-400",role:"alert",children:k||S}),e.jsx(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:e.jsxs(v,{to:"/books",state:l.state,className:"inline-flex items-center gap-2 text-primary-600 hover:text-primary-700 mb-6",children:[e.jsx(Z,{})," 목록으로 돌아가기"]})}),e.jsx(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-8 mb-8",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsx("div",{children:x.coverImage?e.jsx("img",{src:x.coverImage,alt:x.title,className:"w-full h-auto object-cover rounded-lg shadow-lg",loading:"eager",decoding:"async",width:"400",height:"533"}):e.jsx("div",{className:"w-full aspect-[3/4] bg-gradient-to-br from-primary-400 to-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(p,{className:"text-white text-6xl"})})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:x.categoryIds&&x.categoryIds.length>0?x.categoryIds.map(t=>{const a="string"==typeof t?t:null==t?void 0:t.name;return a?e.jsx("span",{className:"px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 rounded-full text-sm font-medium",children:a},"string"==typeof t?t:null==t?void 0:t._id):null}):x.category&&e.jsx("span",{className:"px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 rounded-full text-sm font-medium",children:x.category})}),i&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{to:"/admin",state:{tab:"books",editId:x._id},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-blue-600 dark:text-blue-400","aria-label":"서적 수정",children:e.jsx(V,{})}),e.jsx("button",{onClick:async()=>{if(confirm("이 서적을 삭제하시겠습니까? 관련 학습 내용도 모두 사라집니다."))try{await b.mutateAsync(t),s("/books")}catch(e){}},disabled:H,className:"p-2 rounded-lg text-red-600 dark:text-red-400 transition-colors "+(H?"opacity-50 cursor-not-allowed":"hover:bg-gray-100 dark:hover:bg-gray-700"),"aria-label":"서적 삭제",children:H?e.jsx("div",{className:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):e.jsx(K,{})})]})]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-2",children:_t(o,x.title,x.titleEn,x.titleJa)}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-6",children:_t(o,x.author,x.authorEn,x.authorJa)}),e.jsxs("div",{className:"flex flex-wrap gap-6 text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[(U=x.rating,Array.from({length:5},(t,a)=>e.jsx(se,{className:a<U?"text-yellow-500":"text-gray-300 dark:text-gray-600"},a))),e.jsxs("span",{className:"font-medium ml-1",children:[x.rating,"/5"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{}),e.jsxs("span",{children:["읽은 날짜: ",Ee(x.readDate)]})]})]})]})]})}),R.length>0&&e.jsxs(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-6 mb-8",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(te,{className:"text-primary-600"})," 이 책을 통해 학습한 핵심 스킬"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:R.map(t=>{const a=t.color?{backgroundColor:`${r=t.color}26`,color:r}:void 0;var r;return e.jsxs(v,{to:`/projects?skillId=${t._id}`,title:`${t.name} 스킬이 사용된 모든 프로젝트 보기`,className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium hover:ring-2 transition-all hover:opacity-80",style:{...a,"--tw-ring-color":t.color||"#3B82F6"},children:[t.name,e.jsxs("span",{className:"ml-1 text-xs font-semibold",style:{color:t.color||"#3B82F6"},children:["[",t.levelText,"]"]})]},t._id)})})]}),e.jsxs(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-3",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"학습 내용"}),i&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"button",onClick:()=>P(!M),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white font-medium px-4 py-2 rounded-lg transition-colors",children:[e.jsx(p,{})," ",M?"취소":"목차 추가"]}),(!h||0===h.length)&&e.jsxs("button",{type:"button",onClick:E,className:"flex items-center gap-2 bg-primary-600 hover:bg-primary-700 text-white font-medium px-4 py-2 rounded-lg transition-colors",children:[e.jsx(ae,{})," ",w?"추가 취소":"새 내용 추가"]})]})]}),e.jsx(et,{children:M&&e.jsxs(Ze.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"card p-6 mb-6 overflow-hidden",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"새 목차 추가"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["목차 제목 (한국어) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:$.title,onChange:e=>z({...$,title:e.target.value}),placeholder:"예: Chapter 1. 기초 개념",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"목차 제목 (English)"}),e.jsx("input",{type:"text",value:$.titleEn,onChange:e=>z({...$,titleEn:e.target.value}),placeholder:"e.g., Chapter 1. Basic Concepts",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"목차 제목 (日本語)"}),e.jsx("input",{type:"text",value:$.titleJa,onChange:e=>z({...$,titleJa:e.target.value}),placeholder:"例：第1章。基本概念",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:async()=>{if($.title.trim())try{await Fe.create(t,$),P(!1),z({title:"",titleEn:"",titleJa:"",order:((null==h?void 0:h.length)||0)+2})}catch(e){alert("목차 추가에 실패했습니다.")}else alert("목차 제목을 입력해주세요.")},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"추가"}),e.jsx("button",{type:"button",onClick:()=>{P(!1),z({title:"",titleEn:"",titleJa:"",order:((null==h?void 0:h.length)||0)+1})},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"취소"})]})]})]})}),e.jsx(et,{children:w&&e.jsxs(Ze.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"card p-6 mb-6 overflow-hidden",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"새 학습 내용 추가"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"topic",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"학습 주제"}),e.jsx("input",{type:"text",id:"topic",value:f.topic,onChange:e=>N(t=>({...t,topic:e.target.value})),placeholder:"학습 주제를 입력하세요",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"학습 내용"}),e.jsx(Ut,{value:f.content,onChange:e=>N(t=>({...t,content:e})),placeholder:"학습 내용을 입력하세요. 리치텍스트 에디터를 사용하여 다양한 서식을 적용할 수 있습니다.",rows:8,className:"min-h-[200px]"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:I,disabled:C||!f.topic.trim()||!f.content.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:C?"저장 중...":"추가"}),e.jsx("button",{onClick:E,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"취소"})]})]})]})}),h&&h.length>0?e.jsx("div",{className:"space-y-4",children:h.map(t=>{const a=D===t._id;return e.jsxs("div",{className:"card p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 -m-6 p-6 rounded-lg transition-colors",onClick:()=>{return e=t._id,void A(t=>t===e?null:e);var e},children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex-1",children:[_t(o,t.title,t.titleEn,t.titleJa),e.jsxs("span",{className:"ml-3 text-sm font-normal text-gray-500 dark:text-gray-400",children:["(",(t.learnings||[]).length,"개의 학습 내용)"]})]}),e.jsx(Ze.span,{animate:{rotate:a?90:0},transition:{duration:.3},className:"text-primary-600 dark:text-primary-400 text-xl ml-4",children:e.jsx(re,{})})]}),e.jsx(et,{children:a&&e.jsx(Ze.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:e.jsxs("div",{className:"space-y-6 pt-6 mt-6 border-t border-gray-200 dark:border-gray-700",children:[(t.learnings||[]).map((a,r)=>e.jsx(qt,{learning:a,index:r,isAuthenticated:i,isEditing:j===a._id,currentFormData:f,setCurrentFormData:N,onStartEdit:_,onSaveEdit:L,onCancelEdit:J,onDelete:F,isSaving:C,allSkillsMap:B,onSkillLinkChange:T,chapterId:t._id},a._id)),(!t.learnings||0===t.learnings.length)&&e.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"이 목차에는 아직 학습 내용이 없습니다."})]})})})]},t._id)})}):O.length>0?e.jsx("div",{className:"space-y-6",children:O.map((t,a)=>e.jsx(qt,{learning:t,index:a,isAuthenticated:i,isEditing:j===t._id,currentFormData:f,setCurrentFormData:N,onStartEdit:_,onSaveEdit:L,onCancelEdit:J,onDelete:F,isSaving:C,allSkillsMap:B,onSkillLinkChange:T},t._id))}):e.jsxs("div",{className:"card p-12 text-center",children:[e.jsx(p,{className:"text-6xl text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"아직 작성된 학습 내용이 없습니다"})]})]})]})});var U}},Symbol.toStringTag,{value:"Module"})),Wt=({videoId:t,playerRef:r,onPlayerReady:s})=>{const l=a.useRef(null),i=a.useRef(null),[n,d]=a.useState(!1),[o,c]=a.useState(!1),[x,g]=a.useState(0);a.useEffect(()=>{if(o)return;if(l.current&&0===x){const e=l.current.getBoundingClientRect();g(e.top+window.scrollY)}const e=()=>{if(!l.current)return;const e=window.scrollY;e>x+150&&!n&&d(!0),e<=x+150&&n&&d(!1)};return window.addEventListener("scroll",e,{passive:!0}),e(),()=>window.removeEventListener("scroll",e)},[n,x,o]);return e.jsxs("div",{ref:l,className:"relative",children:[n&&!o&&e.jsx("div",{className:"aspect-video bg-gray-100 dark:bg-gray-800 rounded-xl flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"영상이 상단에서 재생 중입니다"})}),e.jsx(Ze.div,{ref:i,className:""+(n&&!o?"fixed z-50":"relative"),style:n&&!o?{top:"80px",left:window.innerWidth<640?"20px":"280px",right:window.innerWidth<640?"20px":"auto",width:window.innerWidth<640?"calc(100vw - 40px)":"400px",maxWidth:window.innerWidth>=640?"calc(100vw - 320px)":"90vw"}:{},animate:{scale:1,opacity:1},transition:{type:"spring",damping:20,stiffness:300},children:e.jsxs("div",{className:"bg-black rounded-xl overflow-hidden shadow-2xl "+(n&&!o?"border-2 border-blue-500":""),children:[n&&!o&&e.jsxs("div",{className:"bg-gray-900 px-3 py-2 flex items-center justify-between",children:[e.jsxs("span",{className:"text-white text-xs font-medium flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),"재생 중"]}),e.jsx("button",{onClick:()=>{c(!0),d(!1)},className:"p-1.5 hover:bg-red-600 rounded text-white transition-colors",title:"닫기",children:e.jsx(k,{size:14})})]}),e.jsx("div",{className:"aspect-video bg-black relative",children:e.jsx("div",{ref:r,className:"w-full h-full"})})]})})]})},Vt=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{id:t}=Q(),s=r(),l=c(),{isAuthenticated:i}=Se(),{i18n:n}=d();n.language;const{data:o,isLoading:x,isError:g,error:m}=He(t),u=Oe(),h=Ue(),{skillCategories:p}=ze(),{success:b,error:j}=Ge(),f=a.useRef(null),N=a.useRef(null),[w,C]=a.useState(!1),[S,E]=a.useState(!1),[I,F]=a.useState(""),_=a.useMemo(()=>(null==o?void 0:o.videoId)?o.videoId:(null==o?void 0:o.videoUrl)?_e(o.videoUrl):null,[o]);a.useEffect(()=>{if(!_)return;if(!window.YT){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";const t=document.getElementsByTagName("script")[0];(null==t?void 0:t.parentNode)&&t.parentNode.insertBefore(e,t)}const e=()=>{window.YT&&window.YT.Player&&N.current&&(f.current=new window.YT.Player(N.current,{videoId:_,playerVars:{enablejsapi:1,origin:window.location.origin,rel:0,modestbranding:1,fs:1,cc_load_policy:0,iv_load_policy:3,showinfo:0,controls:1},events:{onReady:()=>{C(!0)}}}))};return window.YT&&window.YT.Player?e():window.onYouTubeIframeAPIReady=e,()=>{f.current&&"function"==typeof f.current.destroy&&f.current.destroy()}},[_]);const L=a.useMemo(()=>{if(!(null==o?void 0:o.skillIds)||!p)return[];return p.flatMap(e=>e.skills||[]).filter(e=>{var t;return e._id&&(null==(t=o.skillIds)?void 0:t.includes(e._id))})},[o,p]),J=u.isPending;return x?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})}):o?e.jsx("section",{className:"min-h-screen bg-white dark:bg-dark-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsx(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:e.jsxs(v,{to:"/video-learnings",state:l.state,className:"inline-flex items-center gap-2 text-primary-600 hover:text-primary-700 mb-6",children:[e.jsx(Z,{})," 목록으로 돌아가기"]})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsxs("div",{className:"w-full lg:w-7/12 lg:sticky lg:top-8 self-start",children:[_&&e.jsxs(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:[e.jsx(Wt,{videoId:_,playerRef:N,onPlayerReady:()=>C(!0)}),!w&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 bg-opacity-75 rounded-xl pointer-events-none",children:e.jsx("div",{className:"w-12 h-12 border-4 border-white border-t-transparent rounded-full animate-spin"})})]}),e.jsxs(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-6 mb-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:o.categoryIds&&o.categoryIds.length>0?o.categoryIds.map(t=>{const a="string"==typeof t?t:null==t?void 0:t.name;return a?e.jsx("span",{className:"px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 rounded-full text-sm font-medium",children:a},"string"==typeof t?t:null==t?void 0:t._id):null}):o.category&&e.jsx("span",{className:"px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 rounded-full text-sm font-medium",children:o.category})}),i&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{to:"/admin",state:{tab:"videoLearnings",editId:o._id},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-blue-600 dark:text-blue-400","aria-label":"영상 수정",children:e.jsx(V,{})}),e.jsx("button",{onClick:async()=>{if(confirm("이 영상 학습 기록을 삭제하시겠습니까?"))try{await u.mutateAsync(t),s("/video-learnings")}catch(e){}},disabled:J,className:"p-2 rounded-lg text-red-600 dark:text-red-400 transition-colors "+(J?"opacity-50 cursor-not-allowed":"hover:bg-gray-100 dark:hover:bg-gray-700"),"aria-label":"영상 삭제",children:J?e.jsx("div",{className:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):e.jsx(K,{})})]})]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:o.title}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 dark:text-gray-400",children:[o.rating&&e.jsxs("div",{className:"flex items-center gap-2",children:[Array.from({length:5},(t,a)=>e.jsx(se,{className:"text-sm "+(a<o.rating?"text-yellow-500":"text-gray-300 dark:text-gray-600")},a)),e.jsxs("span",{className:"font-medium",children:[o.rating,"/5"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{}),e.jsx("span",{children:Ee(o.watchDate)})]})]})]}),o.purpose&&e.jsxs(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card p-6 mb-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[e.jsx(le,{className:"text-blue-600"})," 시청 목적"]}),e.jsx("div",{className:"prose dark:prose-invert max-w-none text-gray-700 dark:text-gray-300 text-sm",children:e.jsx(ie,{children:o.purpose})})]}),o.application&&e.jsxs(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card p-6 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 border-l-4 border-purple-600",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[e.jsx(ne,{className:"text-purple-600"})," 적용 계획"]}),e.jsx("div",{className:"prose dark:prose-invert max-w-none text-gray-700 dark:text-gray-300 text-sm",children:e.jsx(ie,{children:o.application})})]})]}),e.jsxs("div",{className:"w-full lg:w-5/12 space-y-6",children:[L.length>0&&e.jsxs(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(te,{className:"text-primary-600"})," 학습한 기술"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:L.map(t=>e.jsx("div",{className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium",style:{backgroundColor:`${t.color}26`,color:t.color},children:t.name},t._id))})]}),(o.keyTakeaways||i)&&e.jsxs(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card p-6 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-l-4 border-blue-600",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(de,{className:"text-yellow-500"})," 핵심 배움"]}),i&&!S&&e.jsx("button",{onClick:()=>{E(!0),F((null==o?void 0:o.keyTakeaways)||"")},className:"p-1.5 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition-colors",title:"핵심 배움 편집",children:e.jsx(V,{className:"text-sm"})})]}),o.createdAt&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["기록 날짜: ",Ee(o.createdAt)]})]}),!S&&e.jsx(e.Fragment,{children:o.keyTakeaways?e.jsx(e.Fragment,{children:e.jsx("div",{className:"prose dark:prose-invert max-w-none text-gray-700 dark:text-gray-300",dangerouslySetInnerHTML:{__html:Le(o.keyTakeaways)},onClick:e=>{const t=e.target;if("BUTTON"===t.tagName&&t.dataset.timestamp){(e=>{if(f.current&&w)try{f.current.seekTo(e,!0),f.current.playVideo()}catch(t){}})(parseInt(t.dataset.timestamp,10))}}})}):e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx("p",{className:"text-sm",children:"이 영상의 핵심 배움이 아직 기록되지 않았습니다"}),i&&e.jsx("p",{className:"text-xs mt-2",children:"위의 연필 버튼을 클릭하여 학습 기록을 추가하세요"})]})}),S&&e.jsxs("div",{children:[e.jsx(Ut,{value:I,onChange:F,placeholder:"영상을 보면서 핵심 배움을 작성하세요. 리치텍스트 에디터를 사용하여 다양한 서식을 적용할 수 있습니다.",rows:8,className:"min-h-[250px]"}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs("button",{onClick:async()=>{var e,a;if(o&&t)try{const e=(o.skillIds||[]).map(e=>"string"==typeof e?e:null==e?void 0:e._id).filter(Boolean),a=(o.categoryIds||[]).map(e=>"string"==typeof e?e:null==e?void 0:e._id).filter(Boolean),r={title:o.title,videoId:o.videoId,category:o.category,categoryIds:a,watchDate:o.watchDate,purpose:o.purpose,keyTakeaways:I,application:o.application,skillIds:e,rating:o.rating,order:o.order};await h.mutateAsync({id:t,data:r}),b("저장 완료","핵심 배움이 저장되었습니다."),E(!1),F("")}catch(r){j("저장 실패",(null==(a=null==(e=r.response)?void 0:e.data)?void 0:a.message)||"핵심 배움 저장 중 오류가 발생했습니다.")}},disabled:h.isPending,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:[e.jsx(oe,{}),h.isPending?"저장 중...":"저장"]}),e.jsxs("button",{onClick:()=>{E(!1),F("")},disabled:h.isPending,className:"flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:[e.jsx(k,{}),"취소"]})]})]})]})]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(y,{className:"text-6xl text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"영상 학습 기록을 찾을 수 없습니다"}),e.jsx(v,{to:"/video-learnings",state:l.state,className:"text-primary-600 hover:text-primary-700 mt-4 inline-block",children:"목록으로 돌아가기"})]})})}},Symbol.toStringTag,{value:"Module"})),Kt=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{id:t}=Q(),s=r(),l=c(),{isAuthenticated:i}=Se(),{i18n:n}=d();n.language;const{data:o,isLoading:x}=qe(t),{data:g=[]}=Ye(t),m=We(),u=Ve(),{skillCategories:h}=ze(),{success:p,error:y}=Ge(),b=a.useRef(null),j=a.useRef(null),[f,N]=a.useState(!1),[w,C]=a.useState(null);a.useState(null);const[S,E]=a.useState(null),[I,F]=a.useState(!0),[_,L]=a.useState(null),[J,T]=a.useState("");a.useEffect(()=>{g.length>0&&!w&&g[0]&&C(g[0].videoId)},[g,w]),a.useEffect(()=>{if(!(null==o?void 0:o.playlistId))return;if(!window.YT){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";const t=document.getElementsByTagName("script")[0];(null==t?void 0:t.parentNode)&&t.parentNode.insertBefore(e,t)}const e=()=>{window.YT&&window.YT.Player&&j.current&&(b.current=new window.YT.Player(j.current,{playerVars:{listType:"playlist",list:o.playlistId,enablejsapi:1,origin:window.location.origin,rel:0,modestbranding:1,fs:1,cc_load_policy:0,iv_load_policy:3,showinfo:0},events:{onReady:()=>{N(!0)}}}))};return window.YT&&window.YT.Player?e():window.onYouTubeIframeAPIReady=e,()=>{b.current&&"function"==typeof b.current.destroy&&b.current.destroy()}},[null==o?void 0:o.playlistId]),a.useEffect(()=>{g.length>0&&!S&&g[0]&&E(g[0]._id)},[g,S]);const D=a.useMemo(()=>{if(!(null==o?void 0:o.skillIds)||!h)return[];return h.flatMap(e=>e.skills||[]).filter(e=>{var t;return e._id&&(null==(t=o.skillIds)?void 0:t.includes(e._id))})},[o,h]),A=a.useMemo(()=>g.find(e=>e._id===S),[g,S]),M=(e,t)=>{if(f&&b.current)try{const a=g.findIndex(t=>t.videoId===e);if(-1===a)return;b.current.playVideoAt(a),C(e),setTimeout(()=>{b.current.seekTo(t,!0),b.current.playVideo()},1e3)}catch(a){}};return x?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})}):o?e.jsx("section",{className:"min-h-screen bg-white dark:bg-dark-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsx(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:e.jsxs(v,{to:"/video-learnings",state:l.state,className:"inline-flex items-center gap-2 text-primary-600 hover:text-primary-700 mb-6",children:[e.jsx(Z,{})," 목록으로 돌아가기"]})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsxs("div",{className:"w-full lg:w-7/12 lg:sticky lg:top-8 self-start",children:[o.playlistId&&w&&e.jsxs(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:[e.jsx(Wt,{videoId:w,playerRef:j,onPlayerReady:()=>N(!0)}),!f&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 bg-opacity-75 rounded-xl pointer-events-none",children:e.jsx("div",{className:"w-12 h-12 border-4 border-white border-t-transparent rounded-full animate-spin"})})]}),e.jsxs(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-6 mb-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:o.categoryIds&&o.categoryIds.length>0?o.categoryIds.map(t=>{const a="string"==typeof t?t:null==t?void 0:t.name;return a?e.jsx("span",{className:"px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 rounded-full text-sm font-medium",children:a},"string"==typeof t?t:null==t?void 0:t._id):null}):o.category&&e.jsx("span",{className:"px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 rounded-full text-sm font-medium",children:o.category})}),i&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{to:"/admin",state:{tab:"videoPlaylists",editId:o._id},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-blue-600 dark:text-blue-400","aria-label":"재생 목록 수정",children:e.jsx(V,{})}),e.jsx("button",{onClick:async()=>{if(confirm("이 재생 목록을 삭제하시겠습니까?"))try{await m.mutateAsync(t),s("/video-learnings")}catch(e){}},disabled:m.isPending,className:"p-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"재생 목록 삭제",children:e.jsx(K,{})})]})]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:o.title}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 dark:text-gray-400",children:[o.rating&&e.jsxs("div",{className:"flex items-center gap-2",children:[Array.from({length:5},(t,a)=>e.jsx(se,{className:"text-sm "+(a<o.rating?"text-yellow-500":"text-gray-300 dark:text-gray-600")},a)),e.jsxs("span",{className:"font-medium",children:[o.rating,"/5"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{}),e.jsx("span",{children:Ee(o.watchDate)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{}),e.jsxs("span",{children:[g.length,"개 영상"]})]})]})]}),o.purpose&&e.jsxs(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card p-6 mb-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[e.jsx(le,{className:"text-blue-600"})," 시청 목적"]}),e.jsx("div",{className:"prose dark:prose-invert max-w-none text-gray-700 dark:text-gray-300 text-sm",children:e.jsx(ie,{children:o.purpose})})]}),o.application&&e.jsxs(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card p-6 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 border-l-4 border-purple-600",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[e.jsx(ne,{className:"text-purple-600"})," 통합 적용 계획"]}),e.jsx("div",{className:"prose dark:prose-invert max-w-none text-gray-700 dark:text-gray-300 text-sm",children:e.jsx(ie,{children:o.application})})]})]}),e.jsxs("div",{className:"w-full lg:w-5/12 space-y-6",children:[D.length>0&&e.jsxs(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card p-6 mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(te,{className:"text-primary-600"})," 학습한 기술"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:D.map(t=>e.jsx("div",{className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium",style:{backgroundColor:`${t.color}26`,color:t.color},children:t.name},t._id))})]}),e.jsxs(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("button",{onClick:()=>F(!I),className:"flex items-center gap-2 text-xl font-bold text-gray-900 dark:text-white hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:[I?e.jsx(xe,{}):e.jsx(q,{}),"📹 영상별 학습 기록 (",g.length,"개)"]})}),I&&g.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:g.map((t,a)=>e.jsxs("button",{onClick:()=>(e=>{E(e._id),M(e.videoId,0)})(t),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+(S===t._id?"bg-primary-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:["#",a+1," ",t.title]},t._id))}),g.length>0&&A?e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-1",children:A.title}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["유튜브 영상 ID: ",A.videoId]}),A.createdAt&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["기록 날짜: ",Ee(A.createdAt)]})]}),i&&_!==A._id&&e.jsx("button",{onClick:()=>{return L((e=A)._id),void T(e.keyTakeaways||"");var e},className:"p-1.5 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition-colors",title:"핵심 배움 편집",children:e.jsx(V,{className:"text-sm"})})]})]}),_!==A._id&&e.jsx(e.Fragment,{children:A.keyTakeaways?e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-900",children:[e.jsx("h5",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"🎯 핵심 배움"}),e.jsx("div",{className:"prose dark:prose-invert max-w-none text-gray-700 dark:text-gray-300 leading-relaxed",dangerouslySetInnerHTML:{__html:Le(A.keyTakeaways)},onClick:e=>{const t=e.target;if("BUTTON"===t.tagName&&t.dataset.timestamp){const e=parseInt(t.dataset.timestamp,10);M(A.videoId,e)}}})]}):e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-900 text-center text-gray-500 dark:text-gray-400",children:[e.jsx("p",{className:"text-sm",children:"이 영상의 핵심 배움이 아직 기록되지 않았습니다"}),i&&e.jsx("p",{className:"text-xs mt-2",children:"위의 연필 버튼을 클릭하여 학습 기록을 추가하세요"})]})}),_===A._id&&e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-900",children:[e.jsx("h5",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"✏️ 핵심 배움 편집"}),e.jsx(Ut,{value:J,onChange:T,placeholder:"영상을 보면서 핵심 배움을 작성하세요. 리치텍스트 에디터를 사용하여 다양한 서식을 적용할 수 있습니다.",rows:8,className:"min-h-[250px]"}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs("button",{onClick:async()=>{if(_&&A)try{await u.mutateAsync({id:_,data:{playlistId:t,videoId:A.videoId,title:A.title,keyTakeaways:J,order:A.order||0}}),p("저장 완료","핵심 배움이 저장되었습니다."),L(null),T("")}catch(e){y("저장 실패","핵심 배움 저장 중 오류가 발생했습니다.")}},disabled:u.isPending,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:[e.jsx(oe,{}),u.isPending?"저장 중...":"저장"]}),e.jsxs("button",{onClick:()=>{L(null),T("")},disabled:u.isPending,className:"flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:[e.jsx(k,{}),"취소"]})]})]})]}):0===g.length?e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx("p",{className:"mb-4",children:"아직 등록된 영상 학습 기록이 없습니다"}),i&&e.jsx("p",{className:"text-sm",children:"관리자 페이지의 재생 목록 수정에서 영상을 추가해주세요"})]}):null]})]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ce,{className:"text-6xl text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"재생 목록을 찾을 수 없습니다"}),e.jsx(v,{to:"/video-learnings",state:l.state,className:"text-primary-600 hover:text-primary-700 mt-4 inline-block",children:"목록으로 돌아가기"})]})})}},Symbol.toStringTag,{value:"Module"})),Qt=({project:t,itemVariants:a,getStatusColor:r,getStatusText:s})=>{const{i18n:l}=d(),i=l.language,n=Lt(i,t.technologies,t.technologiesEn,t.technologiesJa),o=t.githubLink||t.liveLink;return e.jsx(Ze.div,{variants:a,layout:!0,className:"card overflow-hidden bg-white dark:bg-dark-800 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 flex flex-col cursor-pointer group",children:e.jsxs(v,{to:`/projects/${t._id}`,state:{scrollPosition:window.scrollY},className:"block flex flex-col h-full",children:[e.jsxs("div",{className:"h-48 bg-cream-200 dark:bg-dark-700 flex items-center justify-center relative flex-shrink-0",children:[t.image?e.jsx("img",{src:t.image,alt:`${t.title} 썸네일`,className:"w-full h-full object-cover",loading:"lazy",decoding:"async",width:"640",height:"192"}):e.jsx(P,{className:"text-dark-400 dark:text-dark-500 text-5xl"}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r(t.status)}`,children:s(t.status)})})]}),e.jsxs("div",{className:"p-8 flex flex-col flex-grow",children:[e.jsx("h3",{className:"text-xl font-bold text-dark-900 dark:text-cream-100 mb-3 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:_t(i,t.title,t.titleEn,t.titleJa)}),e.jsx("p",{className:"text-dark-600 dark:text-dark-300 mb-6 leading-relaxed flex-grow",children:_t(i,t.description,t.descriptionEn,t.descriptionJa)}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[n.slice(0,5).map(t=>e.jsx("span",{className:"px-3 py-1 bg-coffee-50 dark:bg-coffee-900 text-coffee-700 dark:text-coffee-300 rounded-lg text-sm font-medium",children:t},t)),n.length>5&&e.jsxs("span",{className:"px-3 py-1 bg-cream-200 dark:bg-dark-700 text-dark-500 dark:text-dark-400 rounded-lg text-sm font-medium",children:["외 ",n.length-5,"개"]})]}),e.jsx("div",{className:"flex flex-wrap gap-4 pt-4 border-t border-cream-200 dark:border-dark-700",onClick:e=>e.stopPropagation(),children:o?e.jsxs(e.Fragment,{children:[t.liveLink&&e.jsxs("a",{href:t.liveLink,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-xl font-bold transition-all duration-200 flex items-center gap-2 \n                    "+("completed"===t.status?"bg-coffee-600 text-white hover:bg-coffee-700 shadow-md":"bg-cream-200 dark:bg-dark-700 text-dark-700 dark:text-dark-300 hover:bg-cream-300 dark:hover:bg-dark-600"),"aria-label":`${t.title} 라이브 데모 보기`,children:[e.jsx(ge,{size:16}),"라이브 보기"]}),t.githubLink&&e.jsxs("a",{href:t.githubLink,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-xl font-medium transition-all duration-200 flex items-center gap-2 bg-white dark:bg-dark-900 text-dark-600 dark:text-dark-300 hover:bg-cream-100 dark:hover:bg-dark-700 border border-cream-200 dark:border-dark-700","aria-label":`${t.title} GitHub 레포지토리`,children:[e.jsx(E,{size:20}),"GitHub"]})]}):null})]})]})},t._id)},Xt=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{var t,s;const{id:l}=Q(),i=r(),n=c(),{i18n:o}=d(),x=o.language,{loading:g,error:m,localizedProject:u,linkedSkills:h}=Ke(l,x),[p,y]=a.useState(null),[b,k]=a.useState(0),[j,N]=a.useState(0);if(g)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})});if(m||!u)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-4",children:m||"프로젝트를 찾을 수 없습니다."}),e.jsx("button",{onClick:()=>i("/projects",{state:n.state}),className:"text-primary-600 hover:text-primary-700",children:"목록으로 돌아가기"})]})});const w=e=>e.includes("youtube.com/shorts/"),C=e=>{var t,a,r;let s="";return e.includes("youtube.com/shorts/")?s=(null==(t=e.split("shorts/")[1])?void 0:t.split("?")[0])||"":e.includes("youtube.com/watch?v=")?s=(null==(a=e.split("v=")[1])?void 0:a.split("&")[0])||"":e.includes("youtu.be/")&&(s=(null==(r=e.split("youtu.be/")[1])?void 0:r.split("?")[0])||""),s?`https://www.youtube.com/embed/${s}?rel=0&modestbranding=1&showinfo=0`:""},S=(null==(t=u.videos)?void 0:t.filter(e=>!w(e)))||[],I=(null==(s=u.videos)?void 0:s.filter(e=>w(e)))||[];return e.jsxs("section",{className:"section-padding bg-gray-50 dark:bg-dark-900 min-h-screen",children:[e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsx(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:e.jsxs(v,{to:"/projects",state:n.state,className:"inline-flex items-center gap-2 text-primary-600 hover:text-primary-700 mb-6 dark:text-primary-400",children:[e.jsx(Z,{})," 목록으로 돌아가기"]})}),e.jsx(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[u.image&&e.jsx("div",{className:"md:w-1/3",children:e.jsx("img",{src:u.image,alt:u.title,className:"w-full h-auto rounded-lg shadow-lg object-cover",loading:"eager",decoding:"async",width:"800",height:"600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4 flex-wrap",children:[u.categoryIds&&u.categoryIds.length>0?u.categoryIds.map(t=>{const a="string"==typeof t?t:null==t?void 0:t.name;return a?e.jsx("span",{className:"px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 rounded-full text-sm font-medium",children:a},"string"==typeof t?t:null==t?void 0:t._id):null}):u.category&&e.jsx("span",{className:"px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 rounded-full text-sm font-medium",children:u.category}),e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium "+("completed"===u.status?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"planning"===u.status?"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200":"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200"),children:"completed"===u.status?"완료":"planning"===u.status?"기획중":"준비중"})]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:u.title}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-6 leading-relaxed",children:u.description}),u.technologies.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[e.jsx(f,{})," 사용 기술"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:u.technologies.map((t,a)=>e.jsx("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg text-sm font-medium",children:t},a))})]}),h.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[e.jsx(f,{})," 사용된 핵심 스킬"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(t=>{const a=t.color?{backgroundColor:`${r=t.color}26`,color:r}:void 0;var r;return e.jsxs(v,{to:`/projects?skillId=${t._id}`,className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium hover:ring-2 transition-all hover:opacity-80",title:`${t.name} 스킬이 사용된 모든 프로젝트 보기`,style:{...a,"--tw-ring-color":t.color||"#3B82F6"},children:[e.jsx("span",{className:"font-semibold",children:t.name}),e.jsxs("span",{className:"text-xs font-semibold ml-1",style:{color:t.color||"#3B82F6"},children:["[",t.levelText,"]"]})]},t._id)})})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[u.githubLink&&e.jsxs("a",{href:u.githubLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-900 dark:bg-gray-700 text-white rounded-lg hover:bg-gray-800 dark:hover:bg-gray-600 transition-colors",children:[e.jsx(E,{})," GitHub"]}),u.liveLink&&e.jsxs("a",{href:u.liveLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[e.jsx(ge,{})," Live Demo"]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[u.images&&u.images.length>0&&e.jsxs("div",{className:"lg:col-span-4 bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(P,{})," 프로젝트 이미지"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.images.map((t,a)=>e.jsx(Ze.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*a},className:"cursor-pointer group",onClick:()=>y(t),children:e.jsx("div",{className:"aspect-video rounded-lg overflow-hidden shadow-md group-hover:shadow-xl transition-shadow",children:e.jsx("img",{src:t,alt:`${u.title} ${a+1}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy",decoding:"async",width:"640",height:"360"})})},a))})]}),S.length>0&&e.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8","data-video-section":!0,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(me,{})," 프로젝트 동영상"]}),S.length>1&&e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[b+1," / ",S.length]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative group",children:[(()=>{var t;const a=S[b];return a?e.jsxs("div",{children:[(r=a,r.includes("youtube.com")||r.includes("youtu.be")?e.jsxs("div",{className:"relative w-full rounded-lg overflow-hidden shadow-lg bg-gray-100 dark:bg-gray-700",children:[e.jsx("div",{className:"aspect-video",children:e.jsx("iframe",{src:C(a),title:`${u.title} 동영상 ${b+1}`,className:"w-full h-full",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})}),e.jsx("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:e.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:"YouTube에서 보기"})})]}):e.jsxs("div",{className:"relative w-full rounded-lg overflow-hidden shadow-lg bg-gray-100 dark:bg-gray-700",children:[e.jsx("div",{className:"aspect-video",children:e.jsxs("video",{src:a,controls:!0,className:"w-full h-full object-cover",preload:"metadata",children:[e.jsx("source",{src:a,type:"video/mp4"}),e.jsx("source",{src:a,type:"video/webm"}),e.jsx("source",{src:a,type:"video/ogg"}),"브라우저가 비디오를 지원하지 않습니다."]})}),e.jsx("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:e.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:"원본 보기"})})]})),(null==(t=u.videoDescriptions)?void 0:t[b])&&e.jsx("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:e.jsx("div",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed prose prose-sm dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:u.videoDescriptions[b]}})})]}):null;var r})(),S.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>k(e=>0===e?S.length-1:e-1),className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all opacity-0 group-hover:opacity-100 z-10","aria-label":"이전 영상",children:e.jsx(ue,{size:20})}),e.jsx("button",{onClick:()=>k(e=>e===S.length-1?0:e+1),className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all opacity-0 group-hover:opacity-100 z-10","aria-label":"다음 영상",children:e.jsx(re,{size:20})})]})]}),S.length>1&&e.jsx("div",{className:"flex justify-center gap-2 mt-4",children:S.map((t,a)=>e.jsx("button",{onClick:()=>k(a),className:"h-2 rounded-full transition-all "+(a===b?"w-8 bg-blue-600 dark:bg-blue-400":"w-2 bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500"),"aria-label":`${a+1}번째 영상 보기`},a))})]})]}),I.length>0&&e.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-gray-800 rounded-2xl shadow-lg px-4 py-8","data-shorts-section":!0,children:[e.jsx("div",{className:"flex justify-center items-center",children:e.jsxs("div",{className:"relative group px-0",style:{maxWidth:"280px",width:"100%"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(me,{})," Shorts"]}),I.length>1&&e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[j+1," / ",I.length]})]}),(()=>{var t,a;const r=I[j];if(!r)return null;const s=(null==(t=u.videos)?void 0:t.indexOf(r))??-1;return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"relative w-full rounded-lg overflow-hidden shadow-lg bg-black",children:[e.jsx("div",{className:"aspect-[9/16] w-full",style:{maxHeight:"600px"},children:e.jsx("iframe",{src:C(r),title:`${u.title} Shorts ${j+1}`,className:"w-full h-full",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})}),e.jsx("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:e.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm font-medium transition-colors flex items-center gap-1 shadow-lg",children:"Shorts"})})]}),(null==(a=u.videoDescriptions)?void 0:a[s])&&e.jsx("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",style:{maxWidth:"600px",margin:"1rem auto 0"},children:e.jsx("div",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed prose prose-sm dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:u.videoDescriptions[s]}})})]})})(),I.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>N(e=>0===e?I.length-1:e-1),className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all opacity-0 group-hover:opacity-100 z-10","aria-label":"이전 쇼츠",children:e.jsx(ue,{size:20})}),e.jsx("button",{onClick:()=>N(e=>e===I.length-1?0:e+1),className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all opacity-0 group-hover:opacity-100 z-10","aria-label":"다음 쇼츠",children:e.jsx(re,{size:20})})]})]})}),I.length>1&&e.jsx("div",{className:"flex justify-center gap-2 mt-4",children:I.map((t,a)=>e.jsx("button",{onClick:()=>N(a),className:"h-2 rounded-full transition-all "+(a===j?"w-8 bg-red-600 dark:bg-red-400":"w-2 bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500"),"aria-label":`${a+1}번째 쇼츠 보기`},a))})]}),u.detailedDescription&&e.jsxs("div",{className:"lg:col-span-4 bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"상세 설명"}),e.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none text-gray-700 dark:text-gray-300",dangerouslySetInnerHTML:{__html:u.detailedDescription}})]}),u.features.length>0&&e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"주요 기능"}),e.jsx("ul",{className:"space-y-3",children:u.features.map((t,a)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 flex items-center justify-center text-sm font-medium mt-0.5",children:a+1}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:t})]},a))})]}),u.learnings.length>0&&e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"배운 점"}),e.jsx("ul",{className:"space-y-3",children:u.learnings.map((t,a)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-2 h-2 rounded-full bg-primary-600 dark:bg-primary-400 mt-2"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:t})]},a))})]})]})]}),p&&e.jsxs(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:()=>y(null),children:[e.jsx("button",{onClick:()=>y(null),className:"absolute top-4 right-4 text-white hover:text-gray-300 text-3xl",children:"×"}),e.jsx("img",{src:p,alt:"확대 이미지",className:"max-w-full max-h-full object-contain",loading:"eager",decoding:"async"})]})]})}},Symbol.toStringTag,{value:"Module"})),Zt={FaCoffee:T,FaGraduationCap:pe,FaChartLine:ye,FaBriefcase:m,FaCode:f,FaCog:D,FaRobot:be,FaCar:ke,FaShieldAlt:je,FaLaptopCode:h},ea=({exp:t,variants:r,isLast:s=!1})=>{const[l,i]=a.useState(!1),{skillCategories:n}=ze(),{t:o,i18n:c}=d(),x=c.language,g=t.iconKey&&Zt[t.iconKey]?Zt[t.iconKey]:m,u=a.useMemo(()=>{if(!t.skillIds||!n)return[];return n.flatMap(e=>e.skills||[]).filter(e=>{const a=e._id;return a&&t.skillIds.some(e=>("string"==typeof e?e:null==e?void 0:e._id)===a)})},[t.skillIds,n]),h=t.description?t.description.split("\n").filter(e=>""!==e.trim()):[],p=t.color||"#8B4513",y=t.bgColor||"#F5DEB3";return e.jsxs("div",{className:"relative flex items-start gap-6",children:[!s&&e.jsx("div",{className:"absolute left-8 top-20 bottom-0 w-0.5 bg-gradient-to-b from-primary-300 to-primary-100 dark:from-primary-700 dark:to-primary-900"}),e.jsx("div",{className:"relative z-10 flex-shrink-0",children:e.jsx(Ze.div,{variants:r,className:"w-16 h-16 rounded-full flex items-center justify-center shadow-lg ring-4 ring-white dark:ring-gray-800",style:{backgroundColor:y},whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:300},children:e.jsx(g,{size:28,style:{color:p}})})}),e.jsx(Ze.div,{variants:r,className:"flex-1 mb-12",children:e.jsxs("div",{className:"card p-6 hover:shadow-xl transition-all duration-300",children:[e.jsx("button",{onClick:()=>i(!l),className:"w-full text-left",children:e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400 font-semibold mb-1",children:_t(x,t.company,t.companyEn,t.companyJa)}),e.jsxs("h3",{className:"text-2xl font-bold text-dark-900 dark:text-white mb-2 flex items-center gap-2",children:[_t(x,t.title,t.titleEn,t.titleJa),e.jsx("span",{className:"text-sm",children:l?e.jsx(q,{className:"text-primary-600 dark:text-primary-400"}):e.jsx(re,{className:"text-gray-400"})})]}),e.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 rounded-full text-sm font-medium",children:["📅 ",t.period]})]})})}),l&&e.jsx(Ze.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mb-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:t.details&&t.details.length>0?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.details.map((t,a)=>e.jsxs(Ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-850 rounded-lg p-5 border-2 border-gray-200 dark:border-gray-700 hover:border-primary-400 dark:hover:border-primary-600 transition-all hover:shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:p}}),e.jsx("h4",{className:"text-base font-bold text-dark-900 dark:text-white",children:_t(x,t.category,t.categoryEn,t.categoryJa)})]}),e.jsx("ul",{className:"space-y-2.5",children:Lt(x,t.items,t.itemsEn,t.itemsJa).map((t,r)=>e.jsxs(Ze.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*a+.03*r},className:"flex items-start gap-2 text-sm text-dark-700 dark:text-dark-300",children:[e.jsx(he,{style:{color:p},className:"mt-0.5 flex-shrink-0 text-xs"}),e.jsx("span",{className:"flex-1 leading-relaxed",children:t})]},r))})]},a))}):h.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("h4",{className:"text-sm font-semibold text-dark-900 dark:text-white mb-3 flex items-center gap-2",children:[e.jsx(he,{style:{color:p},size:14}),o("experience.keyPoints")]}),e.jsx("ul",{className:"space-y-2.5 pl-1",children:h.map((t,a)=>e.jsxs("li",{className:"flex items-start gap-3 text-dark-600 dark:text-dark-300",children:[e.jsx("span",{className:"flex-shrink-0 w-1.5 h-1.5 rounded-full mt-2",style:{backgroundColor:p}}),e.jsx("span",{className:"flex-1",children:t})]},a))})]})}),u.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:u.map(t=>e.jsx(v,{to:`/projects?skillId=${t._id}`,className:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium transition-all hover:opacity-80 hover:ring-2",style:{backgroundColor:`${t.color}26`,color:t.color,"--tw-ring-color":t.color||"#3B82F6"},title:`${t.name} ${o("experience.viewProjects")}`,children:t.name},t._id))}),!u.length&&t.skills&&t.skills.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:Lt(x,t.skills,t.skillsEn,t.skillsJa).map((t,a)=>e.jsx("span",{className:"px-3 py-1.5 bg-secondary-100 dark:bg-secondary-900/50 text-secondary-700 dark:text-secondary-300 rounded-lg text-sm font-medium hover:bg-secondary-200 dark:hover:bg-secondary-800/50 transition-colors",children:t},`${t}-${a}`))})]})})]})},ta=({data:t,onSave:r,onCancel:s,isSaving:l=!1,availableCategories:i=["PLC","데이터분석","로봇공학","IoT","기타"]})=>{const[n,d]=a.useState("ko"),{skillCategories:o,loading:c}=ze(),{data:x=[],isLoading:g}=Qe(),m=(null==t?void 0:t.readDate)&&!isNaN(new Date(t.readDate).getTime())?new Date(t.readDate).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0],u=(null==t?void 0:t.categoryIds)?t.categoryIds.map(e=>"string"==typeof e?e:e._id).filter(Boolean):[],h=(null==t?void 0:t.skillIds)?t.skillIds.map(e=>"string"==typeof e?e:e._id).filter(Boolean):[],[p,y]=a.useState(t?{title:t.title,titleEn:t.titleEn||"",titleJa:t.titleJa||"",author:t.author,authorEn:t.authorEn||"",authorJa:t.authorJa||"",category:t.category,categoryIds:u,coverImage:t.coverImage||"",readDate:m,rating:t.rating,skillIds:h}:{title:"",titleEn:"",titleJa:"",author:"",authorEn:"",authorJa:"",category:i[0]||"PLC",categoryIds:[],coverImage:"",readDate:m,rating:5,skillIds:[]}),b=e=>{const t=p.categoryIds||[],a=t.includes(e)?t.filter(t=>t!==e):[...t,e];y({...p,categoryIds:a})},j=e=>{const t=(e.skills||[]).map(e=>e._id).filter(Boolean),a=p.skillIds||[];let r;if(t.every(e=>a.includes(e)))r=a.filter(e=>!t.includes(e));else{const e=new Set([...a,...t]);r=Array.from(e)}y({...p,skillIds:r})},f=""!==p.title.trim()&&""!==p.author.trim()&&""!==p.category.trim();return e.jsxs("form",{onSubmit:e=>{if(e.preventDefault(),!f)return void alert("필수 필드(제목, 저자, 카테고리)를 모두 입력해주세요.");const t=Array.from(new Set((p.skillIds||[]).map(e=>"string"==typeof e?e:null==e?void 0:e._id).filter(Boolean))),a=Array.from(new Set((p.categoryIds||[]).map(e=>"string"==typeof e?e:null==e?void 0:e._id).filter(Boolean))),{title:s,titleEn:l,titleJa:i,author:n,authorEn:d,authorJa:o,category:c,coverImage:x,readDate:g,rating:m}=p;r({title:s,titleEn:l,titleJa:i,author:n,authorEn:d,authorJa:o,category:c,coverImage:x||"",readDate:g,rating:m,skillIds:t,categoryIds:a})},className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:t?"서적 수정":"서적 추가"}),e.jsx(Gt,{activeLanguage:n,onChange:d}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["제목 ","ko"===n&&e.jsx("span",{className:"text-red-500",children:"*"}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(","ko"===n?"🇰🇷 한국어":"en"===n?"🇺🇸 English":"🇯🇵 日本語",")"]})]}),"ko"===n&&e.jsx("input",{type:"text",value:p.title,onChange:e=>y({...p,title:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"서적 제목"}),"en"===n&&e.jsx("input",{type:"text",value:p.titleEn||"",onChange:e=>y({...p,titleEn:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Book title"}),"ja"===n&&e.jsx("input",{type:"text",value:p.titleJa||"",onChange:e=>y({...p,titleJa:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"本のタイトル"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["저자 ","ko"===n&&e.jsx("span",{className:"text-red-500",children:"*"}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(","ko"===n?"🇰🇷 한국어":"en"===n?"🇺🇸 English":"🇯🇵 日本語",")"]})]}),"ko"===n&&e.jsx("input",{type:"text",value:p.author,onChange:e=>y({...p,author:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"저자 이름"}),"en"===n&&e.jsx("input",{type:"text",value:p.authorEn||"",onChange:e=>y({...p,authorEn:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Author name"}),"ja"===n&&e.jsx("input",{type:"text",value:p.authorJa||"",onChange:e=>y({...p,authorJa:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"著者名"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"카테고리 선택 📂 (다중 선택 가능)"}),p.categoryIds&&p.categoryIds.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:p.categoryIds.map(t=>{const a=x.find(e=>e._id===t);return a?e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded-full text-sm",children:[a.name,e.jsx("button",{type:"button",onClick:()=>b(t),className:"hover:bg-blue-700 rounded-full p-0.5",children:e.jsx(k,{className:"text-xs"})})]},t):null})}),g?e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"카테고리 로딩 중..."}):x.length>0?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:x.map(t=>{const a=(p.categoryIds||[]).includes(t._id);return e.jsxs("label",{className:"flex items-center gap-2 p-3 border-2 rounded-lg cursor-pointer transition-all "+(a?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:[e.jsx("input",{type:"checkbox",checked:a,onChange:()=>b(t._id),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.name})]},t._id)})}):e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:'등록된 카테고리가 없습니다. 관리자 메뉴의 "카테고리 관리"에서 추가하세요.'})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"평점"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(t=>e.jsx("button",{type:"button",onClick:()=>y({...p,rating:t}),className:"text-2xl transition-colors "+(t<=p.rating?"text-yellow-500 hover:text-yellow-600":"text-gray-300 hover:text-gray-400"),children:e.jsx(se,{})},t))}),e.jsx("input",{type:"number",min:"1",max:"5",step:"0.5",value:p.rating,onChange:e=>{const t=e.target.value,a=""===t?0:parseFloat(t);y({...p,rating:isNaN(a)?p.rating:Math.max(1,Math.min(5,a))})},className:"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"읽은 날짜"}),e.jsx("input",{type:"date",value:p.readDate,onChange:e=>y({...p,readDate:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"표지 이미지 URL"}),e.jsx("input",{type:"text",value:p.coverImage,onChange:e=>y({...p,coverImage:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://..."})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"이 서적에서 다루는 핵심 스킬 🔗"}),p.skillIds&&p.skillIds.length>0&&e.jsxs("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:["✓ ",p.skillIds.length,"개 선택됨"]})]}),c?e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 py-2",children:"스킬 목록을 불러오는 중입니다..."}):0===o.length?e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 py-4 text-center border border-gray-300 dark:border-gray-600 rounded-lg",children:"등록된 스킬이 없습니다. 먼저 스킬을 추가해주세요."}):e.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-800 max-h-[400px] overflow-y-auto",children:o.map(t=>{const a=(t.skills||[]).map(e=>e._id).filter(Boolean),r=p.skillIds||[],s=a.filter(e=>r.includes(e)).length,l=a.length>0&&s===a.length,i=s>0&&s<a.length;return e.jsxs("div",{className:"mb-4 last:mb-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 pb-2 border-b border-gray-300 dark:border-gray-600 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded",onClick:()=>j(t),children:[e.jsx("input",{type:"checkbox",checked:l,ref:e=>{e&&(e.indeterminate=i)},onChange:()=>j(t),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",onClick:e=>e.stopPropagation()}),e.jsxs("label",{className:"font-semibold text-gray-900 dark:text-white flex-1 cursor-pointer",style:{color:t.color||"#3B82F6"},children:[t.title,s>0&&e.jsxs("span",{className:"ml-2 text-xs font-normal text-gray-500 dark:text-gray-400",children:["(",s,"/",a.length,")"]})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 pl-6",children:(t.skills||[]).map(t=>{const a=(p.skillIds||[]).includes(t._id);return e.jsxs("label",{className:"flex items-center gap-2 p-2 rounded cursor-pointer transition-colors "+(a?"bg-blue-50 dark:bg-blue-900/20 border border-blue-300 dark:border-blue-700":"hover:bg-gray-100 dark:hover:bg-gray-700 border border-transparent"),children:[e.jsx("input",{type:"checkbox",checked:a,onChange:()=>(e=>{const t=p.skillIds||[],a=t.includes(e)?t.filter(t=>t!==e):[...t,e];y({...p,skillIds:a})})(t._id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm "+(a?"font-semibold text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300"),children:t.name})]},t._id)})})]},t._id)})}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"💡 이 서적에서 주요하게 다루는 스킬을 선택하세요. 개별 학습 내용에서도 추가로 스킬을 연결할 수 있습니다."})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"submit",disabled:l||!f,className:"flex-1 flex items-center justify-center gap-2 bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 rounded-lg transition-colors "+(l||!f?"opacity-50 cursor-not-allowed":""),children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"저장 중..."]}):e.jsxs(e.Fragment,{children:[e.jsx(oe,{})," 저장"]})}),e.jsx("button",{type:"button",onClick:s,className:"flex-1 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white font-medium py-2 rounded-lg transition-colors",children:"취소"})]})]})},aa=({chapter:t,onSave:r,onCancel:s,maxOrder:l=0})=>{const[i,n]=a.useState(""),[d,o]=a.useState(0),[c,x]=a.useState(!1);a.useEffect(()=>{t?(n(t.title),o(t.order)):(n(""),o(l))},[t,l]);return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t?"목차 수정":"목차 추가"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(k,{className:"text-gray-500 dark:text-gray-400"})})]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),i.trim())try{x(!0),await r({title:i.trim(),order:d})}catch(t){}finally{x(!1)}else alert("목차 제목을 입력해주세요.")},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"목차 제목"}),e.jsx("input",{type:"text",id:"title",value:i,onChange:e=>n(e.target.value),placeholder:"목차 제목을 입력하세요",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"order",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"순서"}),e.jsx("input",{type:"number",id:"order",value:d,onChange:e=>o(parseInt(e.target.value)||0),min:"0",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs("button",{type:"submit",disabled:c||!i.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:[e.jsx(oe,{}),c?"저장 중...":t?"수정":"추가"]}),e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"취소"})]})]})]})},ra=({learning:t,onSave:r,onCancel:s})=>{const[l,i]=a.useState(""),[n,d]=a.useState(""),[o,c]=a.useState(!1);a.useEffect(()=>{t?(i(t.topic),d(t.content)):(i(""),d(""))},[t]);const x=e=>{const t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""};return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t?"학습 내용 수정":"학습 내용 추가"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(k,{className:"text-gray-500 dark:text-gray-400"})})]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!l.trim())return void alert("학습 주제를 입력해주세요.");if(x(n).trim())try{c(!0),await r({topic:l.trim(),content:n.trim()})}catch(t){}finally{c(!1)}else alert("학습 내용을 입력해주세요.")},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"topic",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"학습 주제"}),e.jsx("input",{type:"text",id:"topic",value:l,onChange:e=>i(e.target.value),placeholder:"학습 주제를 입력하세요",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["학습 내용",e.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(마크다운 문법 지원: **굵게**, *기울임*, # 제목, - 목록)"})]}),e.jsx("div",{className:"rich-text-editor-container",children:e.jsx(fe,{theme:"snow",value:n,onChange:e=>{d(e)},placeholder:"학습 내용을 입력하세요. 마크다운 문법을 사용할 수 있습니다.",modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["blockquote","code-block"],[{color:[]},{background:[]}],["link","image"],["clean"]]},formats:["header","bold","italic","underline","strike","list","bullet","indent","blockquote","code-block","color","background","link","image"],className:"rich-text-editor"})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs("button",{type:"submit",disabled:o||!l.trim()||!x(n).trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:[e.jsx(oe,{}),o?"저장 중...":t?"수정":"추가"]}),e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"취소"})]})]})]})},sa=({chapters:t,onAddChapter:r,onEditChapter:s,onDeleteChapter:l,onAddLearning:i,onEditLearning:n,onDeleteLearning:d,isAuthenticated:o=!0})=>{const[c,x]=a.useState(new Set(t.map(e=>e._id)));return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between sticky top-0 bg-white dark:bg-gray-800 z-10 pb-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"📚 목차별 학습 내용"}),t.length>0&&e.jsxs("div",{className:"flex gap-2 text-sm",children:[e.jsx("button",{onClick:()=>{x(new Set(t.map(e=>e._id)))},className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 hover:underline",children:"모두 펼치기"}),e.jsx("span",{className:"text-gray-400",children:"|"}),e.jsx("button",{onClick:()=>{x(new Set)},className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 hover:underline",children:"모두 접기"})]})]}),o&&e.jsxs("button",{onClick:r,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 text-sm shadow-md",children:[e.jsx(ae,{}),"목차 추가"]})]}),t.length>0?e.jsx("div",{className:"space-y-3",children:t.sort((e,t)=>e.order-t.order).map(t=>{var a;const r=c.has(t._id),g=(null==(a=t.learnings)?void 0:a.length)||0;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border-2 border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden transition-all hover:shadow-md",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-700 dark:to-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("button",{onClick:()=>{return e=t._id,void x(t=>{const a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a});var e},className:"flex items-center gap-3 flex-1 text-left hover:opacity-80 transition-opacity",children:[e.jsx("div",{className:"flex-shrink-0",children:r?e.jsx(q,{className:"text-blue-600 dark:text-blue-400 w-5 h-5"}):e.jsx(re,{className:"text-gray-400 w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/50 px-2 py-0.5 rounded",children:["Chapter ",t.order+1]}),e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-lg truncate",children:t.title})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["📝 ",g,"개의 학습 내용"]})]})]}),o&&e.jsxs("div",{className:"flex gap-2 ml-3 flex-shrink-0",children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),i(t._id)},className:"p-2 text-green-600 hover:bg-green-100 dark:hover:bg-green-900/30 rounded-lg transition-colors",title:"학습 내용 추가",children:e.jsx(ae,{className:"w-4 h-4"})}),e.jsx("button",{onClick:e=>{e.stopPropagation(),s(t)},className:"p-2 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"목차 수정",children:e.jsx(V,{className:"w-4 h-4"})}),e.jsx("button",{onClick:e=>{e.stopPropagation(),confirm(`"${t.title}" 목차를 삭제하시겠습니까?\n관련 학습 내용 ${g}개도 모두 삭제됩니다.`)&&l(t)},className:"p-2 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"목차 삭제",children:e.jsx(K,{className:"w-4 h-4"})})]})]})}),r&&e.jsx("div",{className:"p-5 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700",children:g>0?e.jsx("div",{className:"space-y-4",children:(t.learnings||[]).sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()).map((a,r)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-lg border border-gray-200 dark:border-gray-600 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsxs("span",{className:"flex-shrink-0 text-xs font-bold text-white bg-blue-600 dark:bg-blue-500 px-2 py-1 rounded-full",children:["#",r+1]}),e.jsx("h5",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:a.topic})]}),o&&e.jsxs("div",{className:"flex gap-1 flex-shrink-0 ml-2",children:[e.jsx("button",{onClick:()=>n(a,t._id),className:"p-1.5 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded transition-colors",title:"수정",children:e.jsx(V,{className:"w-3.5 h-3.5"})}),e.jsx("button",{onClick:()=>{confirm(`"${a.topic}" 학습 내용을 삭제하시겠습니까?`)&&d(a,t._id)},className:"p-1.5 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors",title:"삭제",children:e.jsx(K,{className:"w-3.5 h-3.5"})})]})]}),e.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert text-gray-700 dark:text-gray-300\r\n                                  prose-headings:text-gray-900 dark:prose-headings:text-white\r\n                                  prose-p:text-gray-700 dark:prose-p:text-gray-300\r\n                                  prose-code:bg-gray-200 dark:prose-code:bg-gray-700 prose-code:text-red-600 dark:prose-code:text-red-400 prose-code:px-1 prose-code:rounded\r\n                                  prose-pre:bg-gray-900 dark:prose-pre:bg-gray-950 prose-pre:text-gray-100\r\n                                  prose-a:text-blue-600 dark:prose-a:text-blue-400",dangerouslySetInnerHTML:{__html:a.content}}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{children:["📅 작성일: ",Ee(a.createdAt)]}),a.updatedAt&&a.updatedAt!==a.createdAt&&e.jsxs("span",{children:["✏️ 수정일: ",Ee(a.updatedAt)]})]})]},a._id))}):e.jsxs("div",{className:"text-center py-10 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-600",children:[e.jsx(p,{className:"mx-auto text-3xl mb-3 text-gray-400 opacity-50"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-3",children:"이 목차에 아직 학습 내용이 없습니다."}),o&&e.jsxs("button",{onClick:()=>i(t._id),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[e.jsx(ae,{}),"첫 번째 학습 내용 추가하기"]})]})})]},t._id)})}):e.jsxs("div",{className:"text-center py-16 bg-gray-50 dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600",children:[e.jsx(p,{className:"mx-auto text-5xl mb-4 text-gray-400"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-2 font-medium",children:"아직 목차가 없습니다."}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mb-6",children:"먼저 목차를 추가하고, 각 목차에 학습 내용을 기록하세요."}),o&&e.jsxs("button",{onClick:r,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors inline-flex items-center gap-2 shadow-md",children:[e.jsx(ae,{}),"첫 번째 목차 추가하기"]})]})]})},la=({toast:t,onClose:a})=>e.jsxs(Ze.div,{initial:{opacity:0,y:-50,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.2},className:`\n        relative flex items-start gap-3 p-4 rounded-lg border shadow-lg\n        ${(()=>{switch(t.type){case"success":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800";case"error":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800";case"warning":return"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800";case"info":return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800";default:return"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800"}})()}\n        max-w-md w-full\n      `,children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:(()=>{switch(t.type){case"success":return e.jsx(we,{className:"text-green-500"});case"error":return e.jsx(Ne,{className:"text-red-500"});case"warning":return e.jsx(Ne,{className:"text-yellow-500"});default:return e.jsx(ve,{className:"text-blue-500"})}})()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.title}),t.message&&e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-300",children:t.message})]}),e.jsx("button",{onClick:()=>a(t.id),className:"flex-shrink-0 p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(k,{className:"w-3 h-3 text-gray-400"})})]}),ia=({toasts:t,onClose:a})=>e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:e.jsx(et,{children:t.map(t=>e.jsx(la,{toast:t,onClose:a},t.id))})}),na=({data:t,onSave:r,onCancel:s,isSaving:l=!1,availableCategories:i=["PLC","데이터분석","로봇공학","IoT","기타"]})=>{const{skillCategories:n,loading:d}=ze(),{data:o=[],isLoading:c}=Qe(),x=(null==t?void 0:t.watchDate)&&!isNaN(new Date(t.watchDate).getTime())?new Date(t.watchDate).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0],[g,m]=a.useState(()=>(null==t?void 0:t.videoId)?`https://www.youtube.com/watch?v=${t.videoId}`:(null==t?void 0:t.videoUrl)?t.videoUrl:""),u=(null==t?void 0:t.skillIds)?t.skillIds.map(e=>"string"==typeof e?e:e._id).filter(Boolean):[],h=(null==t?void 0:t.categoryIds)?t.categoryIds.map(e=>"string"==typeof e?e:e._id).filter(Boolean):[],[p,y]=a.useState(t?{title:t.title,category:t.category,categoryIds:h,watchDate:x,rating:t.rating||3,purpose:t.purpose||"",keyTakeaways:t.keyTakeaways||"",application:t.application||"",skillIds:u,order:t.order||0}:{title:"",category:i[0]||"PLC",categoryIds:[],watchDate:x,rating:3,purpose:"",keyTakeaways:"",application:"",skillIds:[],order:0}),b=a.useMemo(()=>_e(g),[g]),j=a.useMemo(()=>b?Je(b):null,[b]),f=a.useMemo(()=>null!==b,[b]),v=e=>{const t=p.categoryIds||[],a=t.includes(e)?t.filter(t=>t!==e):[...t,e];y({...p,categoryIds:a})},N=p.title.trim()&&g.trim()&&f;return e.jsxs("form",{onSubmit:e=>{if(e.preventDefault(),!p.title.trim()||!g.trim())return void alert("필수 필드(제목, 영상 URL)를 모두 입력해주세요.");if(!f||!b)return void alert("❌ 올바른 유튜브 URL을 입력해주세요.");const{title:t,category:a,watchDate:s,rating:l,purpose:i,keyTakeaways:n,application:d,skillIds:o,order:c}=p;r({title:t,videoId:b,category:a,watchDate:s,...void 0!==l&&{rating:l},...i&&{purpose:i},...n&&{keyTakeaways:n},...d&&{application:d},skillIds:o||[],order:c||0})},className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["제목 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:p.title,onChange:e=>y({...p,title:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"영상 제목을 입력하세요",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["영상 URL ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:g,onChange:e=>m(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white "+(g&&!f?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"https://www.youtube.com/watch?v=...",required:!0}),g&&!f&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"올바른 유튜브 URL을 입력해주세요"}),b&&e.jsxs("p",{className:"text-green-600 text-sm mt-1",children:["✅ 영상 ID: ",e.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:b})]}),j&&f&&e.jsxs("div",{className:"mt-3",children:[e.jsx("img",{src:j,alt:"영상 썸네일",className:"w-full max-w-md rounded-lg shadow-md",onError:e=>{const t=e.target;t.src.includes("maxresdefault")&&(t.src=Je(b,"hqdefault"))}}),e.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 mt-2",children:"✓ 유효한 유튜브 URL"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"카테고리 선택 📂 (다중 선택 가능)"}),p.categoryIds&&p.categoryIds.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:p.categoryIds.map(t=>{const a=o.find(e=>e._id===t);return a?e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded-full text-sm",children:[a.name,e.jsx("button",{type:"button",onClick:()=>v(t),className:"hover:bg-blue-700 rounded-full p-0.5",children:e.jsx(k,{className:"text-xs"})})]},t):null})}),c?e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"카테고리 로딩 중..."}):o.length>0?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:o.map(t=>{const a=(p.categoryIds||[]).includes(t._id);return e.jsxs("label",{className:"flex items-center gap-2 p-3 border-2 rounded-lg cursor-pointer transition-all "+(a?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:[e.jsx("input",{type:"checkbox",checked:a,onChange:()=>v(t._id),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.name})]},t._id)})}):e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:'등록된 카테고리가 없습니다. 관리자 메뉴의 "카테고리 관리"에서 추가하세요.'})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"시청 날짜"}),e.jsx("input",{type:"date",value:p.watchDate,onChange:e=>y({...p,watchDate:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"이해도 평점"}),e.jsxs("div",{className:"flex items-center gap-2",children:[Array.from({length:5},(t,a)=>{const r=a+1;return e.jsx("button",{type:"button",onClick:()=>y({...p,rating:r}),className:"text-3xl transition-colors "+(r<=(p.rating||0)?"text-yellow-500 hover:text-yellow-600":"text-gray-300 dark:text-gray-600 hover:text-gray-400"),children:e.jsx(se,{})},a)}),e.jsxs("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:[p.rating,"/5"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"시청 목적"}),e.jsx("textarea",{value:p.purpose,onChange:e=>y({...p,purpose:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-vertical",rows:3,placeholder:"이 영상을 왜 시청했는지, 어떤 문제를 해결하기 위해서인지 작성하세요..."}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"최대 1000자"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"핵심 배움 (마크다운 지원)"}),e.jsx("textarea",{value:p.keyTakeaways,onChange:e=>y({...p,keyTakeaways:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-vertical font-mono text-sm",rows:8,placeholder:"영상에서 얻은 핵심 지식 3-5가지를 정리하세요...\n\n예시:\n- [2:30] React Query의 staleTime과 cacheTime 차이\n- [5:15] Optimistic Updates 구현 방법\n- [8:45] Query Invalidation 전략"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"최대 5000자 | 타임스탬프 형식: [MM:SS] 또는 [H:MM:SS]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"적용 계획 (마크다운 지원)"}),e.jsx("textarea",{value:p.application,onChange:e=>y({...p,application:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-vertical font-mono text-sm",rows:5,placeholder:"이 지식을 어떻게 활용할 계획인지, 또는 이미 적용한 경험을 작성하세요..."}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"최대 3000자"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"관련 기술 연동 🔗"}),d?e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 py-2",children:"스킬 목록을 불러오는 중입니다..."}):e.jsxs(e.Fragment,{children:[(p.skillIds||[]).length>0&&e.jsx("div",{className:"mb-3 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("span",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium",children:["✓ ",(p.skillIds||[]).length,"개 선택됨"]})}),e.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg p-4 max-h-[400px] overflow-y-auto bg-gray-50 dark:bg-gray-800/50",children:n.map(t=>{const a=t.skills||[],r=a.map(e=>e._id).filter(Boolean),s=r.filter(e=>(p.skillIds||[]).includes(e)),l=r.length>0&&s.length===r.length,i=s.length>0&&!l;return e.jsxs("div",{className:"mb-4 last:mb-0",children:[e.jsxs("div",{onClick:()=>(e=>{const t=(e.skills||[]).map(e=>e._id).filter(Boolean),a=p.skillIds||[];let r;if(t.every(e=>a.includes(e)))r=a.filter(e=>!t.includes(e));else{const e=new Set([...a,...t]);r=Array.from(e)}y({...p,skillIds:r})})(t),className:"flex items-center gap-3 p-3 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors mb-2",children:[e.jsx("input",{type:"checkbox",checked:l,ref:e=>{e&&(e.indeterminate=i)},onChange:()=>{},className:"w-5 h-5 text-primary-600 rounded focus:ring-2 focus:ring-primary-500"}),e.jsxs("label",{className:"font-bold text-base cursor-pointer flex-1",style:{color:t.color||"#3B82F6"},children:[t.title," (",s.length,"/",a.length,")"]})]}),e.jsx("div",{className:"ml-8 space-y-2",children:a.map(t=>{const a=(p.skillIds||[]).includes(t._id);return e.jsxs("div",{onClick:()=>(e=>{const t=p.skillIds||[],a=t.includes(e)?t.filter(t=>t!==e):[...t,e];y({...p,skillIds:a})})(t._id),className:"flex items-center gap-3 p-2 rounded-lg cursor-pointer transition-all "+(a?"bg-blue-100 dark:bg-blue-900/30 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-600"),children:[e.jsx("input",{type:"checkbox",checked:a,onChange:()=>{},className:"w-4 h-4 text-primary-600 rounded focus:ring-2 focus:ring-primary-500"}),e.jsx("label",{className:"cursor-pointer flex-1 text-sm",style:{color:a?t.color:void 0},children:t.name})]},t._id)})})]},t._id)})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"순서 (낮을수록 먼저 표시)"}),e.jsx("input",{type:"number",value:p.order,onChange:e=>y({...p,order:parseInt(e.target.value)||0}),className:"w-32 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"0"})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsxs("button",{type:"submit",disabled:l||!N||!f,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",children:[e.jsx(oe,{})," ",l?"저장 중...":"저장"]}),e.jsx("button",{type:"button",onClick:s,className:"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium",children:"취소"})]})]})},da=({data:t,onSave:r,onCancel:s,isSaving:l=!1,availableCategories:i=["PLC","데이터분석","로봇공학","IoT","기타"]})=>{const{skillCategories:n,loading:d}=ze(),{data:o=[],isLoading:c}=Qe(),x=(null==t?void 0:t.watchDate)&&!isNaN(new Date(t.watchDate).getTime())?new Date(t.watchDate).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0],[g,m]=a.useState(()=>(null==t?void 0:t.playlistId)?`https://www.youtube.com/playlist?list=${t.playlistId}`:""),u=(null==t?void 0:t.categoryIds)?t.categoryIds.map(e=>"string"==typeof e?e:e._id).filter(Boolean):[],[h,p]=a.useState(t?{title:t.title,category:t.category,categoryIds:u,watchDate:x,rating:t.rating||3,purpose:t.purpose||"",application:t.application||"",skillIds:(t.skillIds||[]).map(e=>"string"==typeof e?e:e._id).filter(Boolean),order:t.order||0}:{title:"",category:i[0]||"PLC",categoryIds:[],watchDate:x,rating:3,purpose:"",application:"",skillIds:[],order:0}),y=a.useMemo(()=>Te(g),[g]);a.useMemo(()=>y?De():null,[y]);const b=a.useMemo(()=>null!==y,[y]),j=e=>{const t=h.categoryIds||[],a=t.includes(e)?t.filter(t=>t!==e):[...t,e];p({...h,categoryIds:a})},f=h.title.trim()&&g.trim()&&b;return e.jsxs("form",{onSubmit:e=>{if(e.preventDefault(),!h.title.trim()||!g.trim())return void alert("필수 필드(제목, 재생 목록 URL)를 모두 입력해주세요.");if(!b||!y)return void alert("❌ 올바른 유튜브 재생 목록 URL을 입력해주세요.");const{title:t,category:a,categoryIds:s,watchDate:l,rating:i,purpose:n,application:d,skillIds:o,order:c}=h,x={title:t,playlistId:y,category:a,categoryIds:s||[],watchDate:l,...void 0!==i&&{rating:i},...n&&{purpose:n},...d&&{application:d},skillIds:o||[],order:c||0};r(x)},className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["제목 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:h.title,onChange:e=>p({...h,title:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"재생 목록 제목을 입력하세요",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["재생 목록 URL ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:g,onChange:e=>m(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white "+(g&&!b?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"https://www.youtube.com/playlist?list=...",required:!0}),g&&!b&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"올바른 유튜브 재생 목록 URL을 입력해주세요"}),y&&e.jsxs("p",{className:"text-green-600 text-sm mt-1",children:["✅ 재생 목록 ID: ",e.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:y})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"카테고리 선택 📂 (다중 선택 가능)"}),h.categoryIds&&h.categoryIds.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:h.categoryIds.map(t=>{const a=o.find(e=>e._id===t);return a?e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded-full text-sm",children:[a.name,e.jsx("button",{type:"button",onClick:()=>j(t),className:"hover:bg-blue-700 rounded-full p-0.5",children:e.jsx(k,{className:"text-xs"})})]},t):null})}),c?e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"카테고리 로딩 중..."}):o.length>0?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:o.map(t=>{const a=(h.categoryIds||[]).includes(t._id);return e.jsxs("label",{className:"flex items-center gap-2 p-3 border-2 rounded-lg cursor-pointer transition-all "+(a?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:[e.jsx("input",{type:"checkbox",checked:a,onChange:()=>j(t._id),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.name})]},t._id)})}):e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:'등록된 카테고리가 없습니다. 관리자 메뉴의 "카테고리 관리"에서 추가하세요.'})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"시청 날짜"}),e.jsx("input",{type:"date",value:h.watchDate,onChange:e=>p({...h,watchDate:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"평점"}),e.jsxs("div",{className:"flex items-center gap-2",children:[Array.from({length:5},(t,a)=>{const r=a+1;return e.jsx("button",{type:"button",onClick:()=>p({...h,rating:r}),className:"text-3xl transition-colors "+(r<=(h.rating||0)?"text-yellow-500 hover:text-yellow-600":"text-gray-300 dark:text-gray-600 hover:text-gray-400"),children:e.jsx(se,{})},a)}),e.jsxs("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:[h.rating,"/5"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"시청 목적"}),e.jsx("textarea",{value:h.purpose,onChange:e=>p({...h,purpose:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-vertical",rows:3,placeholder:"이 재생 목록을 왜 시청했는지 작성하세요..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"통합 적용 계획 (마크다운 지원)"}),e.jsx("textarea",{value:h.application,onChange:e=>p({...h,application:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-vertical font-mono text-sm",rows:5,placeholder:"이 지식을 어떻게 활용할 계획인지 작성하세요..."})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"관련 기술 연동 🔗"}),d?e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 py-2",children:"스킬 목록을 불러오는 중입니다..."}):e.jsxs(e.Fragment,{children:[(h.skillIds||[]).length>0&&e.jsx("div",{className:"mb-3 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("span",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium",children:["✓ ",(h.skillIds||[]).length,"개 선택됨"]})}),e.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg p-4 max-h-[300px] overflow-y-auto bg-gray-50 dark:bg-gray-800/50",children:n.map(t=>e.jsxs("div",{className:"mb-3 last:mb-0",children:[e.jsx("label",{className:"font-bold text-sm block mb-2",style:{color:t.color||"#3B82F6"},children:t.title}),e.jsx("div",{className:"ml-4 space-y-1",children:(t.skills||[]).map(t=>{const a=(h.skillIds||[]).includes(t._id);return e.jsxs("div",{onClick:()=>(e=>{const t=h.skillIds||[],a=t.includes(e)?t.filter(t=>t!==e):[...t,e];p({...h,skillIds:a})})(t._id),className:"flex items-center gap-2 p-2 rounded cursor-pointer transition-all "+(a?"bg-blue-100 dark:bg-blue-900/30 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-600"),children:[e.jsx("input",{type:"checkbox",checked:a,onChange:()=>{},className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:t.name})]},t._id)})})]},t._id))})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsxs("button",{type:"submit",disabled:l||!f||!b,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",children:[e.jsx(oe,{})," ",l?"저장 중...":"저장"]}),e.jsx("button",{type:"button",onClick:s,className:"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium",children:"취소"})]})]})},oa=({playlistId:t,data:r,onSave:s,onCancel:l,isSaving:i=!1})=>{const[n,d]=a.useState(()=>(null==r?void 0:r.videoId)?`https://www.youtube.com/watch?v=${r.videoId}`:""),[o,c]=a.useState(r?{title:r.title,keyTakeaways:r.keyTakeaways||"",order:r.order||0}:{title:"",keyTakeaways:"",order:0}),x=a.useMemo(()=>_e(n),[n]),g=a.useMemo(()=>x?Je(x):null,[x]),m=a.useMemo(()=>null!==x,[x]),u=o.title.trim()&&n.trim()&&m;return e.jsxs("form",{onSubmit:e=>{e.preventDefault(),o.title.trim()&&n.trim()?m&&x?s({playlistId:t,videoId:x,title:o.title,keyTakeaways:o.keyTakeaways||"",order:o.order||0}):alert("❌ 올바른 유튜브 영상 URL을 입력해주세요."):alert("필수 필드(제목, 영상 URL)를 모두 입력해주세요.")},className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["영상 URL ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:n,onChange:e=>d(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white "+(n&&!m?"border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"https://www.youtube.com/watch?v=...",required:!0}),n&&!m&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"올바른 유튜브 URL을 입력해주세요"}),x&&e.jsxs("p",{className:"text-green-600 text-sm mt-1",children:["✅ 영상 ID: ",e.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:x})]}),g&&m&&e.jsx("div",{className:"mt-3",children:e.jsx("img",{src:g,alt:"영상 썸네일",className:"w-full max-w-xs rounded-lg shadow-md"})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["영상 제목 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:o.title,onChange:e=>c({...o,title:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"영상 제목을 입력하세요",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"핵심 배움 (마크다운 지원)"}),e.jsx("textarea",{value:o.keyTakeaways,onChange:e=>c({...o,keyTakeaways:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-vertical font-mono text-sm",rows:6,placeholder:"예시:\n- [2:30] React Query의 staleTime 이해\n- [5:15] 캐시 무효화 전략\n- [8:45] Optimistic Updates"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"타임스탬프 형식: [MM:SS] 또는 [H:MM:SS]"})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsxs("button",{type:"submit",disabled:i||!u,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",children:[e.jsx(oe,{})," ",i?"저장 중...":"저장"]}),e.jsx("button",{type:"button",onClick:l,className:"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium",children:"취소"})]})]})},ca=[{key:"FaBriefcase",icon:m,label:"💼 일반 업무"},{key:"FaCoffee",icon:T,label:"☕ 서비스/카페"},{key:"FaGraduationCap",icon:pe,label:"🎓 교육/학습"},{key:"FaChartLine",icon:ye,label:"📈 성장/분석"},{key:"FaLaptopCode",icon:h,label:"💻 프로그래밍"},{key:"FaCode",icon:f,label:"⌨️ 개발/코딩"},{key:"FaCog",icon:D,label:"⚙️ 기술/엔지니어링"},{key:"FaRobot",icon:be,label:"🤖 자동화/AI"},{key:"FaCar",icon:ke,label:"🚗 자동차/운전"},{key:"FaShieldAlt",icon:je,label:"🛡️ 군대/보안"}],xa=({detail:t,index:a,editingCategoryIndex:r,onEdit:s,onRemove:l})=>{const{attributes:i,listeners:n,setNodeRef:d,transform:o,transition:c,isDragging:x}=Nt({id:a}),g={transform:wt.Transform.toString(o),transition:c,opacity:x?.5:1,zIndex:x?1e3:"auto"};return e.jsxs("div",{ref:d,style:g,className:"bg-white dark:bg-gray-800 p-4 rounded-lg border-2 border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-600 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{...i,...n,className:"cursor-grab active:cursor-grabbing text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1",title:"드래그하여 순서 변경",children:e.jsx(j,{})}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-600"}),e.jsx("h5",{className:"font-bold text-gray-900 dark:text-white",children:t.category}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",t.items.length,"개 항목)"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>s(a),disabled:null!==r,className:"px-3 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors "+(null!==r?"opacity-50 cursor-not-allowed":""),children:"수정"}),e.jsx("button",{type:"button",onClick:()=>l(a),disabled:null!==r,className:"p-1.5 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors "+(null!==r?"opacity-50 cursor-not-allowed":""),title:"카테고리 삭제",children:e.jsx(K,{className:"text-xs"})})]})]}),e.jsxs("ul",{className:"text-sm text-gray-700 dark:text-gray-300 pl-4",children:[t.items.slice(0,3).map((t,a)=>e.jsx("li",{className:"list-disc",children:t},a)),t.items.length>3&&e.jsxs("li",{className:"text-gray-500 dark:text-gray-400 italic",children:["외 ",t.items.length-3,"개 항목..."]})]})]})},ga=({data:t,onSave:r,onCancel:s,isSaving:i=!1})=>{var n;const[d,o]=a.useState("ko"),{skillCategories:c,loading:x}=ze(),g=(null==t?void 0:t.skillIds)?t.skillIds.map(e=>"string"==typeof e?e:null==e?void 0:e._id).filter(Boolean):[],u=t?{...t,iconKey:t.iconKey||"FaBriefcase",details:(t.details||[]).map((e,t)=>({...e,order:e.order??t})),skills:t.skills||[],skillsEn:t.skillsEn||[],skillsJa:t.skillsJa||[],skillIds:g,titleEn:t.titleEn||"",titleJa:t.titleJa||"",companyEn:t.companyEn||"",companyJa:t.companyJa||""}:{period:"",title:"",titleEn:"",titleJa:"",company:"",companyEn:"",companyJa:"",description:"",details:[],skills:[],skillsEn:[],skillsJa:[],skillIds:[],order:0,iconKey:"FaBriefcase"},[h,p]=a.useState(u),[y,b]=a.useState(Array.isArray(h.skills)?h.skills.join(", "):""),[k,j]=a.useState(Array.isArray(h.skillsEn)?h.skillsEn.join(", "):""),[f,v]=a.useState(Array.isArray(h.skillsJa)?h.skillsJa.join(", "):""),[N,w]=a.useState(null),[C,S]=a.useState({category:"",categoryEn:"",categoryJa:"",content:"",contentEn:"",contentJa:""}),E=e=>{const t=(e.skills||[]).map(e=>e._id).filter(Boolean),a=h.skillIds||[];let r;if(t.every(e=>a.includes(e)))r=a.filter(e=>!t.includes(e));else{const e=new Set([...a,...t]);r=Array.from(e)}p({...h,skillIds:r})},I=e=>{var t,a;const r=(h.details||[])[e];r&&(w(e),S({category:r.category,categoryEn:r.categoryEn||"",categoryJa:r.categoryJa||"",content:r.items.join("\n"),contentEn:(null==(t=r.itemsEn)?void 0:t.join("\n"))||"",contentJa:(null==(a=r.itemsJa)?void 0:a.join("\n"))||""}))},F=e=>{if(!confirm("이 카테고리를 삭제하시겠습니까?"))return;const t=[...h.details||[]];t.splice(e,1),p({...h,details:t})},_=""!==h.title.trim()&&""!==h.company.trim()&&""!==h.period.trim();return e.jsxs("form",{onSubmit:e=>{if(e.preventDefault(),!_)return void alert("필수 필드(기간, 직책, 회사/기관)를 모두 입력해주세요.");const t=y.split(",").map(e=>e.trim()).filter(e=>e.length>0),a=k.split(",").map(e=>e.trim()).filter(e=>e.length>0),s=f.split(",").map(e=>e.trim()).filter(e=>e.length>0),l=Array.from(new Set((h.skillIds||[]).map(e=>"string"==typeof e?e:null==e?void 0:e._id).filter(Boolean))),i=(h.details||[]).map((e,t)=>({...e,order:e.order??t})),n={...h,skills:t,skillsEn:a,skillsJa:s,skillIds:l,details:i};r(n)},className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:t?"경력 수정":"경력 추가"}),e.jsx("div",{className:"mb-6",children:e.jsx(Gt,{activeLanguage:d,onChange:o})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"기간"}),e.jsx("input",{type:"text",value:h.period,onChange:e=>p({...h,period:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"2018 - 2023"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["직책 ","ko"===d&&e.jsx("span",{className:"text-red-500",children:"*"}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(","ko"===d?"🇰🇷 한국어":"en"===d?"🇺🇸 English":"🇯🇵 日本語",")"]})]}),"ko"===d&&e.jsx("input",{type:"text",value:h.title,onChange:e=>p({...h,title:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"바리스타"}),"en"===d&&e.jsx("input",{type:"text",value:h.titleEn||"",onChange:e=>p({...h,titleEn:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Barista"}),"ja"===d&&e.jsx("input",{type:"text",value:h.titleJa||"",onChange:e=>p({...h,titleJa:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"バリスタ"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["회사/기관 ","ko"===d&&e.jsx("span",{className:"text-red-500",children:"*"}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(","ko"===d?"🇰🇷 한국어":"en"===d?"🇺🇸 English":"🇯🇵 日本語",")"]})]}),"ko"===d&&e.jsx("input",{type:"text",value:h.company,onChange:e=>p({...h,company:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"스타벅스커피코리아"}),"en"===d&&e.jsx("input",{type:"text",value:h.companyEn||"",onChange:e=>p({...h,companyEn:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Starbucks Coffee Korea"}),"ja"===d&&e.jsx("input",{type:"text",value:h.companyJa||"",onChange:e=>p({...h,companyJa:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"スターバックスコーヒージャパン"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"순서"}),e.jsx("input",{type:"number",value:h.order,onChange:e=>{const t=parseInt(e.target.value);p({...h,order:isNaN(t)?0:t})},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"0",placeholder:"표시 순서 (숫자가 작을수록 먼저 표시)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"아이콘"}),e.jsx("select",{value:h.iconKey||"FaBriefcase",onChange:e=>p({...h,iconKey:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:ca.map(t=>e.jsx("option",{value:t.key,children:t.label},t.key))}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{children:"미리보기:"}),l.createElement((null==(n=ca.find(e=>e.key===(h.iconKey||"FaBriefcase")))?void 0:n.icon)||m,{className:"text-xl"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border-2 border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-bold text-gray-900 dark:text-white",children:"📋 카테고리별 상세 내용"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"근무경험, 교육, 근무매장 등 카테고리별로 구체적인 내용을 정리하세요"})]}),e.jsxs("button",{type:"button",onClick:()=>{w((h.details||[]).length),S({category:"",categoryEn:"",categoryJa:"",content:"",contentEn:"",contentJa:""})},disabled:null!==N,className:"px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2 text-sm "+(null!==N?"opacity-50 cursor-not-allowed":""),children:[e.jsx(ae,{className:"text-xs"}),"카테고리 추가"]})]}),h.details&&h.details.length>0&&e.jsx(kt,{collisionDetection:jt,onDragEnd:e=>{const{active:t,over:a}=e;if(!a||t.id===a.id)return;const r=(h.details||[]).findIndex((e,a)=>a===t.id),s=(h.details||[]).findIndex((e,t)=>t===a.id);if(-1===r||-1===s)return;const l=[...h.details||[]],[i]=l.splice(r,1);if(!i)return;l.splice(s,0,i);const n=l.map((e,t)=>({...e,order:t}));p({...h,details:n})},children:e.jsx(ft,{items:h.details.map((e,t)=>t),strategy:vt,children:e.jsx("div",{className:"space-y-3 mb-4",children:h.details.map((t,a)=>e.jsx(xa,{detail:t,index:a,editingCategoryIndex:N,onEdit:I,onRemove:F},a))})})}),null!==N&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-lg border-2 border-blue-400 dark:border-blue-600 shadow-lg",children:[e.jsx("h5",{className:"font-bold text-gray-900 dark:text-white mb-4",children:N<(h.details||[]).length?"카테고리 수정":"카테고리 추가"}),e.jsx("div",{className:"mb-4",children:e.jsx(Gt,{activeLanguage:d,onChange:o})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["카테고리 이름 ","ko"===d&&e.jsx("span",{className:"text-red-500",children:"*"}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(","ko"===d?"🇰🇷 한국어":"en"===d?"🇺🇸 English":"🇯🇵 日本語",")"]})]}),"ko"===d&&e.jsx("input",{type:"text",value:C.category,onChange:e=>S({...C,category:e.target.value}),placeholder:"예: 근무경험, 교육, 근무매장",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-semibold"}),"en"===d&&e.jsx("input",{type:"text",value:C.categoryEn,onChange:e=>S({...C,categoryEn:e.target.value}),placeholder:"e.g., Work Experience, Education, Store",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-semibold"}),"ja"===d&&e.jsx("input",{type:"text",value:C.categoryJa,onChange:e=>S({...C,categoryJa:e.target.value}),placeholder:"例: 職務経験、教育、店舗",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-semibold"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["카테고리 내용 ","ko"===d&&e.jsx("span",{className:"text-red-500",children:"*"}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(","ko"===d?"🇰🇷 한국어":"en"===d?"🇺🇸 English":"🇯🇵 日本語",")"]})]}),"ko"===d&&e.jsxs(e.Fragment,{children:[e.jsx(Ut,{value:C.content,onChange:e=>S({...C,content:e}),placeholder:"항목들을 한 줄씩 입력하세요\n예:\n매장인원 관리\n신규파트너 교육\n라떼아트 교육",rows:8,className:"min-h-[200px]"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"💡 한 줄에 하나씩 항목을 입력하세요 (Enter로 구분)"})]}),"en"===d&&e.jsxs(e.Fragment,{children:[e.jsx(Ut,{value:C.contentEn,onChange:e=>S({...C,contentEn:e}),placeholder:"Enter items one per line\ne.g.\nStore Staff Management\nNew Partner Training\nLatte Art Education",rows:8,className:"min-h-[200px]"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"💡 Enter one item per line (separated by Enter)"})]}),"ja"===d&&e.jsxs(e.Fragment,{children:[e.jsx(Ut,{value:C.contentJa,onChange:e=>S({...C,contentJa:e}),placeholder:"1行に1項目を入力してください\n例:\n店舗スタッフ管理\n新規パートナー教育\nラテアート教育",rows:8,className:"min-h-[200px]"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"💡 1行に1項目を入力してください (Enterで区切る)"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>{if(!C.category.trim()||!C.content.trim())return void alert("카테고리 이름과 내용을 모두 입력해주세요.");const e=C.content.split("\n").map(e=>e.trim()).filter(e=>e.length>0),t=C.contentEn.split("\n").map(e=>e.trim()).filter(e=>e.length>0),a=C.contentJa.split("\n").map(e=>e.trim()).filter(e=>e.length>0),r={category:C.category.trim(),categoryEn:C.categoryEn.trim()||void 0,categoryJa:C.categoryJa.trim()||void 0,items:e,itemsEn:t.length>0?t:void 0,itemsJa:a.length>0?a:void 0},s=[...h.details||[]];null!==N&&(s[N]=r),p({...h,details:s}),w(null),S({category:"",categoryEn:"",categoryJa:"",content:"",contentEn:"",contentJa:""})},className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:[e.jsx(oe,{}),"저장"]}),e.jsx("button",{type:"button",onClick:()=>{w(null),S({category:"",categoryEn:"",categoryJa:"",content:"",contentEn:"",contentJa:""})},className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"취소"})]})]})]}),(!h.details||0===h.details.length)&&null===N&&e.jsxs("div",{className:"text-center py-6 bg-white dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600",children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-2",children:"아직 카테고리가 없습니다"}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:'상단의 "카테고리 추가" 버튼을 눌러 시작하세요'})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"설명 (리치텍스트 에디터) - 선택사항"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:'💡 위의 "카테고리별 상세 내용"을 사용하면 더 체계적으로 정리됩니다. 이 필드는 하위 호환성을 위해 유지됩니다.'}),e.jsx(Ut,{value:h.description||"",onChange:e=>p({...h,description:e}),placeholder:"(선택사항) 전체적인 설명을 작성하거나, 위의 카테고리별 입력을 사용하세요.",rows:4,className:"min-h-[150px]"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"이 경력에서 사용한 스킬 🔗"}),h.skillIds&&h.skillIds.length>0&&e.jsxs("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:["✓ ",h.skillIds.length,"개 선택됨"]})]}),x?e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 py-2",children:"스킬 목록을 불러오는 중입니다..."}):0===c.length?e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 py-4 text-center border border-gray-300 dark:border-gray-600 rounded-lg",children:"등록된 스킬이 없습니다. 먼저 스킬을 추가해주세요."}):e.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-800 max-h-[400px] overflow-y-auto",children:c.map(t=>{const a=(t.skills||[]).map(e=>e._id).filter(Boolean),r=h.skillIds||[],s=a.filter(e=>r.includes(e)).length,l=a.length>0&&s===a.length,i=s>0&&s<a.length;return e.jsxs("div",{className:"mb-4 last:mb-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 pb-2 border-b border-gray-300 dark:border-gray-600 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded",onClick:()=>E(t),children:[e.jsx("input",{type:"checkbox",checked:l,ref:e=>{e&&(e.indeterminate=i)},onChange:()=>E(t),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",onClick:e=>e.stopPropagation()}),e.jsxs("label",{className:"font-semibold text-gray-900 dark:text-white flex-1 cursor-pointer",style:{color:t.color||"#3B82F6"},children:[t.title,s>0&&e.jsxs("span",{className:"ml-2 text-xs font-normal text-gray-500 dark:text-gray-400",children:["(",s,"/",a.length,")"]})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 pl-6",children:(t.skills||[]).map(t=>{const a=(h.skillIds||[]).includes(t._id);return e.jsxs("label",{className:"flex items-center gap-2 p-2 rounded cursor-pointer transition-colors "+(a?"bg-blue-50 dark:bg-blue-900/20 border border-blue-300 dark:border-blue-700":"hover:bg-gray-100 dark:hover:bg-gray-700 border border-transparent"),children:[e.jsx("input",{type:"checkbox",checked:a,onChange:()=>(e=>{const t=h.skillIds||[],a=t.includes(e)?t.filter(t=>t!==e):[...t,e];p({...h,skillIds:a})})(t._id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm "+(a?"font-semibold text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300"),children:t.name})]},t._id)})})]},t._id)})}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"💡 체크박스를 클릭하여 경력에서 사용한 스킬을 선택하세요. 카테고리 제목을 클릭하면 전체 선택/해제할 수 있습니다."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["기술 (쉼표로 구분) - 선택사항",e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(","ko"===d?"🇰🇷 한국어":"en"===d?"🇺🇸 English":"🇯🇵 日本語",")"]})]}),"ko"===d&&e.jsx("input",{type:"text",value:y,onChange:e=>b(e.target.value),onBlur:()=>{const e=y.split(",").map(e=>e.trim()).filter(e=>e.length>0);p({...h,skills:e})},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"PLC 프로그래밍, Python, 데이터 분석"}),"en"===d&&e.jsx("input",{type:"text",value:k,onChange:e=>j(e.target.value),onBlur:()=>{const e=k.split(",").map(e=>e.trim()).filter(e=>e.length>0);p({...h,skillsEn:e})},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"PLC Programming, Python, Data Analysis"}),"ja"===d&&e.jsx("input",{type:"text",value:f,onChange:e=>v(e.target.value),onBlur:()=>{const e=f.split(",").map(e=>e.trim()).filter(e=>e.length>0);p({...h,skillsJa:e})},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"PLCプログラミング、Python、データ分析"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"💡 위의 스킬 체크박스를 사용하는 것을 권장합니다. 이 필드는 하위 호환성을 위해 유지됩니다."})]}),null!==N&&e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border-2 border-yellow-300 dark:border-yellow-700",children:e.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-300 font-medium",children:'⚠️ 카테고리 입력 중입니다. 위의 "저장" 버튼을 먼저 눌러 카테고리를 저장하세요.'})}),h.details&&h.details.length>0&&null===N&&e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border-2 border-green-300 dark:border-green-700",children:[e.jsxs("p",{className:"text-sm text-green-800 dark:text-green-300 font-medium mb-2",children:["✅ ",h.details.length,"개의 카테고리가 준비되었습니다"]}),e.jsx("p",{className:"text-xs text-green-700 dark:text-green-400",children:'아래 "저장" 버튼을 눌러 경력 데이터를 최종 저장하세요'})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t-2 border-gray-300 dark:border-gray-600",children:[e.jsx("button",{type:"submit",disabled:i||!_||null!==N,className:"flex-1 flex items-center justify-center gap-2 bg-primary-600 hover:bg-primary-700 text-white font-bold py-3 rounded-lg transition-colors text-lg "+(i||!_||null!==N?"opacity-50 cursor-not-allowed":"shadow-lg"),title:null!==N?"카테고리 입력을 먼저 완료하세요":"",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"저장 중..."]}):e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"text-xl"})," 최종 저장"]})}),e.jsx("button",{type:"button",onClick:s,disabled:i,className:"flex-1 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white font-medium py-3 rounded-lg transition-colors "+(i?"opacity-50 cursor-not-allowed":""),children:"취소"})]})]})},ma=({data:t,onSave:a,onCancel:r,isSaving:s=!1})=>{const{formData:l,videoItems:i,currentLang:n,setCurrentLang:d,setFormData:o,handleVideoUrlChange:c,handleVideoDescriptionChange:x,handleAddVideo:g,handleRemoveVideo:m,prepareDataForSubmit:u}=Xe(t),{skillCategories:h,loading:p}=ze(),{data:b=[],isLoading:j}=Qe(),f=e=>{const t=l.categoryIds||[],a=t.includes(e)?t.filter(t=>t!==e):[...t,e];o({...l,categoryIds:a})},v=e=>{const t=(e.skills||[]).map(e=>e._id).filter(Boolean),a=l.skillIds||[];let r;if(t.every(e=>a.includes(e)))r=a.filter(e=>!t.includes(e));else{const e=new Set([...a,...t]);r=Array.from(e)}o({...l,skillIds:r})};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:t?"프로젝트 수정":"프로젝트 추가"}),e.jsx(Gt,{activeLanguage:n,onChange:d}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["제목 ","ko"===n&&e.jsx("span",{className:"text-red-500",children:"*"}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(","ko"===n?"🇰🇷 한국어":"en"===n?"🇺🇸 English":"🇯🇵 日本語",")"]})]}),"ko"===n&&e.jsx("input",{type:"text",value:l.title,onChange:e=>o({...l,title:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"프로젝트 제목",required:!0}),"en"===n&&e.jsx("input",{type:"text",value:l.titleEn||"",onChange:e=>o({...l,titleEn:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Project Title"}),"ja"===n&&e.jsx("input",{type:"text",value:l.titleJa||"",onChange:e=>o({...l,titleJa:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"プロジェクトタイトル"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"카테고리 선택 📂 (다중 선택 가능)"}),l.categoryIds&&l.categoryIds.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:l.categoryIds.map(t=>{const a=b.find(e=>e._id===t);return a?e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded-full text-sm",children:[a.name,e.jsx("button",{type:"button",onClick:()=>f(t),className:"hover:bg-blue-700 rounded-full p-0.5",children:e.jsx(k,{className:"text-xs"})})]},t):null})}),j?e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"카테고리 로딩 중..."}):b.length>0?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:b.map(t=>{const a=(l.categoryIds||[]).includes(t._id);return e.jsxs("label",{className:"flex items-center gap-2 p-3 border-2 rounded-lg cursor-pointer transition-all "+(a?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:[e.jsx("input",{type:"checkbox",checked:a,onChange:()=>f(t._id),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.name})]},t._id)})}):e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:'등록된 카테고리가 없습니다. 관리자 메뉴의 "카테고리 관리"에서 추가하세요.'})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"상태"}),e.jsxs("select",{value:l.status,onChange:e=>o({...l,status:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"preparing",children:"준비 중"}),e.jsx("option",{value:"planning",children:"계획 중"}),e.jsx("option",{value:"completed",children:"완료"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"GitHub URL"}),e.jsx("input",{type:"text",value:l.githubLink||"",onChange:e=>o({...l,githubLink:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://github.com/..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Live URL"}),e.jsx("input",{type:"text",value:l.liveLink||"",onChange:e=>o({...l,liveLink:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"이미지 URL"}),e.jsx("input",{type:"text",value:l.image,onChange:e=>o({...l,image:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"순서"}),e.jsx("input",{type:"number",value:l.order,onChange:e=>o({...l,order:parseInt(e.target.value)}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"사용된 스킬 (프로젝트 연동) 🔗"}),l.skillIds&&l.skillIds.length>0&&e.jsxs("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:["✓ ",l.skillIds.length,"개 선택됨"]})]}),p?e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 py-2",children:"스킬 목록을 불러오는 중입니다..."}):0===h.length?e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 py-4 text-center border border-gray-300 dark:border-gray-600 rounded-lg",children:"등록된 스킬이 없습니다. 먼저 스킬을 추가해주세요."}):e.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-800 max-h-[400px] overflow-y-auto",children:h.map(t=>{const a=(t.skills||[]).map(e=>e._id).filter(Boolean),r=a.filter(e=>(l.skillIds||[]).includes(e)).length,s=a.length>0&&r===a.length,i=r>0&&r<a.length;return e.jsxs("div",{className:"mb-4 last:mb-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 pb-2 border-b border-gray-300 dark:border-gray-600 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded",onClick:()=>v(t),children:[e.jsx("input",{type:"checkbox",checked:s,ref:e=>{e&&(e.indeterminate=i)},onChange:()=>v(t),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",onClick:e=>e.stopPropagation()}),e.jsxs("label",{className:"font-semibold text-gray-900 dark:text-white flex-1 cursor-pointer",style:{color:t.color||"#3B82F6"},children:[t.title,r>0&&e.jsxs("span",{className:"ml-2 text-xs font-normal text-gray-500 dark:text-gray-400",children:["(",r,"/",a.length,")"]})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 pl-6",children:(t.skills||[]).map(t=>{const a=(l.skillIds||[]).includes(t._id);return e.jsxs("label",{className:"flex items-center gap-2 p-2 rounded cursor-pointer transition-colors "+(a?"bg-blue-50 dark:bg-blue-900/20 border border-blue-300 dark:border-blue-700":"hover:bg-gray-100 dark:hover:bg-gray-700 border border-transparent"),children:[e.jsx("input",{type:"checkbox",checked:a,onChange:()=>(e=>{const t=l.skillIds||[],a=t.includes(e)?t.filter(t=>t!==e):[...t,e];o({...l,skillIds:a})})(t._id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm "+(a?"font-semibold text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300"),children:t.name})]},t._id)})})]},t._id)})}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"💡 체크박스를 클릭하여 프로젝트에서 사용한 스킬을 선택하세요. 카테고리 제목을 클릭하면 전체 선택/해제할 수 있습니다."})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["설명 (리치텍스트 에디터)",e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(","ko"===n?"🇰🇷 한국어":"en"===n?"🇺🇸 English":"🇯🇵 日本語",")"]})]}),"ko"===n&&e.jsx(Ut,{value:l.description||"",onChange:e=>o({...l,description:e}),placeholder:"프로젝트에 대한 간단한 설명을 작성하세요.",rows:4,className:"min-h-[150px]"}),"en"===n&&e.jsx(Ut,{value:l.descriptionEn||"",onChange:e=>o({...l,descriptionEn:e}),placeholder:"Write a brief description of the project.",rows:4,className:"min-h-[150px]"}),"ja"===n&&e.jsx(Ut,{value:l.descriptionJa||"",onChange:e=>o({...l,descriptionJa:e}),placeholder:"プロジェクトの簡単な説明を書いてください。",rows:4,className:"min-h-[150px]"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["기술 스택 (쉼표 또는 줄바꿈으로 구분)",e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(","ko"===n?"🇰🇷 한국어":"en"===n?"🇺🇸 English":"🇯🇵 日本語",")"]})]}),"ko"===n&&e.jsx("textarea",{value:"string"==typeof l.technologies?l.technologies:Array.isArray(l.technologies)?l.technologies.join("\n"):"",onChange:e=>o({...l,technologies:e.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y",placeholder:"PLC, Python, Arduino"}),"en"===n&&e.jsx("textarea",{value:"string"==typeof l.technologiesEn?l.technologiesEn:Array.isArray(l.technologiesEn)?l.technologiesEn.join("\n"):"",onChange:e=>o({...l,technologiesEn:e.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y",placeholder:"PLC, Python, Arduino"}),"ja"===n&&e.jsx("textarea",{value:"string"==typeof l.technologiesJa?l.technologiesJa:Array.isArray(l.technologiesJa)?l.technologiesJa.join("\n"):"",onChange:e=>o({...l,technologiesJa:e.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y",placeholder:"PLC, Python, Arduino"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"추가 이미지 URLs (줄바꿈으로 구분)"}),e.jsx("textarea",{value:"string"==typeof l.images?l.images:Array.isArray(l.images)?l.images.join("\n"):"",onChange:e=>{const t=e.target.value;o({...l,images:t})},rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y",placeholder:"https://example.com/image1.jpg\r\nhttps://example.com/image2.jpg"})]}),e.jsxs("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg p-6 space-y-4 bg-gray-50 dark:bg-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("label",{className:"block text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(y,{className:"text-blue-600 dark:text-blue-400"}),"동영상 관리"]}),e.jsxs("button",{type:"button",onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium",children:[e.jsx(ae,{})," 영상 추가"]})]}),0===i.length?e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx(y,{className:"text-4xl mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"아직 추가된 영상이 없습니다."}),e.jsx("p",{className:"text-sm mt-1",children:'위의 "영상 추가" 버튼을 클릭하여 영상을 추가하세요.'})]}):e.jsx("div",{className:"space-y-6",children:i.map((t,a)=>e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 bg-white dark:bg-gray-900 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-md font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx("span",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 rounded-full text-sm font-bold",children:a+1}),"영상 ",a+1]}),e.jsxs("button",{type:"button",onClick:()=>m(a),className:"flex items-center gap-1 px-3 py-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors text-sm",children:[e.jsx(K,{})," 삭제"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"영상 URL *"}),e.jsx("input",{type:"url",value:t.url,onChange:e=>c(a,e.target.value),placeholder:"https://youtube.com/watch?v=... 또는 https://youtube.com/shorts/...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["영상 설명 (리치텍스트)",e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(","ko"===n?"🇰🇷 한국어":"en"===n?"🇺🇸 English":"🇯🇵 日本語",")"]})]}),e.jsxs("span",{className:"text-xs "+(("ko"===n?t.description.length:"en"===n?t.descriptionEn.length:t.descriptionJa.length)>5e3?"text-red-600 dark:text-red-400 font-bold":("ko"===n?t.description.length:"en"===n?t.descriptionEn.length:t.descriptionJa.length)>4e3?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400"),children:["ko"===n?t.description.length:"en"===n?t.descriptionEn.length:t.descriptionJa.length," / 5000자"]})]}),"ko"===n&&e.jsx(Ut,{value:t.description,onChange:e=>x(a,e,"ko"),placeholder:"이 영상에 대한 상세한 설명을 작성하세요. 굵게, 기울임, 리스트 등 다양한 서식을 사용할 수 있습니다.",rows:4,className:"min-h-[150px]"}),"en"===n&&e.jsx(Ut,{value:t.descriptionEn,onChange:e=>x(a,e,"en"),placeholder:"Write a detailed description of this video. You can use bold, italic, lists, and other formatting.",rows:4,className:"min-h-[150px]"}),"ja"===n&&e.jsx(Ut,{value:t.descriptionJa,onChange:e=>x(a,e,"ja"),placeholder:"この動画の詳細な説明を書いてください。太字、斜体、リストなどの書式を使用できます。",rows:4,className:"min-h-[150px]"}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"💡 이 설명은 프로젝트 상세 페이지에서 영상 하단에 표시됩니다."}),("ko"===n?t.description.length:"en"===n?t.descriptionEn.length:t.descriptionJa.length)>4e3&&e.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400",children:"⚠️ 글자 수가 많습니다. 간결하게 작성해주세요."})]})]})]},a))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["상세 설명 (리치텍스트 에디터)",e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(","ko"===n?"🇰🇷 한국어":"en"===n?"🇺🇸 English":"🇯🇵 日本語",")"]})]}),"ko"===n&&e.jsx(Ut,{value:l.detailedDescription||"",onChange:e=>o({...l,detailedDescription:e}),placeholder:"프로젝트의 상세한 설명을 작성해주세요.",rows:6,className:"min-h-[200px]"}),"en"===n&&e.jsx(Ut,{value:l.detailedDescriptionEn||"",onChange:e=>o({...l,detailedDescriptionEn:e}),placeholder:"Write a detailed description of the project.",rows:6,className:"min-h-[200px]"}),"ja"===n&&e.jsx(Ut,{value:l.detailedDescriptionJa||"",onChange:e=>o({...l,detailedDescriptionJa:e}),placeholder:"プロジェクトの詳細な説明を書いてください。",rows:6,className:"min-h-[200px]"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["주요 기능 (줄바꿈으로 구분)",e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(","ko"===n?"🇰🇷 한국어":"en"===n?"🇺🇸 English":"🇯🇵 日本語",")"]})]}),"ko"===n&&e.jsx("textarea",{value:"string"==typeof l.features?l.features:Array.isArray(l.features)?l.features.join("\n"):"",onChange:e=>o({...l,features:e.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y",placeholder:"실시간 모니터링\n데이터 수집 및 분석\n알림 시스템"}),"en"===n&&e.jsx("textarea",{value:"string"==typeof l.featuresEn?l.featuresEn:Array.isArray(l.featuresEn)?l.featuresEn.join("\n"):"",onChange:e=>o({...l,featuresEn:e.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y",placeholder:"Real-time monitoring\nData collection and analysis\nAlert system"}),"ja"===n&&e.jsx("textarea",{value:"string"==typeof l.featuresJa?l.featuresJa:Array.isArray(l.featuresJa)?l.featuresJa.join("\n"):"",onChange:e=>o({...l,featuresJa:e.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y",placeholder:"リアルタイム監視\nデータ収集と分析\n通知システム"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["학습 내용 (줄바꿈으로 구분)",e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(","ko"===n?"🇰🇷 한국어":"en"===n?"🇺🇸 English":"🇯🇵 日本語",")"]})]}),"ko"===n&&e.jsx("textarea",{value:"string"==typeof l.learnings?l.learnings:Array.isArray(l.learnings)?l.learnings.join("\n"):"",onChange:e=>o({...l,learnings:e.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y",placeholder:"PLC 프로그래밍 기법\n실시간 데이터 처리\n웹 기반 대시보드 구축"}),"en"===n&&e.jsx("textarea",{value:"string"==typeof l.learningsEn?l.learningsEn:Array.isArray(l.learningsEn)?l.learningsEn.join("\n"):"",onChange:e=>o({...l,learningsEn:e.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y",placeholder:"PLC programming techniques\nReal-time data processing\nWeb-based dashboard development"}),"ja"===n&&e.jsx("textarea",{value:"string"==typeof l.learningsJa?l.learningsJa:Array.isArray(l.learningsJa)?l.learningsJa.join("\n"):"",onChange:e=>o({...l,learningsJa:e.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y",placeholder:"PLCプログラミング技術\nリアルタイムデータ処理\nWebベースダッシュボード開発"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{try{const e=u();a(e)}catch(e){alert(e.message||"저장 중 오류가 발생했습니다. 콘솔을 확인해주세요.")}},disabled:s,className:"flex-1 flex items-center justify-center gap-2 bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 rounded-lg transition-colors "+(s?"opacity-50 cursor-not-allowed":""),children:s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"저장 중..."]}):e.jsxs(e.Fragment,{children:[e.jsx(oe,{})," 저장"]})}),e.jsx("button",{type:"button",onClick:r,className:"flex-1 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white font-medium py-2 rounded-lg transition-colors",children:"취소"})]})]})},ua=({initialData:t,onSave:r,onCancel:s,isSaving:l=!1})=>{const[i,n]=a.useState("ko"),[d,o]=a.useState({title:"",titleEn:"",titleJa:"",description:"",descriptionEn:"",descriptionJa:"",color:"#3B82F6",order:0});a.useEffect(()=>{t&&o({title:t.title,titleEn:t.titleEn||"",titleJa:t.titleJa||"",description:t.description||"",descriptionEn:t.descriptionEn||"",descriptionJa:t.descriptionJa||"",color:t.color,order:t.order})},[t]);const c=(e,t)=>{o(a=>({...a,[e]:t}))};return e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:t?"카테고리 수정":"새 카테고리 추가"}),e.jsxs("form",{onSubmit:e=>{e.preventDefault(),r(d)},className:"space-y-4",children:[e.jsx(Gt,{activeLanguage:i,onChange:n}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["제목 ","ko"===i&&e.jsx("span",{className:"text-red-500",children:"*"}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(","ko"===i?"🇰🇷 한국어":"en"===i?"🇺🇸 English":"🇯🇵 日本語",")"]})]}),"ko"===i&&e.jsx("input",{type:"text",value:d.title,onChange:e=>c("title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"예: 프로그래밍 언어",required:!0}),"en"===i&&e.jsx("input",{type:"text",value:d.titleEn||"",onChange:e=>c("titleEn",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Programming Languages"}),"ja"===i&&e.jsx("input",{type:"text",value:d.titleJa||"",onChange:e=>c("titleJa",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"例: プログラミング言語"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["설명",e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(","ko"===i?"🇰🇷 한국어":"en"===i?"🇺🇸 English":"🇯🇵 日本語",")"]})]}),"ko"===i&&e.jsx("textarea",{value:d.description,onChange:e=>c("description",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:3,placeholder:"카테고리에 대한 설명을 입력하세요"}),"en"===i&&e.jsx("textarea",{value:d.descriptionEn||"",onChange:e=>c("descriptionEn",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:3,placeholder:"Enter description for this category"}),"ja"===i&&e.jsx("textarea",{value:d.descriptionJa||"",onChange:e=>c("descriptionJa",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:3,placeholder:"このカテゴリの説明を入力してください"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"색상"}),e.jsx("input",{type:"color",value:d.color,onChange:e=>c("color",e.target.value),className:"w-12 h-10 border border-gray-300 dark:border-gray-600 rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"순서 (고급 옵션)"}),e.jsx("input",{type:"number",value:d.order,onChange:e=>c("order",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"0"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"💡 카테고리 목록에서 드래그하여 순서를 변경할 수 있습니다"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:l?"저장 중...":"저장"}),e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"취소"})]})]})]})},ha=({initialData:t,onSave:r,onCancel:s,isSaving:l=!1})=>{const[i,n]=a.useState("ko"),[d,o]=a.useState({name:"",nameEn:"",nameJa:"",level:50,icon:"FaMicrochip",description:"",descriptionEn:"",descriptionJa:"",order:0});a.useEffect(()=>{t&&o({name:t.name,nameEn:t.nameEn||"",nameJa:t.nameJa||"",level:t.level,icon:t.icon,description:t.description||"",descriptionEn:t.descriptionEn||"",descriptionJa:t.descriptionJa||"",order:t.order})},[t]);const c=(e,t)=>{o(a=>({...a,[e]:t}))};return e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:t?"스킬 수정":"새 스킬 추가"}),e.jsxs("form",{onSubmit:e=>{e.preventDefault(),r(d)},className:"space-y-4",children:[e.jsx(Gt,{activeLanguage:i,onChange:n}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["이름 ","ko"===i&&e.jsx("span",{className:"text-red-500",children:"*"}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(","ko"===i?"🇰🇷 한국어":"en"===i?"🇺🇸 English":"🇯🇵 日本語",")"]})]}),"ko"===i&&e.jsx("input",{type:"text",value:d.name,onChange:e=>c("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"예: Python, React, PLC",required:!0}),"en"===i&&e.jsx("input",{type:"text",value:d.nameEn||"",onChange:e=>c("nameEn",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Python, React, PLC"}),"ja"===i&&e.jsx("input",{type:"text",value:d.nameJa||"",onChange:e=>c("nameJa",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"例: Python, React, PLC"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["설명 (선택사항)",e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(","ko"===i?"🇰🇷 한국어":"en"===i?"🇺🇸 English":"🇯🇵 日本語",")"]})]}),"ko"===i&&e.jsx("textarea",{value:d.description||"",onChange:e=>c("description",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:3,placeholder:"스킬에 대한 간단한 설명"}),"en"===i&&e.jsx("textarea",{value:d.descriptionEn||"",onChange:e=>c("descriptionEn",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:3,placeholder:"Brief description of this skill"}),"ja"===i&&e.jsx("textarea",{value:d.descriptionJa||"",onChange:e=>c("descriptionJa",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:3,placeholder:"このスキルの簡単な説明"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"아이콘"}),e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"text-lg text-blue-600 dark:text-blue-400",children:e.jsx(It,{iconName:d.icon,size:20})}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"미리보기"})]}),e.jsxs("select",{value:d.icon,onChange:e=>c("icon",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsxs("optgroup",{label:"프로그래밍 언어",children:[e.jsx("option",{value:"FaPython",children:"Python"}),e.jsx("option",{value:"SiJavascript",children:"JavaScript"}),e.jsx("option",{value:"SiTypescript",children:"TypeScript"}),e.jsx("option",{value:"SiC",children:"C"}),e.jsx("option",{value:"SiCplusplus",children:"C++"}),e.jsx("option",{value:"SiCsharp",children:"C#"}),e.jsx("option",{value:"SiGo",children:"Go"}),e.jsx("option",{value:"SiRust",children:"Rust"}),e.jsx("option",{value:"SiJava",children:"Java"}),e.jsx("option",{value:"SiPhp",children:"PHP"}),e.jsx("option",{value:"SiRuby",children:"Ruby"}),e.jsx("option",{value:"SiSwift",children:"Swift"}),e.jsx("option",{value:"SiKotlin",children:"Kotlin"})]}),e.jsxs("optgroup",{label:"프레임워크 & 라이브러리",children:[e.jsx("option",{value:"SiReact",children:"React"}),e.jsx("option",{value:"SiNodedotjs",children:"Node.js"}),e.jsx("option",{value:"SiVuedotjs",children:"Vue.js"}),e.jsx("option",{value:"SiAngular",children:"Angular"}),e.jsx("option",{value:"SiNextdotjs",children:"Next.js"}),e.jsx("option",{value:"SiExpress",children:"Express"}),e.jsx("option",{value:"SiDjango",children:"Django"}),e.jsx("option",{value:"SiFlask",children:"Flask"}),e.jsx("option",{value:"SiSpring",children:"Spring"})]}),e.jsxs("optgroup",{label:"데이터베이스",children:[e.jsx("option",{value:"FaDatabase",children:"Database"}),e.jsx("option",{value:"SiMysql",children:"MySQL"}),e.jsx("option",{value:"SiMongodb",children:"MongoDB"}),e.jsx("option",{value:"SiPostgresql",children:"PostgreSQL"}),e.jsx("option",{value:"SiRedis",children:"Redis"}),e.jsx("option",{value:"SiSqlite",children:"SQLite"})]}),e.jsxs("optgroup",{label:"자동화 & 하드웨어",children:[e.jsx("option",{value:"FaMicrochip",children:"Microchip"}),e.jsx("option",{value:"FaRobot",children:"Robot"}),e.jsx("option",{value:"SiArduino",children:"Arduino"}),e.jsx("option",{value:"SiRaspberrypi",children:"Raspberry Pi"}),e.jsx("option",{value:"SiSiemens",children:"Siemens"}),e.jsx("option",{value:"SiMitsubishi",children:"Mitsubishi"})]}),e.jsxs("optgroup",{label:"개발 도구",children:[e.jsx("option",{value:"FaCode",children:"Code"}),e.jsx("option",{value:"FaServer",children:"Server"}),e.jsx("option",{value:"SiDocker",children:"Docker"}),e.jsx("option",{value:"SiGit",children:"Git"}),e.jsx("option",{value:"SiLinux",children:"Linux"}),e.jsx("option",{value:"SiGithub",children:"GitHub"}),e.jsx("option",{value:"SiGitlab",children:"GitLab"}),e.jsx("option",{value:"SiVisualstudiocode",children:"VS Code"})]}),e.jsxs("optgroup",{label:"언어",children:[e.jsx("option",{value:"FaLanguage",children:"언어 일반"}),e.jsx("option",{value:"FaGlobeAsia",children:"일본어"}),e.jsx("option",{value:"FaGlobeEurope",children:"독일어"}),e.jsx("option",{value:"FaFlag",children:"러시아어"}),e.jsx("option",{value:"FaFlagCheckered",children:"한국어"}),e.jsx("option",{value:"FaGlobe",children:"에스토니아어"}),e.jsx("option",{value:"FaFont",children:"중국어"}),e.jsx("option",{value:"FaComment",children:"영어"})]}),e.jsxs("optgroup",{label:"학문 & 전공",children:[e.jsx("option",{value:"FaLaptopCode",children:"컴퓨터공학"}),e.jsx("option",{value:"FaChartBar",children:"통계학"}),e.jsx("option",{value:"FaCalculator",children:"수학"}),e.jsx("option",{value:"FaSquareRootAlt",children:"수학 (고급)"}),e.jsx("option",{value:"FaUniversity",children:"대학/학술"}),e.jsx("option",{value:"FaGraduationCap",children:"졸업/학위"})]}),e.jsxs("optgroup",{label:"공학",children:[e.jsx("option",{value:"FaCogs",children:"공학 일반"}),e.jsx("option",{value:"FaTools",children:"기계공학"}),e.jsx("option",{value:"FaWrench",children:"기계설계"}),e.jsx("option",{value:"FaBolt",children:"전기공학"}),e.jsx("option",{value:"FaPlug",children:"전력공학"}),e.jsx("option",{value:"FaMicrochip",children:"전자공학"}),e.jsx("option",{value:"FaHardHat",children:"토목공학"}),e.jsx("option",{value:"FaBuilding",children:"건축공학"}),e.jsx("option",{value:"FaIndustry",children:"산업공학"}),e.jsx("option",{value:"FaChartLine",children:"경영공학"}),e.jsx("option",{value:"FaFlask",children:"화학공학"}),e.jsx("option",{value:"FaCubes",children:"재료공학"}),e.jsx("option",{value:"FaPlane",children:"항공공학"}),e.jsx("option",{value:"FaRocket",children:"우주공학"}),e.jsx("option",{value:"FaLeaf",children:"환경공학"}),e.jsx("option",{value:"FaRecycle",children:"자원공학"}),e.jsx("option",{value:"FaDna",children:"생명공학"}),e.jsx("option",{value:"FaOilCan",children:"석유공학"}),e.jsx("option",{value:"FaFire",children:"에너지공학"}),e.jsx("option",{value:"FaShieldAlt",children:"안전공학"})]}),e.jsxs("optgroup",{label:"과학",children:[e.jsx("option",{value:"FaAtom",children:"원자/물리학"}),e.jsx("option",{value:"FaFlask",children:"화학/실험"}),e.jsx("option",{value:"FaMicroscope",children:"생물학/연구"}),e.jsx("option",{value:"FaDna",children:"DNA/유전학"}),e.jsx("option",{value:"FaRocket",children:"우주/항공"}),e.jsx("option",{value:"FaSatellite",children:"위성/통신"}),e.jsx("option",{value:"FaBrain",children:"뇌과학/심리학"}),e.jsx("option",{value:"FaLightbulb",children:"발명/혁신"}),e.jsx("option",{value:"FaWaveSquare",children:"전자/전기공학"}),e.jsx("option",{value:"FaMagnet",children:"자기학/물리"})]}),e.jsxs("optgroup",{label:"예술 & 취미",children:[e.jsx("option",{value:"FaPalette",children:"미술"}),e.jsx("option",{value:"FaPaintBrush",children:"그림"}),e.jsx("option",{value:"FaCamera",children:"사진"}),e.jsx("option",{value:"FaCameraRetro",children:"사진 (레트로)"}),e.jsx("option",{value:"FaCoffee",children:"커피"}),e.jsx("option",{value:"FaMugHot",children:"커피 (머그)"}),e.jsx("option",{value:"FaMusic",children:"음악"}),e.jsx("option",{value:"FaGuitar",children:"악기"}),e.jsx("option",{value:"FaFilm",children:"영화/영상"})]}),e.jsxs("optgroup",{label:"경력 & 경험",children:[e.jsx("option",{value:"FaUserShield",children:"군인"}),e.jsx("option",{value:"FaShieldAlt",children:"방어/보안"}),e.jsx("option",{value:"FaCar",children:"운전"}),e.jsx("option",{value:"FaTruck",children:"트럭 운전"}),e.jsx("option",{value:"FaShippingFast",children:"물류"}),e.jsx("option",{value:"FaBriefcase",children:"비즈니스"}),e.jsx("option",{value:"FaHandshake",children:"협업"})]}),e.jsxs("optgroup",{label:"기타",children:[e.jsx("option",{value:"FaChartLine",children:"Chart"}),e.jsx("option",{value:"FaCubes",children:"Cubes"}),e.jsx("option",{value:"FaCog",children:"Settings"}),e.jsx("option",{value:"FaMobile",children:"Mobile"}),e.jsx("option",{value:"FaDesktop",children:"Desktop"}),e.jsx("option",{value:"FaCloud",children:"Cloud"}),e.jsx("option",{value:"FaNetworkWired",children:"Network"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"순서 (고급 옵션)"}),e.jsx("input",{type:"number",value:d.order,onChange:e=>c("order",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"0"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"💡 스킬 목록에서 드래그하여 순서를 변경할 수 있습니다"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:l?"저장 중...":"저장"}),e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"취소"})]})]})]})},pa=({data:t,onSave:r,onCancel:s,isSaving:l=!1})=>{const[i,n]=a.useState("ko"),[d,o]=a.useState(t?{name:t.name,nameEn:t.nameEn,nameJa:t.nameJa,order:t.order||0}:{name:"",nameEn:"",nameJa:"",order:0});return e.jsxs("form",{onSubmit:e=>{e.preventDefault(),d.name.trim()?r(d):alert("카테고리 이름을 입력해주세요")},className:"space-y-4",children:[e.jsx(Gt,{activeLanguage:i,onChange:n}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["카테고리 이름 ","ko"===i&&e.jsx("span",{className:"text-red-500",children:"*"}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(","ko"===i?"🇰🇷 한국어":"en"===i?"🇺🇸 English":"🇯🇵 日本語",")"]})]}),"ko"===i&&e.jsx("input",{type:"text",value:d.name,onChange:e=>o({...d,name:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"예: PLC, 웹개발, AI/ML",required:!0}),"en"===i&&e.jsx("input",{type:"text",value:d.nameEn||"",onChange:e=>o({...d,nameEn:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., PLC, Web Development, AI/ML"}),"ja"===i&&e.jsx("input",{type:"text",value:d.nameJa||"",onChange:e=>o({...d,nameJa:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"例: PLC, ウェブ開発, AI/ML"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"순서 (고급 옵션)"}),e.jsx("input",{type:"number",value:d.order,onChange:e=>o({...d,order:parseInt(e.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"0"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"💡 카테고리 목록에서 드래그 앤 드롭으로 순서를 변경할 수 있습니다"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs("button",{type:"submit",disabled:l||!d.name.trim(),className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",children:[e.jsx(oe,{}),l?"저장 중...":"저장"]}),e.jsx("button",{type:"button",onClick:s,disabled:l,className:"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",children:"취소"})]})]})},ya=({notifications:t,showNotifications:a,onToggle:r,onNotificationClick:s})=>{const l=()=>t.filter(e=>!e.read).length;return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:r,className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors relative",children:[e.jsx(Ce,{}),"알림",l()>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:l()})]}),a&&e.jsx("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50",children:e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"알림"}),0===t.length?e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"새로운 알림이 없습니다."}):e.jsxs("div",{className:"space-y-2",children:[t.slice(0,5).map(t=>e.jsxs("div",{onClick:()=>null==s?void 0:s(t.id),className:"p-3 rounded-lg border cursor-pointer transition-all hover:shadow-md "+(t.read?"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600":"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 hover:bg-blue-100 dark:hover:bg-blue-900/30"),children:[e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:t.message}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:new Date(t.createdAt).toLocaleString("ko-KR")})]},t.id)),t.length>5&&e.jsxs("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400 pt-2 border-t border-gray-200 dark:border-gray-700",children:["+",t.length-5,"개 더 보기"]})]})]})})]})},ba=({filterGroup:t,count:r})=>{const{state:s,actions:l,data:i}=t,[n,d]=a.useState(!1);return e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"서적 관리"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("button",{onClick:()=>{l.setFilter("all"),l.setSearchTerm(""),d(!1),l.setSelectedCategory("")},className:"w-full text-left px-3 py-2 text-sm rounded-lg transition-colors "+("all"!==s.filter||s.searchTerm||s.selectedCategory?"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700":"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300"),children:["📖 모든 서적 (",r,")"]}),e.jsx("button",{onClick:()=>{l.setFilter("five-star"),l.setSearchTerm(""),d(!1),l.setSelectedCategory("")},className:"w-full text-left px-3 py-2 text-sm rounded-lg transition-colors "+("five-star"===s.filter?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:"⭐ 평점 5점 서적"}),e.jsx("button",{onClick:()=>{l.setFilter("category"),l.setSearchTerm(""),d(!1)},className:"w-full text-left px-3 py-2 text-sm rounded-lg transition-colors "+("category"===s.filter?"bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:"📚 카테고리별 보기"}),"category"===s.filter&&e.jsx("div",{className:"ml-4 mb-2",children:e.jsxs("select",{value:s.selectedCategory,onChange:e=>l.setSelectedCategory(e.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"카테고리 선택"}),i.categories.map(t=>e.jsx("option",{value:t,children:t},t))]})}),e.jsx("button",{onClick:()=>d(!n),className:"w-full text-left px-3 py-2 text-sm rounded-lg transition-colors "+(n?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:"🔍 서적 검색"}),n&&e.jsx("div",{className:"ml-4 mb-2",children:e.jsx("input",{type:"text",placeholder:"제목, 저자, 카테고리 검색...",value:s.searchTerm,onChange:e=>l.setSearchTerm(e.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})}),("all"!==s.filter||s.searchTerm||s.selectedCategory)&&e.jsx("button",{onClick:()=>{l.setFilter("all"),l.setSearchTerm(""),l.setSelectedCategory(""),d(!1)},className:"w-full text-left px-3 py-2 text-sm rounded-lg transition-colors text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:"🔄 필터 초기화"})]})]})},ka=({filterGroup:t,count:r})=>{const{state:s,actions:l,data:i}=t,[n,d]=a.useState(!1);return e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"경력 관리"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("button",{onClick:()=>{l.setFilter("all"),l.setSearchTerm(""),d(!1),l.setSelectedCompany(""),l.setSelectedYear("")},className:"w-full text-left px-3 py-2 text-sm rounded-lg transition-colors "+("all"!==s.filter||s.searchTerm||s.selectedCompany||s.selectedYear?"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700":"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300"),children:["💼 모든 경력 (",r,")"]}),e.jsx("button",{onClick:()=>{l.setFilter("company"),l.setSearchTerm(""),d(!1),l.setSelectedYear("")},className:"w-full text-left px-3 py-2 text-sm rounded-lg transition-colors "+("company"===s.filter?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:"🏢 회사별 보기"}),"company"===s.filter&&e.jsx("div",{className:"ml-4 mb-2",children:e.jsxs("select",{value:s.selectedCompany,onChange:e=>l.setSelectedCompany(e.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"회사 선택"}),i.companies.map(t=>e.jsx("option",{value:t,children:t},t))]})}),e.jsx("button",{onClick:()=>{l.setFilter("year"),l.setSearchTerm(""),d(!1),l.setSelectedCompany("")},className:"w-full text-left px-3 py-2 text-sm rounded-lg transition-colors "+("year"===s.filter?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:"📅 연도별 보기"}),"year"===s.filter&&e.jsx("div",{className:"ml-4 mb-2",children:e.jsxs("select",{value:s.selectedYear,onChange:e=>l.setSelectedYear(e.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"연도 선택"}),i.years.map(t=>e.jsxs("option",{value:t,children:[t,"년"]},t))]})}),e.jsx("button",{onClick:()=>d(!n),className:"w-full text-left px-3 py-2 text-sm rounded-lg transition-colors "+(n?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:"🔍 경력 검색"}),n&&e.jsx("div",{className:"ml-4 mb-2",children:e.jsx("input",{type:"text",placeholder:"제목, 회사, 설명 검색...",value:s.searchTerm,onChange:e=>l.setSearchTerm(e.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})}),("all"!==s.filter||s.searchTerm||s.selectedCompany||s.selectedYear)&&e.jsx("button",{onClick:()=>{l.setFilter("all"),l.setSearchTerm(""),l.setSelectedCompany(""),l.setSelectedYear(""),d(!1)},className:"w-full text-left px-3 py-2 text-sm rounded-lg transition-colors text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:"🔄 필터 초기화"})]})]})},ja=({filterGroup:t,count:r})=>{const{state:s,actions:l,data:i}=t,[n,d]=a.useState(!1);return e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"프로젝트 관리"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("button",{onClick:()=>{l.setFilter("all"),l.setSearchTerm(""),d(!1),l.setSelectedCategory("")},className:"w-full text-left px-3 py-2 text-sm rounded-lg transition-colors "+("all"!==s.filter||s.searchTerm||s.selectedCategory?"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700":"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300"),children:["📁 모든 프로젝트 (",r,")"]}),e.jsx("button",{onClick:()=>{l.setFilter("category"),l.setSearchTerm(""),d(!1)},className:"w-full text-left px-3 py-2 text-sm rounded-lg transition-colors "+("category"===s.filter?"bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:"🏷️ 카테고리별 보기"}),"category"===s.filter&&e.jsx("div",{className:"ml-4 mb-2",children:e.jsxs("select",{value:s.selectedCategory,onChange:e=>l.setSelectedCategory(e.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"카테고리 선택"}),i.categories.map(t=>e.jsx("option",{value:t,children:t},t))]})}),e.jsx("button",{onClick:()=>{l.setFilter("featured"),l.setSearchTerm(""),d(!1),l.setSelectedCategory("")},className:"w-full text-left px-3 py-2 text-sm rounded-lg transition-colors "+("featured"===s.filter?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:"🌟 주요 프로젝트"}),e.jsx("button",{onClick:()=>d(!n),className:"w-full text-left px-3 py-2 text-sm rounded-lg transition-colors "+(n?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:"🔍 프로젝트 검색"}),n&&e.jsx("div",{className:"ml-4 mb-2",children:e.jsx("input",{type:"text",placeholder:"제목, 설명, 기술스택 검색...",value:s.searchTerm,onChange:e=>l.setSearchTerm(e.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})}),("all"!==s.filter||s.searchTerm||s.selectedCategory)&&e.jsx("button",{onClick:()=>{l.setFilter("all"),l.setSearchTerm(""),l.setSelectedCategory(""),d(!1)},className:"w-full text-left px-3 py-2 text-sm rounded-lg transition-colors text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:"🔄 필터 초기화"})]})]})},fa=({activeSettingsSection:t,setActiveSettingsSection:a})=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"사이트 설정"}),e.jsx("div",{className:"space-y-1",children:[{id:"general",label:"🏠 일반 설정",description:"사이트 기본 정보"},{id:"appearance",label:"🎨 외관 설정",description:"테마 및 디자인"},{id:"seo",label:"🔍 SEO 설정",description:"검색 엔진 최적화"},{id:"social",label:"📱 소셜 미디어",description:"소셜 링크 및 연락처"},{id:"analytics",label:"📊 분석 도구",description:"Google Analytics 등"},{id:"security",label:"🔒 보안 설정",description:"인증 및 보안"}].map(r=>e.jsx("button",{onClick:()=>a(r.id),className:"w-full text-left px-3 py-2 text-sm rounded-lg transition-colors "+(t===r.id?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:r.label}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:r.description})]})},r.id))}),t&&e.jsx("button",{onClick:()=>a(null),className:"w-full text-left px-3 py-2 text-sm rounded-lg transition-colors text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:"← 설정 메뉴로 돌아가기"})]}),va=({activeTab:t,setActiveTab:a,activeSettingsSection:r,setActiveSettingsSection:s,counts:l,refreshCounts:i,bookFilters:n,experienceFilters:d,projectFilters:o})=>e.jsx("div",{className:"w-80 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 p-6",children:e.jsxs("div",{className:"sticky top-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"빠른 메뉴"}),e.jsx("div",{className:"mb-8",children:e.jsxs("button",{onClick:()=>{a("settings"),s(null)},className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-semibold rounded-lg transition-colors "+("settings"===t&&null===r?"bg-blue-600 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[e.jsx("span",{className:"text-lg",children:"🏠"}),"관리자 대시보드"]})}),e.jsxs("div",{className:"space-y-2 mb-8",children:[e.jsxs("button",{onClick:()=>a("books"),className:"w-full flex items-center justify-between px-4 py-2 text-sm rounded-lg transition-colors "+("books"===t?"bg-orange-100 dark:bg-orange-900 text-orange-700 dark:text-orange-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[e.jsx("span",{children:"📚 서적 관리"}),e.jsx("span",{className:"text-xs bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded-full",children:l.books})]}),e.jsxs("button",{onClick:()=>{s(null),a("videoLearnings")},className:"w-full flex items-center justify-between px-4 py-2 text-sm rounded-lg transition-colors "+("videoLearnings"===t?"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[e.jsx("span",{children:"📹 개별 영상"}),e.jsx("span",{className:"text-xs bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded-full",children:l.videoLearnings||0})]}),e.jsxs("button",{onClick:()=>{s(null),a("videoPlaylists")},className:"w-full flex items-center justify-between px-4 py-2 text-sm rounded-lg transition-colors "+("videoPlaylists"===t?"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[e.jsx("span",{children:"📺 시리즈 영상"}),e.jsx("span",{className:"text-xs bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded-full",children:l.videoPlaylists||0})]}),e.jsxs("button",{onClick:()=>a("experiences"),className:"w-full flex items-center justify-between px-4 py-2 text-sm rounded-lg transition-colors "+("experiences"===t?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[e.jsx("span",{children:"💼 경력 관리"}),e.jsx("span",{className:"text-xs bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded-full",children:l.experiences})]}),e.jsxs("button",{onClick:()=>a("projects"),className:"w-full flex items-center justify-between px-4 py-2 text-sm rounded-lg transition-colors "+("projects"===t?"bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[e.jsx("span",{children:"🚀 프로젝트 관리"}),e.jsx("span",{className:"text-xs bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded-full",children:l.projects})]}),e.jsxs("button",{onClick:()=>a("messages"),className:"w-full flex items-center justify-between px-4 py-2 text-sm rounded-lg transition-colors "+("messages"===t?"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[e.jsx("span",{children:"💬 메시지 관리"}),e.jsx("span",{className:"text-xs bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded-full",children:l.messages})]}),e.jsxs("button",{onClick:()=>a("skills"),className:"w-full flex items-center justify-between px-4 py-2 text-sm rounded-lg transition-colors "+("skills"===t?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[e.jsx("span",{children:"⚡ 기술 관리"}),e.jsx("span",{className:"text-xs bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded-full",children:l.skills})]}),e.jsxs("button",{onClick:()=>{s(null),a("categories")},className:"w-full flex items-center justify-between px-4 py-2 text-sm rounded-lg transition-colors "+("categories"===t?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[e.jsx("span",{children:"📂 카테고리 관리"}),e.jsx("span",{className:"text-xs bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded-full",children:l.categories||0})]})]}),"books"===t&&e.jsx(ba,{filterGroup:n,count:l.books}),"experiences"===t&&e.jsx(ka,{filterGroup:d,count:l.experiences}),"projects"===t&&e.jsx(ja,{filterGroup:o,count:l.projects}),"settings"===t&&e.jsx(fa,{activeSettingsSection:r,setActiveSettingsSection:s}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:i,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[e.jsx("span",{children:"🔄"}),"데이터 새로고침"]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["마지막 업데이트: ",(new Date).toLocaleTimeString("ko-KR")]})]})})]})});export{zt as A,ta as B,sa as C,It as D,ga as E,Rt as H,ra as L,ya as N,oa as P,va as R,ua as S,ia as T,na as V,aa as a,da as b,ma as c,ha as d,pa as e,Gt as f,_t as g,Lt as h,Jt as i,Tt as j,Dt as k,Bt as l,Ht as m,Qt as n,ea as o,At as p,St as q,Ct as r,Yt as s,Vt as t,Kt as u,Xt as v};
//# sourceMappingURL=chunk-9ca5f738.js.map
