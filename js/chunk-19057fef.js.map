{"version":3,"file":"chunk-19057fef.js","sources":["../../src/utils/videoUtils.tsx","../../src/components/forms/BookForm.tsx","../../src/components/forms/ChapterForm.tsx","../../src/components/forms/LearningForm.tsx","../../src/components/forms/VideoLearningForm.tsx","../../src/components/forms/VideoPlaylistForm.tsx","../../src/components/forms/PlaylistVideoForm.tsx","../../src/components/forms/ExperienceForm.tsx","../../src/components/forms/ProjectForm.tsx","../../src/components/forms/SkillCategoryForm.tsx","../../src/components/forms/SkillForm.tsx","../../src/components/forms/CategoryForm.tsx"],"sourcesContent":["// =================================================================\r\n// ğŸ“¹ ìœ íŠœë¸Œ ì˜ìƒ ê´€ë ¨ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜\r\n// =================================================================\r\n\r\n/**\r\n * ë‹¤ì–‘í•œ ìœ íŠœë¸Œ URL í˜•ì‹ì—ì„œ ì˜ìƒ ID ì¶”ì¶œ\r\n * @param url - ìœ íŠœë¸Œ URL\r\n * @returns ì˜ìƒ ID ë˜ëŠ” null\r\n */\r\nexport const extractYouTubeId = (url: string): string | null => {\r\n  if (!url) return null\r\n  \r\n  // ë‹¤ì–‘í•œ ìœ íŠœë¸Œ URL íŒ¨í„´\r\n  const patterns = [\r\n    /(?:youtube\\.com\\/watch\\?v=)([a-zA-Z0-9_-]{11})/,  // https://www.youtube.com/watch?v=VIDEO_ID\r\n    /(?:youtu\\.be\\/)([a-zA-Z0-9_-]{11})/,  // https://youtu.be/VIDEO_ID\r\n    /(?:youtube\\.com\\/embed\\/)([a-zA-Z0-9_-]{11})/,  // https://www.youtube.com/embed/VIDEO_ID\r\n    /(?:youtube\\.com\\/shorts\\/)([a-zA-Z0-9_-]{11})/,  // https://www.youtube.com/shorts/VIDEO_ID\r\n    /(?:youtube\\.com\\/v\\/)([a-zA-Z0-9_-]{11})/,  // https://www.youtube.com/v/VIDEO_ID\r\n  ]\r\n  \r\n  for (const pattern of patterns) {\r\n    const match = url.match(pattern)\r\n    if (match && match[1]) {\r\n      return match[1]\r\n    }\r\n  }\r\n  \r\n  return null\r\n}\r\n\r\n/**\r\n * ìœ íŠœë¸Œ ì˜ìƒ IDë¡œ ê³ í•´ìƒë„ ì¸ë„¤ì¼ URL ìƒì„±\r\n * @param videoId - ìœ íŠœë¸Œ ì˜ìƒ ID\r\n * @param quality - ì¸ë„¤ì¼ í’ˆì§ˆ (maxresdefault, hqdefault, mqdefault, sddefault)\r\n * @returns ì¸ë„¤ì¼ URL\r\n */\r\nexport const getYouTubeThumbnail = (videoId: string, quality: string = 'maxresdefault'): string => {\r\n  return `https://img.youtube.com/vi/${videoId}/${quality}.jpg`\r\n}\r\n\r\n/**\r\n * ìœ íŠœë¸Œ ì„ë² ë“œ URL ìƒì„± (íƒ€ì„ìŠ¤íƒ¬í”„ ì§€ì›, ì „ë¬¸ì„± ìµœì í™”)\r\n * @param videoId - ìœ íŠœë¸Œ ì˜ìƒ ID\r\n * @param startTime - ì‹œì‘ ì‹œê°„ (ì´ˆ ë‹¨ìœ„)\r\n * @param autoplay - ìë™ ì¬ìƒ ì—¬ë¶€ (ê¸°ë³¸ê°’: false)\r\n * @returns ì„ë² ë“œ URL\r\n */\r\nexport const getYouTubeEmbedUrl = (videoId: string, startTime?: number, autoplay: boolean = false): string => {\r\n  const baseUrl = `https://www.youtube.com/embed/${videoId}`\r\n  const params = new URLSearchParams()\r\n  \r\n  if (startTime !== undefined && startTime > 0) {\r\n    params.append('start', startTime.toString())\r\n  }\r\n  \r\n  if (autoplay) {\r\n    params.append('autoplay', '1')\r\n  }\r\n  \r\n  // ğŸŒŸ ì „ë¬¸ì„±ì„ ìœ„í•œ í”Œë ˆì´ì–´ ìµœì í™” íŒŒë¼ë¯¸í„°\r\n  params.append('rel', '0')  // ê´€ë ¨ ì˜ìƒ ì¶”ì²œ ë¹„í™œì„±í™”\r\n  params.append('modestbranding', '1')  // ìœ íŠœë¸Œ ë¡œê³  ìµœì†Œí™” & 'ë™ì˜ìƒ ë”ë³´ê¸°' íˆ´íŒ ì œê±°\r\n  params.append('iv_load_policy', '3')  // ì˜ìƒ ì£¼ì„(annotations) ë¹„í™œì„±í™”\r\n  params.append('showinfo', '0')  // ì˜ìƒ ì •ë³´ í‘œì‹œ ìµœì†Œí™”\r\n  params.append('fs', '1')  // ì „ì²´ í™”ë©´ ë²„íŠ¼ í‘œì‹œ\r\n  params.append('cc_load_policy', '0')  // ìë§‰ ìë™ ë¡œë“œ ë¹„í™œì„±í™”\r\n  params.append('controls', '1')  // ì»¨íŠ¸ë¡¤ëŸ¬ í‘œì‹œ\r\n  \r\n  return `${baseUrl}?${params.toString()}`\r\n}\r\n\r\n/**\r\n * í…ìŠ¤íŠ¸ì—ì„œ íƒ€ì„ìŠ¤íƒ¬í”„ íŒ¨í„´ ì¶”ì¶œ ë° ì´ˆ ë‹¨ìœ„ ë³€í™˜\r\n * @param text - íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ í¬í•¨í•œ í…ìŠ¤íŠ¸\r\n * @returns íƒ€ì„ìŠ¤íƒ¬í”„ ì •ë³´ ë°°ì—´ [{ text: '[1:30]', seconds: 90, position: 10 }]\r\n */\r\nexport interface TimestampMatch {\r\n  text: string  // ì›ë³¸ í…ìŠ¤íŠ¸ (ì˜ˆ: '[1:30]')\r\n  seconds: number  // ì´ˆ ë‹¨ìœ„ ì‹œê°„\r\n  position: number  // í…ìŠ¤íŠ¸ ë‚´ ìœ„ì¹˜\r\n}\r\n\r\nexport const parseTimestamps = (text: string): TimestampMatch[] => {\r\n  if (!text) return []\r\n  \r\n  // íƒ€ì„ìŠ¤íƒ¬í”„ íŒ¨í„´: [MM:SS] ë˜ëŠ” [H:MM:SS]\r\n  const pattern = /\\[(\\d{1,2}):(\\d{2})(?::(\\d{2}))?\\]/g\r\n  const matches: TimestampMatch[] = []\r\n  \r\n  let match\r\n  while ((match = pattern.exec(text)) !== null) {\r\n    const hours = match[3] ? parseInt(match[1] || '0', 10) : 0\r\n    const minutes = match[3] ? parseInt(match[2] || '0', 10) : parseInt(match[1] || '0', 10)\r\n    const seconds = match[3] ? parseInt(match[3] || '0', 10) : parseInt(match[2] || '0', 10)\r\n    \r\n    const totalSeconds = hours * 3600 + minutes * 60 + seconds\r\n    \r\n    matches.push({\r\n      text: match[0],\r\n      seconds: totalSeconds,\r\n      position: match.index,\r\n    })\r\n  }\r\n  \r\n  return matches\r\n}\r\n\r\n/**\r\n * íƒ€ì„ìŠ¤íƒ¬í”„ê°€ í¬í•¨ëœ í…ìŠ¤íŠ¸ë¥¼ í´ë¦­ ê°€ëŠ¥í•œ ë§í¬ë¡œ ë³€í™˜\r\n * @param text - ì›ë³¸ í…ìŠ¤íŠ¸\r\n * @param onTimestampClick - íƒ€ì„ìŠ¤íƒ¬í”„ í´ë¦­ í•¸ë“¤ëŸ¬\r\n * @returns JSX ìš”ì†Œ ë°°ì—´\r\n */\r\nexport const renderTextWithTimestamps = (\r\n  text: string,\r\n  onTimestampClick?: (seconds: number) => void\r\n): (string | JSX.Element)[] => {\r\n  if (!text) return []\r\n  \r\n  const timestamps = parseTimestamps(text)\r\n  if (timestamps.length === 0) return [text]\r\n  \r\n  const result: (string | JSX.Element)[] = []\r\n  let lastIndex = 0\r\n  \r\n  timestamps.forEach((ts, idx) => {\r\n    // íƒ€ì„ìŠ¤íƒ¬í”„ ì´ì „ í…ìŠ¤íŠ¸ ì¶”ê°€\r\n    if (ts.position > lastIndex) {\r\n      result.push(text.substring(lastIndex, ts.position))\r\n    }\r\n    \r\n    // íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ í´ë¦­ ê°€ëŠ¥í•œ ë²„íŠ¼ìœ¼ë¡œ ì¶”ê°€\r\n    if (onTimestampClick) {\r\n      result.push(\r\n        <button\r\n          key={`ts-${idx}`}\r\n          onClick={() => onTimestampClick(ts.seconds)}\r\n          className=\"inline-flex items-center px-2 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded font-mono text-xs font-bold transition-colors mx-1\"\r\n          title={`ì˜ìƒ ${ts.text} ìœ„ì¹˜ë¡œ ì´ë™`}\r\n        >\r\n          {ts.text}\r\n        </button>\r\n      )\r\n    } else {\r\n      result.push(\r\n        <span key={`ts-${idx}`} className=\"inline-flex items-center px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded font-mono text-xs font-bold mx-1\">\r\n          {ts.text}\r\n        </span>\r\n      )\r\n    }\r\n    \r\n    lastIndex = ts.position + ts.text.length\r\n  })\r\n  \r\n  // ë§ˆì§€ë§‰ íƒ€ì„ìŠ¤íƒ¬í”„ ì´í›„ í…ìŠ¤íŠ¸ ì¶”ê°€\r\n  if (lastIndex < text.length) {\r\n    result.push(text.substring(lastIndex))\r\n  }\r\n  \r\n  return result\r\n}\r\n\r\n/**\r\n * ìœ íŠœë¸Œ URL ìœ íš¨ì„± ê²€ì‚¬\r\n * @param url - ê²€ì¦í•  URL\r\n * @returns ìœ íš¨í•œ ìœ íŠœë¸Œ URL ì—¬ë¶€\r\n */\r\nexport const isValidYouTubeUrl = (url: string): boolean => {\r\n  if (!url) return false\r\n  return extractYouTubeId(url) !== null\r\n}\r\n\r\n/**\r\n * ìœ íŠœë¸Œ ì¬ìƒ ëª©ë¡ ID ì¶”ì¶œ\r\n * @param url - ìœ íŠœë¸Œ ì¬ìƒ ëª©ë¡ URL\r\n * @returns ì¬ìƒ ëª©ë¡ ID ë˜ëŠ” null\r\n */\r\nexport const extractYouTubePlaylistId = (url: string): string | null => {\r\n  if (!url) return null\r\n  \r\n  // ì¬ìƒ ëª©ë¡ URL íŒ¨í„´\r\n  const patterns = [\r\n    /[?&]list=([a-zA-Z0-9_-]{13,})/,  // ?list=PLAYLIST_ID ë˜ëŠ” &list=PLAYLIST_ID\r\n    /youtube\\.com\\/playlist\\?list=([a-zA-Z0-9_-]{13,})/,  // playlist ì „ìš© URL\r\n  ]\r\n  \r\n  for (const pattern of patterns) {\r\n    const match = url.match(pattern)\r\n    if (match && match[1]) {\r\n      return match[1]\r\n    }\r\n  }\r\n  \r\n  return null\r\n}\r\n\r\n/**\r\n * ìœ íŠœë¸Œ ì¬ìƒ ëª©ë¡ ì„ë² ë“œ URL ìƒì„±\r\n * @param playlistId - ìœ íŠœë¸Œ ì¬ìƒ ëª©ë¡ ID\r\n * @param startVideoId - ì‹œì‘í•  ì˜ìƒ ID (ì„ íƒì‚¬í•­)\r\n * @returns ì¬ìƒ ëª©ë¡ ì„ë² ë“œ URL\r\n */\r\nexport const getYouTubePlaylistEmbedUrl = (playlistId: string, startVideoId?: string): string => {\r\n  const params = new URLSearchParams()\r\n  \r\n  params.append('list', playlistId)\r\n  params.append('rel', '0')\r\n  params.append('modestbranding', '1')\r\n  params.append('iv_load_policy', '3')\r\n  params.append('showinfo', '0')\r\n  params.append('fs', '1')\r\n  params.append('cc_load_policy', '0')\r\n  params.append('controls', '1')\r\n  params.append('enablejsapi', '1')\r\n  \r\n  if (startVideoId) {\r\n    // íŠ¹ì • ì˜ìƒë¶€í„° ì‹œì‘\r\n    return `https://www.youtube.com/embed/${startVideoId}?${params.toString()}`\r\n  } else {\r\n    // ì¬ìƒ ëª©ë¡ ì²« ì˜ìƒë¶€í„° ì‹œì‘\r\n    return `https://www.youtube.com/embed?${params.toString()}`\r\n  }\r\n}\r\n\r\n/**\r\n * ìœ íŠœë¸Œ ì¬ìƒ ëª©ë¡ ì¸ë„¤ì¼ URL ìƒì„±\r\n * @param playlistId - ìœ íŠœë¸Œ ì¬ìƒ ëª©ë¡ ID\r\n * @returns ì¸ë„¤ì¼ URL\r\n */\r\nexport const getYouTubePlaylistThumbnail = (playlistId: string): string => {\r\n  // ì¬ìƒ ëª©ë¡ ì¸ë„¤ì¼ì€ íŠ¹ì • APIë¥¼ í†µí•´ì„œë§Œ ê°€ëŠ¥í•˜ë¯€ë¡œ\r\n  // ëŒ€ì‹  ì²« ë²ˆì§¸ ì˜ìƒì˜ ì¸ë„¤ì¼ì„ ì‚¬ìš©í•˜ê±°ë‚˜ ê¸°ë³¸ ì´ë¯¸ì§€ ì‚¬ìš©\r\n  return `https://i.ytimg.com/vi//hqdefault.jpg` // í”Œë ˆì´ìŠ¤í™€ë”\r\n}\r\n\r\n/**\r\n * ë§ˆí¬ë‹¤ìš´ì„ HTMLë¡œ ë³€í™˜\r\n * @param markdown - ë§ˆí¬ë‹¤ìš´ í…ìŠ¤íŠ¸\r\n * @returns HTML ë¬¸ìì—´\r\n */\r\nexport const renderMarkdown = (markdown: string): string => {\r\n  if (!markdown) return ''\r\n  \r\n  return markdown\r\n    // ì œëª©\r\n    .replace(/^### (.*$)/gim, '<h3 class=\"text-lg font-semibold mt-4 mb-2 text-gray-900 dark:text-white\">$1</h3>')\r\n    .replace(/^## (.*$)/gim, '<h2 class=\"text-xl font-semibold mt-4 mb-2 text-gray-900 dark:text-white\">$1</h2>')\r\n    .replace(/^# (.*$)/gim, '<h1 class=\"text-2xl font-bold mt-4 mb-2 text-gray-900 dark:text-white\">$1</h1>')\r\n    // ë³¼ë“œ\r\n    .replace(/\\*\\*(.*?)\\*\\*/g, '<strong class=\"font-bold\">$1</strong>')\r\n    // ì´íƒ¤ë¦­\r\n    .replace(/\\*(.*?)\\*/g, '<em class=\"italic\">$1</em>')\r\n    // ë°‘ì¤„\r\n    .replace(/__(.*?)__/g, '<u class=\"underline\">$1</u>')\r\n    // ì¸ë¼ì¸ ì½”ë“œ\r\n    .replace(/`(.*?)`/g, '<code class=\"bg-gray-200 dark:bg-gray-600 text-red-600 dark:text-red-400 px-1 rounded text-sm\">$1</code>')\r\n    // í† ê¸€\r\n    .replace(/^â–¶ (.*$)/gim, '<div class=\"flex items-center mt-2 mb-1\"><span class=\"mr-2\">â–¶</span><span class=\"font-medium text-gray-900 dark:text-white\">$1</span></div>')\r\n    // ë¶ˆë¦¿ ë¦¬ìŠ¤íŠ¸\r\n    .replace(/^[\\s]*[-*+]\\s(.*$)/gim, '<div class=\"ml-4 mb-1\"><span class=\"mr-2\">â€¢</span>$1</div>')\r\n    // ìˆ«ì ë¦¬ìŠ¤íŠ¸\r\n    .replace(/^[\\s]*\\d+\\.\\s(.*$)/gim, '<div class=\"ml-4 mb-1\"><span class=\"mr-2\">1.</span>$1</div>')\r\n    // ì½”ë“œ ë¸”ë¡\r\n    .replace(/```(.*?)\\n([\\s\\S]*?)\\n```/gim, (_match, p1, p2) => {\r\n      const lang = p1 ? `language-${p1.trim()}` : ''\r\n      return `<pre class=\"bg-gray-800 p-3 rounded-lg overflow-x-auto my-3\"><code class=\"${lang} text-sm text-gray-100\">${p2.trim()}</code></pre>`\r\n    })\r\n    // ì¤„ë°”ê¿ˆ\r\n    .replace(/\\n/g, '<br>')\r\n}\r\n\r\n/**\r\n * ë§ˆí¬ë‹¤ìš´ì„ HTMLë¡œ ë³€í™˜í•˜ê³  íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ í´ë¦­ ê°€ëŠ¥í•œ ë²„íŠ¼ìœ¼ë¡œ ë³€í™˜\r\n * @param markdown - ë§ˆí¬ë‹¤ìš´ í˜•ì‹ì˜ ì½˜í…ì¸ \r\n * @param onTimestampClick - íƒ€ì„ìŠ¤íƒ¬í”„ í´ë¦­ í•¸ë“¤ëŸ¬\r\n * @returns ë³€í™˜ëœ HTML ë¬¸ìì—´\r\n */\r\nexport const renderHtmlWithTimestamps = (\r\n  markdown: string,\r\n  onTimestampClick?: (seconds: number) => void\r\n): string => {\r\n  if (!markdown) return ''\r\n  \r\n  // 1ë‹¨ê³„: ë§ˆí¬ë‹¤ìš´ì„ HTMLë¡œ ë³€í™˜\r\n  let html = renderMarkdown(markdown)\r\n  \r\n  // 2ë‹¨ê³„: íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ë²„íŠ¼ìœ¼ë¡œ ë³€í™˜\r\n  const pattern = /\\[(\\d{1,2}):(\\d{2})(?::(\\d{2}))?\\]/g\r\n  \r\n  html = html.replace(pattern, (match, ...groups) => {\r\n    const hours = groups[2] ? parseInt(groups[0], 10) : 0\r\n    const minutes = groups[2] ? parseInt(groups[1], 10) : parseInt(groups[0], 10)\r\n    const seconds = groups[2] ? parseInt(groups[2], 10) : parseInt(groups[1], 10)\r\n    \r\n    const totalSeconds = hours * 3600 + minutes * 60 + seconds\r\n    \r\n    // ë°ì´í„° ì†ì„±ìœ¼ë¡œ ì´ˆë¥¼ ì €ì¥í•˜ì—¬ í´ë¦­ ì´ë²¤íŠ¸ì—ì„œ ì‚¬ìš©\r\n    return `<button \r\n      class=\"inline-flex items-center px-2 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded font-mono text-xs font-bold transition-colors mx-1 cursor-pointer\"\r\n      data-timestamp=\"${totalSeconds}\"\r\n      title=\"ì˜ìƒ ${match} ìœ„ì¹˜ë¡œ ì´ë™\"\r\n    >${match}</button>`\r\n  })\r\n  \r\n  return html\r\n}\r\n\r\n","import React, { useState } from 'react'\r\nimport { FaSave, FaStar, FaTimes } from 'react-icons/fa'\r\nimport { Book, BookFormData, Skill, SkillCategory } from '../../types'\r\nimport { useSkills } from '../../hooks/useSkills'\r\nimport { useCategories } from '../../hooks/useCategories'\r\n\r\n// í¼ ì»´í¬ë„ŒíŠ¸ì˜ Props íƒ€ì… ì •ì˜\r\ninterface FormProps {\r\n  data: Book | null\r\n  onSave: (data: BookFormData) => Promise<void>\r\n  onCancel: () => void\r\n  isSaving?: boolean\r\n  availableCategories?: string[] // ë™ì  ì¹´í…Œê³ ë¦¬ ëª©ë¡\r\n}\r\n\r\nconst BookForm: React.FC<FormProps> = ({ \r\n  data, \r\n  onSave, \r\n  onCancel, \r\n  isSaving = false, \r\n  availableCategories = ['PLC', 'ë°ì´í„°ë¶„ì„', 'ë¡œë´‡ê³µí•™', 'IoT', 'ê¸°íƒ€'] \r\n}) => {\r\n  // ğŸŒŸ ìŠ¤í‚¬ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°\r\n  const { skillCategories, loading: skillsLoading } = useSkills()\r\n  \r\n  // ğŸŒŸ ì¹´í…Œê³ ë¦¬ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\r\n  const { data: categories = [], isLoading: categoriesLoading } = useCategories()\r\n  \r\n  // readDate ì´ˆê¸°ê°’ ìˆ˜ì •\r\n  const initialReadDate = data?.readDate && !isNaN(new Date(data.readDate).getTime())\r\n    ? new Date(data.readDate).toISOString().split('T')[0]\r\n    : new Date().toISOString().split('T')[0]\r\n\r\n  // ğŸŒŸ categoryIds ì´ˆê¸°ê°’ ì²˜ë¦¬\r\n  const initialCategoryIds = data?.categoryIds \r\n    ? (data.categoryIds as any[]).map((catIdOrObj: any) => \r\n        typeof catIdOrObj === 'string' ? catIdOrObj : catIdOrObj._id\r\n      ).filter(Boolean) as string[]\r\n    : []\r\n\r\n  // ğŸŒŸ skillIds ì´ˆê¸°ê°’ ì²˜ë¦¬ (ê°ì²´ ë˜ëŠ” ë¬¸ìì—´ ëª¨ë‘ ì²˜ë¦¬)\r\n  const initialSkillIds = data?.skillIds \r\n    ? (data.skillIds as any[]).map((skillIdOrObj: any) => \r\n        typeof skillIdOrObj === 'string' ? skillIdOrObj : skillIdOrObj._id\r\n      ).filter(Boolean) as string[]\r\n    : []\r\n\r\n  const [formData, setFormData] = useState<BookFormData>(\r\n    data\r\n      ? { \r\n          title: data.title,\r\n          author: data.author,\r\n          category: data.category,\r\n          categoryIds: initialCategoryIds,\r\n          coverImage: data.coverImage || '',\r\n          readDate: initialReadDate as string,\r\n          rating: data.rating,\r\n          skillIds: initialSkillIds  // ğŸŒŸ ìŠ¤í‚¬ ID ë¬¸ìì—´ ë°°ì—´ë¡œ ì´ˆê¸°í™”\r\n        } \r\n      : {\r\n          title: '',\r\n          author: '',\r\n          category: availableCategories[0] || 'PLC', // ë™ì  ì¹´í…Œê³ ë¦¬ ì²« ë²ˆì§¸ í•­ëª© ì‚¬ìš©\r\n          categoryIds: [],\r\n          coverImage: '',\r\n          readDate: initialReadDate as string, // initialReadDateë¥¼ ì‚¬ìš©\r\n          rating: 5,\r\n          skillIds: []  // ğŸŒŸ ìŠ¤í‚¬ ID ì´ˆê¸°ê°’\r\n        }\r\n  )\r\n  \r\n  \r\n  // ğŸŒŸ ì¹´í…Œê³ ë¦¬ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬ (ì²´í¬ë°•ìŠ¤ìš©)\r\n  const handleCategoryToggle = (categoryId: string) => {\r\n    const currentCategoryIds = formData.categoryIds || []\r\n    const isSelected = currentCategoryIds.includes(categoryId)\r\n    \r\n    const newCategoryIds = isSelected\r\n      ? currentCategoryIds.filter((id: string) => id !== categoryId)\r\n      : [...currentCategoryIds, categoryId]\r\n    \r\n    setFormData({ \r\n      ...formData, \r\n      categoryIds: newCategoryIds \r\n    })\r\n  }\r\n\r\n  // ğŸŒŸ ìŠ¤í‚¬ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬ (ì²´í¬ë°•ìŠ¤ìš©)\r\n  const handleSkillToggle = (skillId: string) => {\r\n    const currentSkillIds = formData.skillIds || []\r\n    const isSelected = currentSkillIds.includes(skillId)\r\n    \r\n    const newSkillIds = isSelected\r\n      ? currentSkillIds.filter((id: string) => id !== skillId)\r\n      : [...currentSkillIds, skillId]\r\n    \r\n    setFormData({ \r\n      ...formData, \r\n      skillIds: newSkillIds \r\n    })\r\n  }\r\n  \r\n  // ğŸŒŸ ìŠ¤í‚¬ ì¹´í…Œê³ ë¦¬ ì „ì²´ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬\r\n  const handleSkillCategoryToggle = (category: SkillCategory) => {\r\n    const categorySkillIds = (category.skills || []).map(skill => skill._id!).filter(Boolean)\r\n    const currentSkillIds = formData.skillIds || []\r\n    \r\n    const allSelected = categorySkillIds.every((id: string) => currentSkillIds.includes(id))\r\n    \r\n    let newSkillIds: string[]\r\n    if (allSelected) {\r\n      newSkillIds = currentSkillIds.filter((id: string) => !categorySkillIds.includes(id))\r\n    } else {\r\n      const uniqueIds = new Set([...currentSkillIds, ...categorySkillIds])\r\n      newSkillIds = Array.from(uniqueIds)\r\n    }\r\n    \r\n    setFormData({ \r\n      ...formData, \r\n      skillIds: newSkillIds \r\n    })\r\n  }\r\n\r\n  // í•„ìˆ˜ í•„ë“œ ê²€ì¦\r\n  const isFormValid = formData.title.trim() !== '' && \r\n                     formData.author.trim() !== '' && \r\n                     formData.category.trim() !== ''\r\n\r\n  const handleFormSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    if (!isFormValid) {\r\n      alert('í•„ìˆ˜ í•„ë“œ(ì œëª©, ì €ì, ì¹´í…Œê³ ë¦¬)ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.')\r\n      return\r\n    }\r\n    \r\n    console.log('ğŸ“š ì„œì  ì €ì¥ ì‹œì‘:', formData)\r\n    console.log('ğŸ”— ì„ íƒëœ ìŠ¤í‚¬ IDs:', formData.skillIds)\r\n    \r\n    // ğŸŒŸ skillIdsì™€ categoryIdsë¥¼ ë¬¸ìì—´ ë°°ì—´ë¡œ í™•ì‹¤í•˜ê²Œ ë³€í™˜ + ì¤‘ë³µ ì œê±°\r\n    const skillIds = Array.from(new Set(\r\n      (formData.skillIds || []).map((skillIdOrObj: any) => \r\n        typeof skillIdOrObj === 'string' ? skillIdOrObj : skillIdOrObj?._id\r\n      ).filter(Boolean)\r\n    ))\r\n    \r\n    const categoryIds = Array.from(new Set(\r\n      (formData.categoryIds || []).map((catIdOrObj: any) => \r\n        typeof catIdOrObj === 'string' ? catIdOrObj : catIdOrObj?._id\r\n      ).filter(Boolean)\r\n    ))\r\n    \r\n    const { title, author, category, coverImage, readDate, rating } = formData\r\n    \r\n    const saveData = { \r\n      title, \r\n      author, \r\n      category, \r\n      coverImage: coverImage || '', \r\n      readDate, \r\n      rating,\r\n      skillIds,  // ğŸŒŸ ë³€í™˜ëœ skillIds\r\n      categoryIds  // ğŸŒŸ ë³€í™˜ëœ categoryIds\r\n    }\r\n    \r\n    console.log('ğŸ“¤ ìµœì¢… ì „ì†¡ ë°ì´í„°:', saveData)\r\n    onSave(saveData)\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleFormSubmit} className=\"space-y-4\">\r\n      <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-4\">\r\n        {data ? 'ì„œì  ìˆ˜ì •' : 'ì„œì  ì¶”ê°€'}\r\n      </h3>\r\n      <div className=\"grid md:grid-cols-2 gap-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ì œëª©\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={formData.title}\r\n            onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ì €ì\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={formData.author}\r\n            onChange={(e) => setFormData({ ...formData, author: e.target.value })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n          />\r\n        </div>\r\n        <div className=\"md:col-span-2\">\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\r\n            ì¹´í…Œê³ ë¦¬ ì„ íƒ ğŸ“‚ (ë‹¤ì¤‘ ì„ íƒ ê°€ëŠ¥)\r\n          </label>\r\n\r\n          {/* ì„ íƒëœ ì¹´í…Œê³ ë¦¬ íƒœê·¸ í‘œì‹œ */}\r\n          {formData.categoryIds && formData.categoryIds.length > 0 && (\r\n            <div className=\"flex flex-wrap gap-2 mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\r\n              {formData.categoryIds.map((catId) => {\r\n                const category = categories.find(c => c._id === catId)\r\n                return category ? (\r\n                  <span\r\n                    key={catId}\r\n                    className=\"inline-flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded-full text-sm\"\r\n                  >\r\n                    {category.name}\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleCategoryToggle(catId)}\r\n                      className=\"hover:bg-blue-700 rounded-full p-0.5\"\r\n                    >\r\n                      <FaTimes className=\"text-xs\" />\r\n                    </button>\r\n                  </span>\r\n                ) : null\r\n              })}\r\n            </div>\r\n          )}\r\n\r\n          {/* ì¹´í…Œê³ ë¦¬ ì²´í¬ë°•ìŠ¤ ëª©ë¡ */}\r\n          {categoriesLoading ? (\r\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">ì¹´í…Œê³ ë¦¬ ë¡œë”© ì¤‘...</p>\r\n          ) : categories.length > 0 ? (\r\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\r\n              {categories.map((category) => {\r\n                const isSelected = (formData.categoryIds || []).includes(category._id)\r\n                return (\r\n                  <label\r\n                    key={category._id}\r\n                    className={`flex items-center gap-2 p-3 border-2 rounded-lg cursor-pointer transition-all ${\r\n                      isSelected\r\n                        ? 'border-primary-600 bg-primary-50 dark:bg-primary-900/20'\r\n                        : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\r\n                    }`}\r\n                  >\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={isSelected}\r\n                      onChange={() => handleCategoryToggle(category._id)}\r\n                      className=\"w-4 h-4\"\r\n                    />\r\n                    <span className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                      {category.name}\r\n                    </span>\r\n                  </label>\r\n                )\r\n              })}\r\n            </div>\r\n          ) : (\r\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n              ë“±ë¡ëœ ì¹´í…Œê³ ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤. ê´€ë¦¬ì ë©”ë‰´ì˜ \"ì¹´í…Œê³ ë¦¬ ê´€ë¦¬\"ì—ì„œ ì¶”ê°€í•˜ì„¸ìš”.\r\n            </p>\r\n          )}\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            í‰ì \r\n          </label>\r\n          <div className=\"flex items-center gap-2\">\r\n            {/* ì‹œê°ì  ë³„ ì„ íƒ */}\r\n            <div className=\"flex gap-1\">\r\n              {[1, 2, 3, 4, 5].map((star) => (\r\n                <button\r\n                  key={star}\r\n                  type=\"button\"\r\n                  onClick={() => setFormData({ ...formData, rating: star })}\r\n                  className={`text-2xl transition-colors ${\r\n                    star <= formData.rating \r\n                      ? 'text-yellow-500 hover:text-yellow-600' \r\n                      : 'text-gray-300 hover:text-gray-400'\r\n                  }`}\r\n                >\r\n                  <FaStar />\r\n                </button>\r\n              ))}\r\n            </div>\r\n            {/* ìˆ«ì ì…ë ¥ (ë³´ì¡°) */}\r\n            <input\r\n              type=\"number\"\r\n              min=\"1\"\r\n              max=\"5\"\r\n              step=\"0.5\"\r\n              value={formData.rating}\r\n              onChange={(e) => {\r\n                const value = e.target.value\r\n                // ì…ë ¥ê°’ì´ ë¹„ì–´ìˆê±°ë‚˜, ìœ íš¨í•œ ìˆ«ìê°€ ì•„ë‹ˆë©´ ì´ì „ ê°’ ìœ ì§€\r\n                const newRating = value === '' ? 0 : parseFloat(value)\r\n                setFormData({ \r\n                  ...formData, \r\n                  rating: isNaN(newRating) ? formData.rating : Math.max(1, Math.min(5, newRating))\r\n                })\r\n              }}\r\n              className=\"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ì½ì€ ë‚ ì§œ\r\n          </label>\r\n          <input\r\n            type=\"date\"\r\n            value={formData.readDate}\r\n            onChange={(e) => setFormData({ ...formData, readDate: e.target.value })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            í‘œì§€ ì´ë¯¸ì§€ URL\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={formData.coverImage}\r\n            onChange={(e) => setFormData({ ...formData, coverImage: e.target.value })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n            placeholder=\"https://...\"\r\n          />\r\n        </div>\r\n        \r\n        {/* ğŸŒŸ ì„œì ì—ì„œ ë‹¤ë£¨ëŠ” í•µì‹¬ ìŠ¤í‚¬ ì„ íƒ - ì²´í¬ë°•ìŠ¤ UI */}\r\n        <div className=\"md:col-span-2\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n              ì´ ì„œì ì—ì„œ ë‹¤ë£¨ëŠ” í•µì‹¬ ìŠ¤í‚¬ ğŸ”—\r\n            </label>\r\n            {formData.skillIds && formData.skillIds.length > 0 && (\r\n              <span className=\"text-xs font-semibold text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded\">\r\n                âœ“ {formData.skillIds.length}ê°œ ì„ íƒë¨\r\n              </span>\r\n            )}\r\n          </div>\r\n          \r\n          {skillsLoading ? (\r\n            <div className=\"text-sm text-gray-500 dark:text-gray-400 py-2\">\r\n              ìŠ¤í‚¬ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...\r\n            </div>\r\n          ) : skillCategories.length === 0 ? (\r\n            <div className=\"text-sm text-gray-500 dark:text-gray-400 py-4 text-center border border-gray-300 dark:border-gray-600 rounded-lg\">\r\n              ë“±ë¡ëœ ìŠ¤í‚¬ì´ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € ìŠ¤í‚¬ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.\r\n            </div>\r\n          ) : (\r\n            <div className=\"border border-gray-300 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-800 max-h-[400px] overflow-y-auto\">\r\n              {skillCategories.map((category: SkillCategory) => {\r\n                const categorySkillIds = (category.skills || []).map(skill => skill._id!).filter(Boolean)\r\n                const currentSkillIds = formData.skillIds || []\r\n                \r\n                const selectedCount = categorySkillIds.filter(id => currentSkillIds.includes(id)).length\r\n                const allSelected = categorySkillIds.length > 0 && selectedCount === categorySkillIds.length\r\n                const someSelected = selectedCount > 0 && selectedCount < categorySkillIds.length\r\n                \r\n                return (\r\n                  <div key={category._id} className=\"mb-4 last:mb-0\">\r\n                    {/* ì¹´í…Œê³ ë¦¬ í—¤ë” (ì „ì²´ ì„ íƒ/í•´ì œ) */}\r\n                    <div \r\n                      className=\"flex items-center gap-2 mb-2 pb-2 border-b border-gray-300 dark:border-gray-600 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded\"\r\n                      onClick={() => handleSkillCategoryToggle(category)}\r\n                    >\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={allSelected}\r\n                        ref={el => {\r\n                          if (el) {\r\n                            el.indeterminate = someSelected\r\n                          }\r\n                        }}\r\n                        onChange={() => handleSkillCategoryToggle(category)}\r\n                        className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                        onClick={(e) => e.stopPropagation()}\r\n                      />\r\n                      <label \r\n                        className=\"font-semibold text-gray-900 dark:text-white flex-1 cursor-pointer\"\r\n                        style={{ color: category.color || '#3B82F6' }}\r\n                      >\r\n                        {category.title}\r\n                        {selectedCount > 0 && (\r\n                          <span className=\"ml-2 text-xs font-normal text-gray-500 dark:text-gray-400\">\r\n                            ({selectedCount}/{categorySkillIds.length})\r\n                          </span>\r\n                        )}\r\n                      </label>\r\n                    </div>\r\n                    \r\n                    {/* ìŠ¤í‚¬ ëª©ë¡ */}\r\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 pl-6\">\r\n                      {(category.skills || []).map((skill: Skill) => {\r\n                        const currentSkillIds = formData.skillIds || []\r\n                        const isSelected = currentSkillIds.includes(skill._id!)\r\n                        \r\n                        return (\r\n                          <label\r\n                            key={skill._id}\r\n                            className={`flex items-center gap-2 p-2 rounded cursor-pointer transition-colors ${\r\n                              isSelected \r\n                                ? 'bg-blue-50 dark:bg-blue-900/20 border border-blue-300 dark:border-blue-700' \r\n                                : 'hover:bg-gray-100 dark:hover:bg-gray-700 border border-transparent'\r\n                            }`}\r\n                          >\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={isSelected}\r\n                              onChange={() => handleSkillToggle(skill._id!)}\r\n                              className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                            />\r\n                            <span className={`text-sm ${isSelected ? 'font-semibold text-blue-700 dark:text-blue-300' : 'text-gray-700 dark:text-gray-300'}`}>\r\n                              {skill.name}\r\n                            </span>\r\n                          </label>\r\n                        )\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n                )\r\n              })}\r\n            </div>\r\n          )}\r\n          \r\n          <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">\r\n            ğŸ’¡ ì´ ì„œì ì—ì„œ ì£¼ìš”í•˜ê²Œ ë‹¤ë£¨ëŠ” ìŠ¤í‚¬ì„ ì„ íƒí•˜ì„¸ìš”. ê°œë³„ í•™ìŠµ ë‚´ìš©ì—ì„œë„ ì¶”ê°€ë¡œ ìŠ¤í‚¬ì„ ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex gap-3 pt-4\">\r\n        <button\r\n          type=\"submit\"\r\n          disabled={isSaving || !isFormValid}\r\n          className={`flex-1 flex items-center justify-center gap-2 bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 rounded-lg transition-colors ${\r\n            isSaving || !isFormValid ? 'opacity-50 cursor-not-allowed' : ''\r\n          }`}\r\n        >\r\n          {isSaving ? (\r\n            <>\r\n              <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n              ì €ì¥ ì¤‘...\r\n            </>\r\n          ) : (\r\n            <>\r\n              <FaSave /> ì €ì¥\r\n            </>\r\n          )}\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          onClick={onCancel}\r\n          className=\"flex-1 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white font-medium py-2 rounded-lg transition-colors\"\r\n        >\r\n          ì·¨ì†Œ\r\n        </button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default BookForm\r\n","import React, { useState, useEffect } from 'react'\r\nimport { FaSave, FaTimes } from 'react-icons/fa'\r\nimport { Chapter } from '../../types'\r\n\r\ninterface ChapterFormProps {\r\n  chapter?: Chapter | null\r\n  onSave: (data: { title: string; order: number }) => Promise<void>\r\n  onCancel: () => void\r\n  maxOrder?: number\r\n}\r\n\r\nconst ChapterForm: React.FC<ChapterFormProps> = ({\r\n  chapter,\r\n  onSave,\r\n  onCancel,\r\n  maxOrder = 0\r\n}) => {\r\n  const [title, setTitle] = useState('')\r\n  const [order, setOrder] = useState(0)\r\n  const [isSaving, setIsSaving] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (chapter) {\r\n      setTitle(chapter.title)\r\n      setOrder(chapter.order)\r\n    } else {\r\n      setTitle('')\r\n      setOrder(maxOrder)\r\n    }\r\n  }, [chapter, maxOrder])\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    if (!title.trim()) {\r\n      alert('ëª©ì°¨ ì œëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.')\r\n      return\r\n    }\r\n\r\n    try {\r\n      setIsSaving(true)\r\n      await onSave({ title: title.trim(), order })\r\n    } catch (error) {\r\n      console.error('ëª©ì°¨ ì €ì¥ ì‹¤íŒ¨:', error)\r\n    } finally {\r\n      setIsSaving(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\r\n          {chapter ? 'ëª©ì°¨ ìˆ˜ì •' : 'ëª©ì°¨ ì¶”ê°€'}\r\n        </h3>\r\n        <button\r\n          onClick={onCancel}\r\n          className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\r\n        >\r\n          <FaTimes className=\"text-gray-500 dark:text-gray-400\" />\r\n        </button>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        <div>\r\n          <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ëª©ì°¨ ì œëª©\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"title\"\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n            placeholder=\"ëª©ì°¨ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”\"\r\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor=\"order\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ìˆœì„œ\r\n          </label>\r\n          <input\r\n            type=\"number\"\r\n            id=\"order\"\r\n            value={order}\r\n            onChange={(e) => setOrder(parseInt(e.target.value) || 0)}\r\n            min=\"0\"\r\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex gap-3 pt-4\">\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isSaving || !title.trim()}\r\n            className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2\"\r\n          >\r\n            <FaSave />\r\n            {isSaving ? 'ì €ì¥ ì¤‘...' : (chapter ? 'ìˆ˜ì •' : 'ì¶”ê°€')}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onCancel}\r\n            className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\"\r\n          >\r\n            ì·¨ì†Œ\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ChapterForm\r\n","import React, { useState, useEffect } from 'react'\r\nimport { FaSave, FaTimes } from 'react-icons/fa'\r\nimport ReactQuill from 'react-quill'\r\nimport 'react-quill/dist/quill.snow.css'\r\nimport { Learning } from '../../types'\r\n\r\n// ë§ˆí¬ë‹¤ìš´ ë¬¸ë²• ë³€í™˜ í•¨ìˆ˜ (í–¥í›„ ì‚¬ìš©ì„ ìœ„í•´ ìœ ì§€)\r\n// const convertMarkdownToHtml = (text: string): string => {\r\n//   return text\r\n//     .replace(/^### (.*$)/gim, '<h3>$1</h3>')\r\n//     .replace(/^## (.*$)/gim, '<h2>$1</h2>')\r\n//     .replace(/^# (.*$)/gim, '<h1>$1</h1>')\r\n//     .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\r\n//     .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\r\n//     .replace(/```([\\s\\S]*?)```/g, '<pre><code>$1</code></pre>')\r\n//     .replace(/`([^`]+)`/g, '<code>$1</code>')\r\n//     .replace(/\\[([^\\]]+)\\]\\(([^)]+)\\)/g, '<a href=\"$2\">$1</a>')\r\n//     .replace(/\\n/g, '<br>')\r\n// }\r\n\r\ninterface LearningFormProps {\r\n  learning?: Learning | null\r\n  onSave: (data: { topic: string; content: string }) => Promise<void>\r\n  onCancel: () => void\r\n}\r\n\r\nconst LearningForm: React.FC<LearningFormProps> = ({\r\n  learning,\r\n  onSave,\r\n  onCancel\r\n}) => {\r\n  const [topic, setTopic] = useState('')\r\n  const [content, setContent] = useState('')\r\n  const [isSaving, setIsSaving] = useState(false)\r\n\r\n  // Quill ì—ë””í„° ì„¤ì •\r\n  const quillModules = {\r\n    toolbar: [\r\n      [{ 'header': [1, 2, 3, false] }],\r\n      ['bold', 'italic', 'underline', 'strike'],\r\n      [{ 'list': 'ordered'}, { 'list': 'bullet' }],\r\n      [{ 'indent': '-1'}, { 'indent': '+1' }],\r\n      ['blockquote', 'code-block'],\r\n      [{ 'color': [] }, { 'background': [] }],\r\n      ['link', 'image'],\r\n      ['clean']\r\n    ]\r\n  }\r\n\r\n  const quillFormats = [\r\n    'header', 'bold', 'italic', 'underline', 'strike',\r\n    'list', 'bullet', 'indent',\r\n    'blockquote', 'code-block',\r\n    'color', 'background',\r\n    'link', 'image'\r\n  ]\r\n\r\n  useEffect(() => {\r\n    if (learning) {\r\n      setTopic(learning.topic)\r\n      setContent(learning.content)\r\n    } else {\r\n      setTopic('')\r\n      setContent('')\r\n    }\r\n  }, [learning])\r\n\r\n  // HTML íƒœê·¸ë¥¼ ì œê±°í•˜ê³  ìˆœìˆ˜ í…ìŠ¤íŠ¸ë§Œ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜\r\n  const stripHtml = (html: string) => {\r\n    const tmp = document.createElement('div')\r\n    tmp.innerHTML = html\r\n    return tmp.textContent || tmp.innerText || ''\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    if (!topic.trim()) {\r\n      alert('í•™ìŠµ ì£¼ì œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.')\r\n      return\r\n    }\r\n\r\n    // HTML íƒœê·¸ë¥¼ ì œê±°í•œ ìˆœìˆ˜ í…ìŠ¤íŠ¸ë¡œ ê²€ì¦\r\n    const plainTextContent = stripHtml(content).trim()\r\n    if (!plainTextContent) {\r\n      alert('í•™ìŠµ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.')\r\n      return\r\n    }\r\n\r\n    try {\r\n      setIsSaving(true)\r\n      await onSave({ topic: topic.trim(), content: content.trim() })\r\n    } catch (error) {\r\n      console.error('í•™ìŠµ ë‚´ìš© ì €ì¥ ì‹¤íŒ¨:', error)\r\n    } finally {\r\n      setIsSaving(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\r\n          {learning ? 'í•™ìŠµ ë‚´ìš© ìˆ˜ì •' : 'í•™ìŠµ ë‚´ìš© ì¶”ê°€'}\r\n        </h3>\r\n        <button\r\n          onClick={onCancel}\r\n          className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\r\n        >\r\n          <FaTimes className=\"text-gray-500 dark:text-gray-400\" />\r\n        </button>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        <div>\r\n          <label htmlFor=\"topic\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            í•™ìŠµ ì£¼ì œ\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"topic\"\r\n            value={topic}\r\n            onChange={(e) => setTopic(e.target.value)}\r\n            placeholder=\"í•™ìŠµ ì£¼ì œë¥¼ ì…ë ¥í•˜ì„¸ìš”\"\r\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor=\"content\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            í•™ìŠµ ë‚´ìš©\r\n            <span className=\"text-xs text-gray-500 ml-2\">\r\n              (ë§ˆí¬ë‹¤ìš´ ë¬¸ë²• ì§€ì›: **êµµê²Œ**, *ê¸°ìš¸ì„*, # ì œëª©, - ëª©ë¡)\r\n            </span>\r\n          </label>\r\n          <div className=\"rich-text-editor-container\">\r\n            <ReactQuill\r\n              theme=\"snow\"\r\n              value={content}\r\n              onChange={(value) => {\r\n                console.log('ReactQuill onChange:', value)\r\n                setContent(value)\r\n              }}\r\n              placeholder=\"í•™ìŠµ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”. ë§ˆí¬ë‹¤ìš´ ë¬¸ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\r\n              modules={quillModules}\r\n              formats={quillFormats}\r\n              className=\"rich-text-editor\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex gap-3 pt-4\">\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isSaving || !topic.trim() || !stripHtml(content).trim()}\r\n            className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2\"\r\n          >\r\n            <FaSave />\r\n            {isSaving ? 'ì €ì¥ ì¤‘...' : (learning ? 'ìˆ˜ì •' : 'ì¶”ê°€')}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onCancel}\r\n            className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\"\r\n          >\r\n            ì·¨ì†Œ\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LearningForm\r\n","import React, { useState, useMemo } from 'react'\r\nimport { FaSave, FaStar, FaTimes } from 'react-icons/fa'\r\nimport { VideoLearning, VideoLearningFormData, Skill, SkillCategory } from '../../types'\r\nimport { extractYouTubeId, getYouTubeThumbnail } from '../../utils/videoUtils'\r\nimport { useSkills } from '../../hooks/useSkills'\r\nimport { useCategories } from '../../hooks/useCategories'\r\n\r\ninterface FormProps {\r\n  data?: VideoLearning\r\n  onSave: (data: VideoLearningFormData) => void\r\n  onCancel: () => void\r\n  isSaving?: boolean\r\n  availableCategories?: string[]\r\n}\r\n\r\nconst VideoLearningForm: React.FC<FormProps> = ({ \r\n  data, \r\n  onSave, \r\n  onCancel, \r\n  isSaving = false, \r\n  availableCategories = ['PLC', 'ë°ì´í„°ë¶„ì„', 'ë¡œë´‡ê³µí•™', 'IoT', 'ê¸°íƒ€'] \r\n}) => {\r\n  // ğŸŒŸ ìŠ¤í‚¬ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\r\n  const { skillCategories, loading: skillsLoading } = useSkills()\r\n  \r\n  // ğŸŒŸ ì¹´í…Œê³ ë¦¬ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\r\n  const { data: categories = [], isLoading: categoriesLoading } = useCategories()\r\n\r\n  // watchDate ì´ˆê¸°ê°’ ìˆ˜ì •\r\n  const initialWatchDate = data?.watchDate && !isNaN(new Date(data.watchDate).getTime())\r\n    ? new Date(data.watchDate).toISOString().split('T')[0]\r\n    : new Date().toISOString().split('T')[0]\r\n\r\n  // ğŸŒŸ í¼ ìƒíƒœ ê´€ë¦¬ (ë‚´ë¶€ì—ì„œëŠ” videoUrlë¡œ ê´€ë¦¬, ì €ì¥ ì‹œ videoIdë¡œ ë³€í™˜)\r\n  const [videoUrlInput, setVideoUrlInput] = useState<string>(() => {\r\n    // videoIdê°€ ìˆìœ¼ë©´ URLë¡œ ë³€í™˜, videoUrlì´ ìˆìœ¼ë©´ ê·¸ëŒ€ë¡œ ì‚¬ìš© (í˜¸í™˜ì„±)\r\n    if (data?.videoId) return `https://www.youtube.com/watch?v=${data.videoId}`\r\n    if ((data as any)?.videoUrl) return (data as any).videoUrl\r\n    return ''\r\n  })\r\n\r\n  // ğŸŒŸ skillIds ì´ˆê¸°ê°’ ì²˜ë¦¬ (populateëœ ê°ì²´ ë°°ì—´ì—ì„œ _idë§Œ ì¶”ì¶œ)\r\n  const initialSkillIds = data?.skillIds \r\n    ? (data.skillIds as any[]).map((skillIdOrObj: any) => \r\n        typeof skillIdOrObj === 'string' ? skillIdOrObj : skillIdOrObj._id\r\n      ).filter(Boolean) as string[]\r\n    : []\r\n\r\n  // ğŸŒŸ categoryIds ì´ˆê¸°ê°’ ì²˜ë¦¬\r\n  const initialCategoryIds = data?.categoryIds \r\n    ? (data.categoryIds as any[]).map((catIdOrObj: any) => \r\n        typeof catIdOrObj === 'string' ? catIdOrObj : catIdOrObj._id\r\n      ).filter(Boolean) as string[]\r\n    : []\r\n\r\n  console.log('ğŸ¬ VideoLearningForm ì´ˆê¸°í™”:', {\r\n    hasData: !!data,\r\n    rawSkillIds: data?.skillIds,\r\n    extractedSkillIds: initialSkillIds,\r\n    rawCategoryIds: data?.categoryIds,\r\n    extractedCategoryIds: initialCategoryIds,\r\n  })\r\n\r\n  const [formData, setFormData] = useState<Omit<VideoLearningFormData, 'videoId'>>(\r\n    data\r\n      ? { \r\n          title: data.title,\r\n          category: data.category,\r\n          categoryIds: initialCategoryIds,\r\n          watchDate: initialWatchDate as string,\r\n          rating: data.rating || 3,\r\n          purpose: data.purpose || '',\r\n          keyTakeaways: data.keyTakeaways || '',\r\n          application: data.application || '',\r\n          skillIds: initialSkillIds,\r\n          order: data.order || 0,\r\n        } \r\n      : {\r\n          title: '',\r\n          category: availableCategories[0] || 'PLC',\r\n          categoryIds: [],\r\n          watchDate: initialWatchDate as string,\r\n          rating: 3,\r\n          purpose: '',\r\n          keyTakeaways: '',\r\n          application: '',\r\n          skillIds: [],\r\n          order: 0,\r\n        }\r\n  )\r\n\r\n  // ğŸŒŸ ìœ íŠœë¸Œ ì˜ìƒ ID ì¶”ì¶œ (ì‹¤ì‹œê°„) + ë””ë²„ê¹… ë¡œê·¸\r\n  const videoId = useMemo(() => {\r\n    const id = extractYouTubeId(videoUrlInput)\r\n    console.log('ğŸ¬ VideoForm: URL íŒŒì‹± ê²°ê³¼ -', { inputUrl: videoUrlInput, extractedId: id })\r\n    return id\r\n  }, [videoUrlInput])\r\n  \r\n  const thumbnailUrl = useMemo(() => videoId ? getYouTubeThumbnail(videoId) : null, [videoId])\r\n  const isValidUrl = useMemo(() => videoId !== null, [videoId])\r\n\r\n\r\n  // ğŸŒŸ ì¹´í…Œê³ ë¦¬ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬ (ì²´í¬ë°•ìŠ¤ìš©)\r\n  const handleCategoryToggle = (categoryId: string) => {\r\n    const currentCategoryIds = formData.categoryIds || []\r\n    const isSelected = currentCategoryIds.includes(categoryId)\r\n    \r\n    const newCategoryIds = isSelected\r\n      ? currentCategoryIds.filter((id: string) => id !== categoryId)\r\n      : [...currentCategoryIds, categoryId]\r\n    \r\n    setFormData({ \r\n      ...formData, \r\n      categoryIds: newCategoryIds \r\n    })\r\n  }\r\n\r\n  // ğŸŒŸ ìŠ¤í‚¬ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬ (ì²´í¬ë°•ìŠ¤ìš©)\r\n  const handleSkillToggle = (skillId: string) => {\r\n    const currentSkillIds = formData.skillIds || []\r\n    const isSelected = currentSkillIds.includes(skillId)\r\n    \r\n    const newSkillIds = isSelected\r\n      ? currentSkillIds.filter((id: string) => id !== skillId)\r\n      : [...currentSkillIds, skillId]\r\n    \r\n    setFormData({ \r\n      ...formData, \r\n      skillIds: newSkillIds \r\n    })\r\n  }\r\n  \r\n  // ğŸŒŸ ìŠ¤í‚¬ ì¹´í…Œê³ ë¦¬ ì „ì²´ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬\r\n  const handleSkillCategoryToggle = (category: SkillCategory) => {\r\n    const categorySkillIds = (category.skills || []).map((skill: Skill) => skill._id!).filter(Boolean)\r\n    const currentSkillIds = formData.skillIds || []\r\n    \r\n    // ì¹´í…Œê³ ë¦¬ì˜ ëª¨ë“  ìŠ¤í‚¬ì´ ì„ íƒë˜ì–´ ìˆëŠ”ì§€ í™•ì¸\r\n    const allSelected = categorySkillIds.every((id: string) => currentSkillIds.includes(id))\r\n    \r\n    let newSkillIds: string[]\r\n    if (allSelected) {\r\n      // ëª¨ë‘ ì„ íƒë˜ì–´ ìˆìœ¼ë©´ ì „ì²´ í•´ì œ\r\n      newSkillIds = currentSkillIds.filter((id: string) => !categorySkillIds.includes(id))\r\n    } else {\r\n      // ì¼ë¶€ë§Œ ì„ íƒë˜ì–´ ìˆê±°ë‚˜ ì—†ìœ¼ë©´ ì „ì²´ ì„ íƒ\r\n      const uniqueIds = new Set([...currentSkillIds, ...categorySkillIds])\r\n      newSkillIds = Array.from(uniqueIds)\r\n    }\r\n    \r\n    setFormData({ \r\n      ...formData, \r\n      skillIds: newSkillIds \r\n    })\r\n  }\r\n\r\n  const handleFormSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    if (!formData.title.trim() || !videoUrlInput.trim()) {\r\n      alert('í•„ìˆ˜ í•„ë“œ(ì œëª©, ì˜ìƒ URL)ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.')\r\n      return\r\n    }\r\n\r\n    if (!isValidUrl || !videoId) {\r\n      alert('âŒ ì˜¬ë°”ë¥¸ ìœ íŠœë¸Œ URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”.')\r\n      return\r\n    }\r\n\r\n    console.log('ğŸ“¹ ì˜ìƒ í•™ìŠµ ì €ì¥ ì‹œì‘:', formData)\r\n    console.log('ğŸ¬ ì¶”ì¶œëœ ì˜ìƒ ID:', videoId)\r\n    console.log('ğŸ”— ì„ íƒëœ ìŠ¤í‚¬ IDs:', formData.skillIds)\r\n    \r\n    const { title, category, watchDate, rating, purpose, keyTakeaways, application, skillIds, order } = formData\r\n    \r\n    // ğŸŒŸ videoIdë¡œ ë³€í™˜í•˜ì—¬ ì €ì¥\r\n    onSave({ \r\n      title, \r\n      videoId: videoId!,  // ì¶”ì¶œëœ ì˜ìƒ ID\r\n      category, \r\n      watchDate, \r\n      ...(rating !== undefined && { rating }),\r\n      ...(purpose && { purpose }),\r\n      ...(keyTakeaways && { keyTakeaways }),\r\n      ...(application && { application }),\r\n      skillIds: skillIds || [],\r\n      order: order || 0,\r\n    })\r\n  }\r\n\r\n  // í¼ ìœ íš¨ì„± ê²€ì‚¬\r\n  const isFormValid = formData.title.trim() && videoUrlInput.trim() && isValidUrl\r\n\r\n  // ğŸŒŸ ë³„ì  ë Œë”ë§ (í´ë¦­ ê°€ëŠ¥)\r\n  const renderRatingStars = () => {\r\n    return Array.from({ length: 5 }, (_, i) => {\r\n      const starValue = i + 1\r\n      return (\r\n        <button\r\n          key={i}\r\n          type=\"button\"\r\n          onClick={() => setFormData({ ...formData, rating: starValue })}\r\n          className={`text-3xl transition-colors ${\r\n            starValue <= (formData.rating || 0)\r\n              ? 'text-yellow-500 hover:text-yellow-600'\r\n              : 'text-gray-300 dark:text-gray-600 hover:text-gray-400'\r\n          }`}\r\n        >\r\n          <FaStar />\r\n        </button>\r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleFormSubmit} className=\"space-y-6\">\r\n      {/* ê¸°ë³¸ ì •ë³´ */}\r\n      <div className=\"grid md:grid-cols-2 gap-6\">\r\n        <div className=\"md:col-span-2\">\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ì œëª© <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={formData.title}\r\n            onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n            placeholder=\"ì˜ìƒ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"md:col-span-2\">\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ì˜ìƒ URL <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={videoUrlInput}\r\n            onChange={(e) => setVideoUrlInput(e.target.value)}\r\n            className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${\r\n              videoUrlInput && !isValidUrl\r\n                ? 'border-red-500'\r\n                : 'border-gray-300 dark:border-gray-600'\r\n            }`}\r\n            placeholder=\"https://www.youtube.com/watch?v=...\"\r\n            required\r\n          />\r\n          {videoUrlInput && !isValidUrl && (\r\n            <p className=\"text-red-500 text-sm mt-1\">ì˜¬ë°”ë¥¸ ìœ íŠœë¸Œ URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”</p>\r\n          )}\r\n          {videoId && (\r\n            <p className=\"text-green-600 text-sm mt-1\">âœ… ì˜ìƒ ID: <code className=\"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded\">{videoId}</code></p>\r\n          )}\r\n          {/* ğŸŒŸ ì¸ë„¤ì¼ ë¯¸ë¦¬ë³´ê¸° */}\r\n          {thumbnailUrl && isValidUrl && (\r\n            <div className=\"mt-3\">\r\n              <img \r\n                src={thumbnailUrl} \r\n                alt=\"ì˜ìƒ ì¸ë„¤ì¼\" \r\n                className=\"w-full max-w-md rounded-lg shadow-md\"\r\n                onError={(e) => {\r\n                  // maxresdefaultê°€ ì—†ìœ¼ë©´ hqdefaultë¡œ í´ë°±\r\n                  const target = e.target as HTMLImageElement\r\n                  if (target.src.includes('maxresdefault')) {\r\n                    target.src = getYouTubeThumbnail(videoId!, 'hqdefault')\r\n                  }\r\n                }}\r\n              />\r\n              <p className=\"text-sm text-green-600 dark:text-green-400 mt-2\">âœ“ ìœ íš¨í•œ ìœ íŠœë¸Œ URL</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"md:col-span-2\">\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\r\n            ì¹´í…Œê³ ë¦¬ ì„ íƒ ğŸ“‚ (ë‹¤ì¤‘ ì„ íƒ ê°€ëŠ¥)\r\n          </label>\r\n\r\n          {/* ì„ íƒëœ ì¹´í…Œê³ ë¦¬ íƒœê·¸ í‘œì‹œ */}\r\n          {formData.categoryIds && formData.categoryIds.length > 0 && (\r\n            <div className=\"flex flex-wrap gap-2 mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\r\n              {formData.categoryIds.map((catId) => {\r\n                const category = categories.find(c => c._id === catId)\r\n                return category ? (\r\n                  <span\r\n                    key={catId}\r\n                    className=\"inline-flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded-full text-sm\"\r\n                  >\r\n                    {category.name}\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleCategoryToggle(catId)}\r\n                      className=\"hover:bg-blue-700 rounded-full p-0.5\"\r\n                    >\r\n                      <FaTimes className=\"text-xs\" />\r\n                    </button>\r\n                  </span>\r\n                ) : null\r\n              })}\r\n            </div>\r\n          )}\r\n\r\n          {/* ì¹´í…Œê³ ë¦¬ ì²´í¬ë°•ìŠ¤ ëª©ë¡ */}\r\n          {categoriesLoading ? (\r\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">ì¹´í…Œê³ ë¦¬ ë¡œë”© ì¤‘...</p>\r\n          ) : categories.length > 0 ? (\r\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\r\n              {categories.map((category) => {\r\n                const isSelected = (formData.categoryIds || []).includes(category._id)\r\n                return (\r\n                  <label\r\n                    key={category._id}\r\n                    className={`flex items-center gap-2 p-3 border-2 rounded-lg cursor-pointer transition-all ${\r\n                      isSelected\r\n                        ? 'border-primary-600 bg-primary-50 dark:bg-primary-900/20'\r\n                        : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\r\n                    }`}\r\n                  >\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={isSelected}\r\n                      onChange={() => handleCategoryToggle(category._id)}\r\n                      className=\"w-4 h-4\"\r\n                    />\r\n                    <span className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                      {category.name}\r\n                    </span>\r\n                  </label>\r\n                )\r\n              })}\r\n            </div>\r\n          ) : (\r\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n              ë“±ë¡ëœ ì¹´í…Œê³ ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤. ê´€ë¦¬ì ë©”ë‰´ì˜ \"ì¹´í…Œê³ ë¦¬ ê´€ë¦¬\"ì—ì„œ ì¶”ê°€í•˜ì„¸ìš”.\r\n            </p>\r\n          )}\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ì‹œì²­ ë‚ ì§œ\r\n          </label>\r\n          <input\r\n            type=\"date\"\r\n            value={formData.watchDate}\r\n            onChange={(e) => setFormData({ ...formData, watchDate: e.target.value })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"md:col-span-2\">\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ì´í•´ë„ í‰ì \r\n          </label>\r\n          <div className=\"flex items-center gap-2\">\r\n            {renderRatingStars()}\r\n            <span className=\"ml-3 text-gray-600 dark:text-gray-400\">{formData.rating}/5</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ìƒì„¸ ì •ë³´ */}\r\n      <div className=\"space-y-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ì‹œì²­ ëª©ì \r\n          </label>\r\n          <textarea\r\n            value={formData.purpose}\r\n            onChange={(e) => setFormData({ ...formData, purpose: e.target.value })}\r\n            className=\"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-vertical\"\r\n            rows={3}\r\n            placeholder=\"ì´ ì˜ìƒì„ ì™œ ì‹œì²­í–ˆëŠ”ì§€, ì–´ë–¤ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œì¸ì§€ ì‘ì„±í•˜ì„¸ìš”...\"\r\n          />\r\n          <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">ìµœëŒ€ 1000ì</p>\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            í•µì‹¬ ë°°ì›€ (ë§ˆí¬ë‹¤ìš´ ì§€ì›)\r\n          </label>\r\n          <textarea\r\n            value={formData.keyTakeaways}\r\n            onChange={(e) => setFormData({ ...formData, keyTakeaways: e.target.value })}\r\n            className=\"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-vertical font-mono text-sm\"\r\n            rows={8}\r\n            placeholder=\"ì˜ìƒì—ì„œ ì–»ì€ í•µì‹¬ ì§€ì‹ 3-5ê°€ì§€ë¥¼ ì •ë¦¬í•˜ì„¸ìš”...&#10;&#10;ì˜ˆì‹œ:&#10;- [2:30] React Queryì˜ staleTimeê³¼ cacheTime ì°¨ì´&#10;- [5:15] Optimistic Updates êµ¬í˜„ ë°©ë²•&#10;- [8:45] Query Invalidation ì „ëµ\"\r\n          />\r\n          <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n            ìµœëŒ€ 5000ì | íƒ€ì„ìŠ¤íƒ¬í”„ í˜•ì‹: [MM:SS] ë˜ëŠ” [H:MM:SS]\r\n          </p>\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ì ìš© ê³„íš (ë§ˆí¬ë‹¤ìš´ ì§€ì›)\r\n          </label>\r\n          <textarea\r\n            value={formData.application}\r\n            onChange={(e) => setFormData({ ...formData, application: e.target.value })}\r\n            className=\"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-vertical font-mono text-sm\"\r\n            rows={5}\r\n            placeholder=\"ì´ ì§€ì‹ì„ ì–´ë–»ê²Œ í™œìš©í•  ê³„íšì¸ì§€, ë˜ëŠ” ì´ë¯¸ ì ìš©í•œ ê²½í—˜ì„ ì‘ì„±í•˜ì„¸ìš”...\"\r\n          />\r\n          <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">ìµœëŒ€ 3000ì</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ğŸŒŸ ìŠ¤í‚¬ ì—°ê²° (ì²´í¬ë°•ìŠ¤ UI) */}\r\n      <div className=\"md:col-span-2\">\r\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n          ê´€ë ¨ ê¸°ìˆ  ì—°ë™ ğŸ”—\r\n        </label>\r\n        {skillsLoading ? (\r\n          <div className=\"text-sm text-gray-500 dark:text-gray-400 py-2\">\r\n            ìŠ¤í‚¬ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...\r\n          </div>\r\n        ) : (\r\n          <>\r\n            {/* ì„ íƒëœ ìŠ¤í‚¬ ê°œìˆ˜ í‘œì‹œ */}\r\n            {(formData.skillIds || []).length > 0 && (\r\n              <div className=\"mb-3 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\r\n                <span className=\"text-sm text-blue-700 dark:text-blue-300 font-medium\">\r\n                  âœ“ {(formData.skillIds || []).length}ê°œ ì„ íƒë¨\r\n                </span>\r\n              </div>\r\n            )}\r\n            \r\n            {/* ì¹´í…Œê³ ë¦¬ë³„ ìŠ¤í‚¬ ì²´í¬ë°•ìŠ¤ */}\r\n            <div className=\"border border-gray-300 dark:border-gray-600 rounded-lg p-4 max-h-[400px] overflow-y-auto bg-gray-50 dark:bg-gray-800/50\">\r\n              {skillCategories.map((category) => {\r\n                const categorySkills = category.skills || []\r\n                const categorySkillIds = categorySkills.map((s: Skill) => s._id!).filter(Boolean)\r\n                const selectedInCategory = categorySkillIds.filter((id: string) => \r\n                  (formData.skillIds || []).includes(id)\r\n                )\r\n                const allSelected = categorySkillIds.length > 0 && selectedInCategory.length === categorySkillIds.length\r\n                const someSelected = selectedInCategory.length > 0 && !allSelected\r\n\r\n                return (\r\n                  <div key={category._id} className=\"mb-4 last:mb-0\">\r\n                    {/* ì¹´í…Œê³ ë¦¬ í—¤ë” */}\r\n                    <div \r\n                      onClick={() => handleSkillCategoryToggle(category)}\r\n                      className=\"flex items-center gap-3 p-3 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors mb-2\"\r\n                    >\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={allSelected}\r\n                        ref={(input) => {\r\n                          if (input) input.indeterminate = someSelected\r\n                        }}\r\n                        onChange={() => {}}\r\n                        className=\"w-5 h-5 text-primary-600 rounded focus:ring-2 focus:ring-primary-500\"\r\n                      />\r\n                      <label \r\n                        className=\"font-bold text-base cursor-pointer flex-1\"\r\n                        style={{ color: category.color || '#3B82F6' }}\r\n                      >\r\n                        {category.title} ({selectedInCategory.length}/{categorySkills.length})\r\n                      </label>\r\n                    </div>\r\n\r\n                    {/* ê°œë³„ ìŠ¤í‚¬ ì²´í¬ë°•ìŠ¤ */}\r\n                    <div className=\"ml-8 space-y-2\">\r\n                      {categorySkills.map((skill: Skill) => {\r\n                        const isSelected = (formData.skillIds || []).includes(skill._id!)\r\n                        return (\r\n                          <div\r\n                            key={skill._id}\r\n                            onClick={() => handleSkillToggle(skill._id!)}\r\n                            className={`flex items-center gap-3 p-2 rounded-lg cursor-pointer transition-all ${\r\n                              isSelected\r\n                                ? 'bg-blue-100 dark:bg-blue-900/30 font-medium'\r\n                                : 'hover:bg-gray-100 dark:hover:bg-gray-600'\r\n                            }`}\r\n                          >\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={isSelected}\r\n                              onChange={() => {}}\r\n                              className=\"w-4 h-4 text-primary-600 rounded focus:ring-2 focus:ring-primary-500\"\r\n                            />\r\n                            <label \r\n                              className=\"cursor-pointer flex-1 text-sm\"\r\n                              style={{ color: isSelected ? skill.color : undefined }}\r\n                            >\r\n                              {skill.name}\r\n                            </label>\r\n                          </div>\r\n                        )\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n                )\r\n              })}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* ìˆœì„œ */}\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n          ìˆœì„œ (ë‚®ì„ìˆ˜ë¡ ë¨¼ì € í‘œì‹œ)\r\n        </label>\r\n        <input\r\n          type=\"number\"\r\n          value={formData.order}\r\n          onChange={(e) => setFormData({ ...formData, order: parseInt(e.target.value) || 0 })}\r\n          className=\"w-32 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n          min=\"0\"\r\n        />\r\n      </div>\r\n\r\n      {/* ë²„íŠ¼ */}\r\n      <div className=\"flex gap-4 pt-4\">\r\n        <button\r\n          type=\"submit\"\r\n          disabled={isSaving || !isFormValid || !isValidUrl}\r\n          className=\"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium\"\r\n        >\r\n          <FaSave /> {isSaving ? 'ì €ì¥ ì¤‘...' : 'ì €ì¥'}\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          onClick={onCancel}\r\n          className=\"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium\"\r\n        >\r\n          ì·¨ì†Œ\r\n        </button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default VideoLearningForm\r\n\r\n","import React, { useState, useMemo } from 'react'\r\nimport { FaSave, FaStar, FaTimes } from 'react-icons/fa'\r\nimport { VideoPlaylist, VideoPlaylistFormData } from '../../types'\r\nimport { formatCategoryDisplayName } from '../../utils/categoryUtils'\r\nimport { extractYouTubePlaylistId, getYouTubePlaylistThumbnail } from '../../utils/videoUtils'\r\nimport { useSkills } from '../../hooks/useSkills'\r\nimport { useCategories } from '../../hooks/useCategories'\r\n\r\ninterface FormProps {\r\n  data?: VideoPlaylist\r\n  onSave: (data: VideoPlaylistFormData) => void\r\n  onCancel: () => void\r\n  isSaving?: boolean\r\n  availableCategories?: string[]\r\n}\r\n\r\nconst VideoPlaylistForm: React.FC<FormProps> = ({ \r\n  data, \r\n  onSave, \r\n  onCancel, \r\n  isSaving = false, \r\n  availableCategories = ['PLC', 'ë°ì´í„°ë¶„ì„', 'ë¡œë´‡ê³µí•™', 'IoT', 'ê¸°íƒ€'] \r\n}) => {\r\n  const { skillCategories, loading: skillsLoading } = useSkills()\r\n  \r\n  // ğŸŒŸ ì¹´í…Œê³ ë¦¬ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\r\n  const { data: categories = [], isLoading: categoriesLoading } = useCategories()\r\n\r\n  const initialWatchDate = data?.watchDate && !isNaN(new Date(data.watchDate).getTime())\r\n    ? new Date(data.watchDate).toISOString().split('T')[0]\r\n    : new Date().toISOString().split('T')[0]\r\n\r\n  const [playlistUrlInput, setPlaylistUrlInput] = useState<string>(() => {\r\n    if (data?.playlistId) return `https://www.youtube.com/playlist?list=${data.playlistId}`\r\n    return ''\r\n  })\r\n\r\n  // ğŸŒŸ categoryIds ì´ˆê¸°ê°’ ì²˜ë¦¬\r\n  const initialCategoryIds = data?.categoryIds \r\n    ? (data.categoryIds as any[]).map((catIdOrObj: any) => \r\n        typeof catIdOrObj === 'string' ? catIdOrObj : catIdOrObj._id\r\n      ).filter(Boolean) as string[]\r\n    : []\r\n\r\n  const [formData, setFormData] = useState<Omit<VideoPlaylistFormData, 'playlistId'>>(\r\n    data\r\n      ? { \r\n          title: data.title,\r\n          category: data.category,\r\n          categoryIds: initialCategoryIds,\r\n          watchDate: initialWatchDate as string,\r\n          rating: data.rating || 3,\r\n          purpose: data.purpose || '',\r\n          application: data.application || '',\r\n          skillIds: (data.skillIds || []).map((skillIdOrObj: any) => \r\n            typeof skillIdOrObj === 'string' ? skillIdOrObj : skillIdOrObj._id\r\n          ).filter(Boolean) as string[],\r\n          order: data.order || 0,\r\n        } \r\n      : {\r\n          title: '',\r\n          category: availableCategories[0] || 'PLC',\r\n          categoryIds: [],\r\n          watchDate: initialWatchDate as string,\r\n          rating: 3,\r\n          purpose: '',\r\n          application: '',\r\n          skillIds: [],\r\n          order: 0,\r\n        }\r\n  )\r\n\r\n  const playlistId = useMemo(() => {\r\n    const id = extractYouTubePlaylistId(playlistUrlInput)\r\n    console.log('ğŸ¬ PlaylistForm: URL íŒŒì‹± ê²°ê³¼ -', { inputUrl: playlistUrlInput, extractedId: id })\r\n    return id\r\n  }, [playlistUrlInput])\r\n  \r\n  const thumbnailUrl = useMemo(() => playlistId ? getYouTubePlaylistThumbnail(playlistId) : null, [playlistId])\r\n  const isValidUrl = useMemo(() => playlistId !== null, [playlistId])\r\n\r\n  // ğŸŒŸ ì¹´í…Œê³ ë¦¬ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬ (ì²´í¬ë°•ìŠ¤ìš©)\r\n  const handleCategoryToggle = (categoryId: string) => {\r\n    const currentCategoryIds = formData.categoryIds || []\r\n    const isSelected = currentCategoryIds.includes(categoryId)\r\n    \r\n    const newCategoryIds = isSelected\r\n      ? currentCategoryIds.filter((id: string) => id !== categoryId)\r\n      : [...currentCategoryIds, categoryId]\r\n    \r\n    setFormData({ \r\n      ...formData, \r\n      categoryIds: newCategoryIds \r\n    })\r\n  }\r\n\r\n  const handleSkillToggle = (skillId: string) => {\r\n    const currentSkillIds = formData.skillIds || []\r\n    const isSelected = currentSkillIds.includes(skillId)\r\n    \r\n    const newSkillIds = isSelected\r\n      ? currentSkillIds.filter((id: string) => id !== skillId)\r\n      : [...currentSkillIds, skillId]\r\n    \r\n    setFormData({ \r\n      ...formData, \r\n      skillIds: newSkillIds \r\n    })\r\n  }\r\n\r\n  const handleFormSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    if (!formData.title.trim() || !playlistUrlInput.trim()) {\r\n      alert('í•„ìˆ˜ í•„ë“œ(ì œëª©, ì¬ìƒ ëª©ë¡ URL)ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.')\r\n      return\r\n    }\r\n\r\n    if (!isValidUrl || !playlistId) {\r\n      alert('âŒ ì˜¬ë°”ë¥¸ ìœ íŠœë¸Œ ì¬ìƒ ëª©ë¡ URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”.')\r\n      return\r\n    }\r\n    \r\n    const { title, category, categoryIds, watchDate, rating, purpose, application, skillIds, order } = formData\r\n    \r\n    const saveData = { \r\n      title, \r\n      playlistId: playlistId!,\r\n      category, \r\n      categoryIds: categoryIds || [],  // ğŸŒŸ ë‹¤ì¤‘ ì¹´í…Œê³ ë¦¬ ì¶”ê°€\r\n      watchDate, \r\n      ...(rating !== undefined && { rating }),\r\n      ...(purpose && { purpose }),\r\n      ...(application && { application }),\r\n      skillIds: skillIds || [],\r\n      order: order || 0,\r\n    }\r\n    \r\n    console.log('ğŸ“ VideoPlaylistForm: ì €ì¥ ë°ì´í„° ì „ì†¡', saveData)\r\n    onSave(saveData)\r\n  }\r\n\r\n  const isFormValid = formData.title.trim() && playlistUrlInput.trim() && isValidUrl\r\n\r\n  const renderRatingStars = () => {\r\n    return Array.from({ length: 5 }, (_, i) => {\r\n      const starValue = i + 1\r\n      return (\r\n        <button\r\n          key={i}\r\n          type=\"button\"\r\n          onClick={() => setFormData({ ...formData, rating: starValue })}\r\n          className={`text-3xl transition-colors ${\r\n            starValue <= (formData.rating || 0)\r\n              ? 'text-yellow-500 hover:text-yellow-600'\r\n              : 'text-gray-300 dark:text-gray-600 hover:text-gray-400'\r\n          }`}\r\n        >\r\n          <FaStar />\r\n        </button>\r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleFormSubmit} className=\"space-y-6\">\r\n      <div className=\"grid md:grid-cols-2 gap-6\">\r\n        <div className=\"md:col-span-2\">\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ì œëª© <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={formData.title}\r\n            onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n            placeholder=\"ì¬ìƒ ëª©ë¡ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"md:col-span-2\">\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ì¬ìƒ ëª©ë¡ URL <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={playlistUrlInput}\r\n            onChange={(e) => setPlaylistUrlInput(e.target.value)}\r\n            className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${\r\n              playlistUrlInput && !isValidUrl\r\n                ? 'border-red-500'\r\n                : 'border-gray-300 dark:border-gray-600'\r\n            }`}\r\n            placeholder=\"https://www.youtube.com/playlist?list=...\"\r\n            required\r\n          />\r\n          {playlistUrlInput && !isValidUrl && (\r\n            <p className=\"text-red-500 text-sm mt-1\">ì˜¬ë°”ë¥¸ ìœ íŠœë¸Œ ì¬ìƒ ëª©ë¡ URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”</p>\r\n          )}\r\n          {playlistId && (\r\n            <p className=\"text-green-600 text-sm mt-1\">âœ… ì¬ìƒ ëª©ë¡ ID: <code className=\"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded\">{playlistId}</code></p>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"md:col-span-2\">\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\r\n            ì¹´í…Œê³ ë¦¬ ì„ íƒ ğŸ“‚ (ë‹¤ì¤‘ ì„ íƒ ê°€ëŠ¥)\r\n          </label>\r\n\r\n          {/* ì„ íƒëœ ì¹´í…Œê³ ë¦¬ íƒœê·¸ í‘œì‹œ */}\r\n          {formData.categoryIds && formData.categoryIds.length > 0 && (\r\n            <div className=\"flex flex-wrap gap-2 mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\r\n              {formData.categoryIds.map((catId) => {\r\n                const category = categories.find(c => c._id === catId)\r\n                return category ? (\r\n                  <span\r\n                    key={catId}\r\n                    className=\"inline-flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded-full text-sm\"\r\n                  >\r\n                    {category.name}\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleCategoryToggle(catId)}\r\n                      className=\"hover:bg-blue-700 rounded-full p-0.5\"\r\n                    >\r\n                      <FaTimes className=\"text-xs\" />\r\n                    </button>\r\n                  </span>\r\n                ) : null\r\n              })}\r\n            </div>\r\n          )}\r\n\r\n          {/* ì¹´í…Œê³ ë¦¬ ì²´í¬ë°•ìŠ¤ ëª©ë¡ */}\r\n          {categoriesLoading ? (\r\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">ì¹´í…Œê³ ë¦¬ ë¡œë”© ì¤‘...</p>\r\n          ) : categories.length > 0 ? (\r\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\r\n              {categories.map((category) => {\r\n                const isSelected = (formData.categoryIds || []).includes(category._id)\r\n                return (\r\n                  <label\r\n                    key={category._id}\r\n                    className={`flex items-center gap-2 p-3 border-2 rounded-lg cursor-pointer transition-all ${\r\n                      isSelected\r\n                        ? 'border-primary-600 bg-primary-50 dark:bg-primary-900/20'\r\n                        : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\r\n                    }`}\r\n                  >\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={isSelected}\r\n                      onChange={() => handleCategoryToggle(category._id)}\r\n                      className=\"w-4 h-4\"\r\n                    />\r\n                    <span className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                      {category.name}\r\n                    </span>\r\n                  </label>\r\n                )\r\n              })}\r\n            </div>\r\n          ) : (\r\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n              ë“±ë¡ëœ ì¹´í…Œê³ ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤. ê´€ë¦¬ì ë©”ë‰´ì˜ \"ì¹´í…Œê³ ë¦¬ ê´€ë¦¬\"ì—ì„œ ì¶”ê°€í•˜ì„¸ìš”.\r\n            </p>\r\n          )}\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ì‹œì²­ ë‚ ì§œ\r\n          </label>\r\n          <input\r\n            type=\"date\"\r\n            value={formData.watchDate}\r\n            onChange={(e) => setFormData({ ...formData, watchDate: e.target.value })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"md:col-span-2\">\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            í‰ì \r\n          </label>\r\n          <div className=\"flex items-center gap-2\">\r\n            {renderRatingStars()}\r\n            <span className=\"ml-3 text-gray-600 dark:text-gray-400\">{formData.rating}/5</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"space-y-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ì‹œì²­ ëª©ì \r\n          </label>\r\n          <textarea\r\n            value={formData.purpose}\r\n            onChange={(e) => setFormData({ ...formData, purpose: e.target.value })}\r\n            className=\"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-vertical\"\r\n            rows={3}\r\n            placeholder=\"ì´ ì¬ìƒ ëª©ë¡ì„ ì™œ ì‹œì²­í–ˆëŠ”ì§€ ì‘ì„±í•˜ì„¸ìš”...\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            í†µí•© ì ìš© ê³„íš (ë§ˆí¬ë‹¤ìš´ ì§€ì›)\r\n          </label>\r\n          <textarea\r\n            value={formData.application}\r\n            onChange={(e) => setFormData({ ...formData, application: e.target.value })}\r\n            className=\"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-vertical font-mono text-sm\"\r\n            rows={5}\r\n            placeholder=\"ì´ ì§€ì‹ì„ ì–´ë–»ê²Œ í™œìš©í•  ê³„íšì¸ì§€ ì‘ì„±í•˜ì„¸ìš”...\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* ìŠ¤í‚¬ ì—°ê²° (VideoLearningFormê³¼ ë™ì¼í•œ UI) */}\r\n      <div className=\"md:col-span-2\">\r\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n          ê´€ë ¨ ê¸°ìˆ  ì—°ë™ ğŸ”—\r\n        </label>\r\n        {skillsLoading ? (\r\n          <div className=\"text-sm text-gray-500 dark:text-gray-400 py-2\">\r\n            ìŠ¤í‚¬ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...\r\n          </div>\r\n        ) : (\r\n          <>\r\n            {(formData.skillIds || []).length > 0 && (\r\n              <div className=\"mb-3 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\r\n                <span className=\"text-sm text-blue-700 dark:text-blue-300 font-medium\">\r\n                  âœ“ {(formData.skillIds || []).length}ê°œ ì„ íƒë¨\r\n                </span>\r\n              </div>\r\n            )}\r\n            \r\n            <div className=\"border border-gray-300 dark:border-gray-600 rounded-lg p-4 max-h-[300px] overflow-y-auto bg-gray-50 dark:bg-gray-800/50\">\r\n              {skillCategories.map((category) => (\r\n                <div key={category._id} className=\"mb-3 last:mb-0\">\r\n                  <label \r\n                    className=\"font-bold text-sm block mb-2\"\r\n                    style={{ color: category.color || '#3B82F6' }}\r\n                  >\r\n                    {category.title}\r\n                  </label>\r\n                  <div className=\"ml-4 space-y-1\">\r\n                    {(category.skills || []).map((skill) => {\r\n                      const isSelected = (formData.skillIds || []).includes(skill._id!)\r\n                      return (\r\n                        <div\r\n                          key={skill._id}\r\n                          onClick={() => handleSkillToggle(skill._id!)}\r\n                          className={`flex items-center gap-2 p-2 rounded cursor-pointer transition-all ${\r\n                            isSelected\r\n                              ? 'bg-blue-100 dark:bg-blue-900/30 font-medium'\r\n                              : 'hover:bg-gray-100 dark:hover:bg-gray-600'\r\n                          }`}\r\n                        >\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={isSelected}\r\n                            onChange={() => {}}\r\n                            className=\"w-4 h-4\"\r\n                          />\r\n                          <span className=\"text-sm\">{skill.name}</span>\r\n                        </div>\r\n                      )\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"flex gap-4 pt-4\">\r\n        <button\r\n          type=\"submit\"\r\n          disabled={isSaving || !isFormValid || !isValidUrl}\r\n          className=\"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium\"\r\n        >\r\n          <FaSave /> {isSaving ? 'ì €ì¥ ì¤‘...' : 'ì €ì¥'}\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          onClick={onCancel}\r\n          className=\"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium\"\r\n        >\r\n          ì·¨ì†Œ\r\n        </button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default VideoPlaylistForm\r\n\r\n","import React, { useState, useMemo } from 'react'\r\nimport { FaSave } from 'react-icons/fa'\r\nimport { PlaylistVideo, PlaylistVideoFormData } from '../../types'\r\nimport { extractYouTubeId, getYouTubeThumbnail } from '../../utils/videoUtils'\r\n\r\ninterface FormProps {\r\n  playlistId: string\r\n  data?: PlaylistVideo\r\n  onSave: (data: PlaylistVideoFormData) => void\r\n  onCancel: () => void\r\n  isSaving?: boolean\r\n}\r\n\r\nconst PlaylistVideoForm: React.FC<FormProps> = ({ \r\n  playlistId,\r\n  data, \r\n  onSave, \r\n  onCancel, \r\n  isSaving = false \r\n}) => {\r\n  // ğŸŒŸ ì˜ìƒ URL ì…ë ¥ (videoId ìë™ ì¶”ì¶œ)\r\n  const [videoUrlInput, setVideoUrlInput] = useState<string>(() => {\r\n    if (data?.videoId) return `https://www.youtube.com/watch?v=${data.videoId}`\r\n    return ''\r\n  })\r\n\r\n  const [formData, setFormData] = useState<Omit<PlaylistVideoFormData, 'playlistId' | 'videoId'>>(\r\n    data\r\n      ? { \r\n          title: data.title,\r\n          keyTakeaways: data.keyTakeaways || '',\r\n          order: data.order || 0,\r\n        } \r\n      : {\r\n          title: '',\r\n          keyTakeaways: '',\r\n          order: 0,\r\n        }\r\n  )\r\n\r\n  const videoId = useMemo(() => extractYouTubeId(videoUrlInput), [videoUrlInput])\r\n  const thumbnailUrl = useMemo(() => videoId ? getYouTubeThumbnail(videoId) : null, [videoId])\r\n  const isValidUrl = useMemo(() => videoId !== null, [videoId])\r\n\r\n  const handleFormSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    if (!formData.title.trim() || !videoUrlInput.trim()) {\r\n      alert('í•„ìˆ˜ í•„ë“œ(ì œëª©, ì˜ìƒ URL)ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.')\r\n      return\r\n    }\r\n\r\n    if (!isValidUrl || !videoId) {\r\n      alert('âŒ ì˜¬ë°”ë¥¸ ìœ íŠœë¸Œ ì˜ìƒ URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”.')\r\n      return\r\n    }\r\n    \r\n    onSave({ \r\n      playlistId,\r\n      videoId: videoId!,\r\n      title: formData.title,\r\n      keyTakeaways: formData.keyTakeaways || '',\r\n      order: formData.order || 0,\r\n    })\r\n  }\r\n\r\n  const isFormValid = formData.title.trim() && videoUrlInput.trim() && isValidUrl\r\n\r\n  return (\r\n    <form onSubmit={handleFormSubmit} className=\"space-y-4\">\r\n      <div className=\"grid gap-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ì˜ìƒ URL <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={videoUrlInput}\r\n            onChange={(e) => setVideoUrlInput(e.target.value)}\r\n            className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${\r\n              videoUrlInput && !isValidUrl\r\n                ? 'border-red-500'\r\n                : 'border-gray-300 dark:border-gray-600'\r\n            }`}\r\n            placeholder=\"https://www.youtube.com/watch?v=...\"\r\n            required\r\n          />\r\n          {videoUrlInput && !isValidUrl && (\r\n            <p className=\"text-red-500 text-sm mt-1\">ì˜¬ë°”ë¥¸ ìœ íŠœë¸Œ URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”</p>\r\n          )}\r\n          {videoId && (\r\n            <p className=\"text-green-600 text-sm mt-1\">âœ… ì˜ìƒ ID: <code className=\"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded\">{videoId}</code></p>\r\n          )}\r\n          {/* ğŸŒŸ ì¸ë„¤ì¼ ë¯¸ë¦¬ë³´ê¸° */}\r\n          {thumbnailUrl && isValidUrl && (\r\n            <div className=\"mt-3\">\r\n              <img \r\n                src={thumbnailUrl} \r\n                alt=\"ì˜ìƒ ì¸ë„¤ì¼\" \r\n                className=\"w-full max-w-xs rounded-lg shadow-md\"\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ì˜ìƒ ì œëª© <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={formData.title}\r\n            onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n            placeholder=\"ì˜ìƒ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            í•µì‹¬ ë°°ì›€ (ë§ˆí¬ë‹¤ìš´ ì§€ì›)\r\n          </label>\r\n          <textarea\r\n            value={formData.keyTakeaways}\r\n            onChange={(e) => setFormData({ ...formData, keyTakeaways: e.target.value })}\r\n            className=\"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-vertical font-mono text-sm\"\r\n            rows={6}\r\n            placeholder=\"ì˜ˆì‹œ:&#10;- [2:30] React Queryì˜ staleTime ì´í•´&#10;- [5:15] ìºì‹œ ë¬´íš¨í™” ì „ëµ&#10;- [8:45] Optimistic Updates\"\r\n          />\r\n          <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n            íƒ€ì„ìŠ¤íƒ¬í”„ í˜•ì‹: [MM:SS] ë˜ëŠ” [H:MM:SS]\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex gap-4 pt-4\">\r\n        <button\r\n          type=\"submit\"\r\n          disabled={isSaving || !isFormValid}\r\n          className=\"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium\"\r\n        >\r\n          <FaSave /> {isSaving ? 'ì €ì¥ ì¤‘...' : 'ì €ì¥'}\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          onClick={onCancel}\r\n          className=\"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium\"\r\n        >\r\n          ì·¨ì†Œ\r\n        </button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PlaylistVideoForm\r\n\r\n","import React, { useState } from 'react'\r\nimport { \r\n  FaSave, \r\n  FaPlus, \r\n  FaTrash, \r\n  FaBriefcase, \r\n  FaCoffee, \r\n  FaGraduationCap, \r\n  FaChartLine, \r\n  FaCode, \r\n  FaCog, \r\n  FaRobot,\r\n  FaCar,           // ğŸš— ìë™ì°¨\r\n  FaShieldAlt,     // ğŸ›¡ï¸ êµ°ì¸\r\n  FaLaptopCode,    // ğŸ’» í”„ë¡œê·¸ë˜ë°\r\n  FaBars           // ğŸŒŸ ë“œë˜ê·¸ í•¸ë“¤ ì•„ì´ì½˜\r\n} from 'react-icons/fa'\r\nimport { Experience, ExperienceFormData, ExperienceDetail, Skill, SkillCategory } from '../../types'\r\nimport RichTextEditor from '../RichTextEditor'\r\nimport { DndContext, closestCenter, DragEndEvent } from '@dnd-kit/core'\r\nimport { SortableContext, verticalListSortingStrategy, useSortable } from '@dnd-kit/sortable'\r\nimport { CSS } from '@dnd-kit/utilities'\r\nimport { useSkills } from '../../hooks/useSkills'\r\nimport LanguageTabs, { AdminLanguage } from '../common/LanguageTabs'\r\n\r\n// ğŸŒŸ ì•„ì´ì½˜ ì˜µì…˜ ì •ì˜\r\nconst iconOptions = [\r\n  { key: 'FaBriefcase', icon: FaBriefcase, label: 'ğŸ’¼ ì¼ë°˜ ì—…ë¬´' },\r\n  { key: 'FaCoffee', icon: FaCoffee, label: 'â˜• ì„œë¹„ìŠ¤/ì¹´í˜' },\r\n  { key: 'FaGraduationCap', icon: FaGraduationCap, label: 'ğŸ“ êµìœ¡/í•™ìŠµ' },\r\n  { key: 'FaChartLine', icon: FaChartLine, label: 'ğŸ“ˆ ì„±ì¥/ë¶„ì„' },\r\n  { key: 'FaLaptopCode', icon: FaLaptopCode, label: 'ğŸ’» í”„ë¡œê·¸ë˜ë°' },\r\n  { key: 'FaCode', icon: FaCode, label: 'âŒ¨ï¸ ê°œë°œ/ì½”ë”©' },\r\n  { key: 'FaCog', icon: FaCog, label: 'âš™ï¸ ê¸°ìˆ /ì—”ì§€ë‹ˆì–´ë§' },\r\n  { key: 'FaRobot', icon: FaRobot, label: 'ğŸ¤– ìë™í™”/AI' },\r\n  { key: 'FaCar', icon: FaCar, label: 'ğŸš— ìë™ì°¨/ìš´ì „' },\r\n  { key: 'FaShieldAlt', icon: FaShieldAlt, label: 'ğŸ›¡ï¸ êµ°ëŒ€/ë³´ì•ˆ' },\r\n]\r\n\r\n// ğŸŒŸ Sortable ì¹´í…Œê³ ë¦¬ ì•„ì´í…œ ì»´í¬ë„ŒíŠ¸\r\ninterface SortableCategoryItemProps {\r\n  detail: ExperienceDetail\r\n  index: number\r\n  editingCategoryIndex: number | null\r\n  onEdit: (index: number) => void\r\n  onRemove: (index: number) => void\r\n}\r\n\r\nconst SortableCategoryItem: React.FC<SortableCategoryItemProps> = ({ \r\n  detail, \r\n  index, \r\n  editingCategoryIndex,\r\n  onEdit,\r\n  onRemove\r\n}) => {\r\n  const {\r\n    attributes,\r\n    listeners,\r\n    setNodeRef,\r\n    transform,\r\n    transition,\r\n    isDragging,\r\n  } = useSortable({ id: index })\r\n\r\n  const style = {\r\n    transform: CSS.Transform.toString(transform),\r\n    transition,\r\n    opacity: isDragging ? 0.5 : 1,\r\n    zIndex: isDragging ? 1000 : 'auto',\r\n  }\r\n\r\n  return (\r\n    <div \r\n      ref={setNodeRef} \r\n      style={style}\r\n      className=\"bg-white dark:bg-gray-800 p-4 rounded-lg border-2 border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-600 transition-colors\"\r\n    >\r\n      <div className=\"flex items-center justify-between mb-2\">\r\n        <div className=\"flex items-center gap-2\">\r\n          {/* ğŸŒŸ ë“œë˜ê·¸ í•¸ë“¤ */}\r\n          <div\r\n            {...attributes}\r\n            {...listeners}\r\n            className=\"cursor-grab active:cursor-grabbing text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1\"\r\n            title=\"ë“œë˜ê·¸í•˜ì—¬ ìˆœì„œ ë³€ê²½\"\r\n          >\r\n            <FaBars />\r\n          </div>\r\n          <div className=\"w-2 h-2 rounded-full bg-blue-600\"></div>\r\n          <h5 className=\"font-bold text-gray-900 dark:text-white\">{detail.category}</h5>\r\n          <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n            ({detail.items.length}ê°œ í•­ëª©)\r\n          </span>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => onEdit(index)}\r\n            disabled={editingCategoryIndex !== null}\r\n            className={`px-3 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors ${\r\n              editingCategoryIndex !== null ? 'opacity-50 cursor-not-allowed' : ''\r\n            }`}\r\n          >\r\n            ìˆ˜ì •\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => onRemove(index)}\r\n            disabled={editingCategoryIndex !== null}\r\n            className={`p-1.5 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors ${\r\n              editingCategoryIndex !== null ? 'opacity-50 cursor-not-allowed' : ''\r\n            }`}\r\n            title=\"ì¹´í…Œê³ ë¦¬ ì‚­ì œ\"\r\n          >\r\n            <FaTrash className=\"text-xs\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <ul className=\"text-sm text-gray-700 dark:text-gray-300 pl-4\">\r\n        {detail.items.slice(0, 3).map((item, i) => (\r\n          <li key={i} className=\"list-disc\">{item}</li>\r\n        ))}\r\n        {detail.items.length > 3 && (\r\n          <li className=\"text-gray-500 dark:text-gray-400 italic\">\r\n            ì™¸ {detail.items.length - 3}ê°œ í•­ëª©...\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\n// í¼ ì»´í¬ë„ŒíŠ¸ì˜ Props íƒ€ì… ì •ì˜\r\ninterface FormProps {\r\n  data: Experience | null\r\n  onSave: (data: ExperienceFormData) => Promise<void>\r\n  onCancel: () => void\r\n  isSaving?: boolean\r\n}\r\n\r\nconst ExperienceForm: React.FC<FormProps> = ({ data, onSave, onCancel, isSaving = false }) => {\r\n  const [currentLang, setCurrentLang] = useState<AdminLanguage>('ko')\r\n  \r\n  // ğŸŒŸ ìŠ¤í‚¬ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°\r\n  const { skillCategories, loading: skillsLoading } = useSkills()\r\n  \r\n  // ğŸŒŸ skillIds ì´ˆê¸°ê°’ ì²˜ë¦¬ (ê°ì²´ ë˜ëŠ” ë¬¸ìì—´ ëª¨ë‘ ì²˜ë¦¬)\r\n  const initialSkillIds = data?.skillIds \r\n    ? (data.skillIds as any[]).map((skillIdOrObj: any) => \r\n        typeof skillIdOrObj === 'string' ? skillIdOrObj : skillIdOrObj?._id\r\n      ).filter(Boolean) as string[]\r\n    : []\r\n  \r\n  // ì´ˆê¸° formData ì„¤ì • (iconKey í¬í•¨, detailsì— order í˜¸í™˜ì„± ì²˜ë¦¬)\r\n  const initialFormData: ExperienceFormData = data ? {\r\n    ...data,\r\n    iconKey: data.iconKey || 'FaBriefcase',\r\n    // ğŸŒŸ ê¸°ì¡´ ë°ì´í„° í˜¸í™˜ì„±: detailsì— orderê°€ ì—†ìœ¼ë©´ ì¸ë±ìŠ¤ë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •\r\n    details: (data.details || []).map((detail, index) => ({\r\n      ...detail,\r\n      order: detail.order ?? index\r\n    })),\r\n    skills: data.skills || [],\r\n    skillsEn: data.skillsEn || [],\r\n    skillsJa: data.skillsJa || [],\r\n    skillIds: initialSkillIds  // ğŸŒŸ ìŠ¤í‚¬ ID ë¬¸ìì—´ ë°°ì—´ë¡œ ì´ˆê¸°í™”\r\n  } : {\r\n    period: '',\r\n    title: '',\r\n    company: '',\r\n    description: '',\r\n    details: [],\r\n    skills: [],\r\n    skillsEn: [],\r\n    skillsJa: [],\r\n    skillIds: [],  // ğŸŒŸ ìŠ¤í‚¬ ID ì´ˆê¸°ê°’\r\n    order: 0,\r\n    iconKey: 'FaBriefcase'\r\n  }\r\n  \r\n  const [formData, setFormData] = useState<ExperienceFormData>(initialFormData)\r\n  \r\n  // ê¸°ìˆ  ì…ë ¥ì„ ìœ„í•œ ë³„ë„ ìƒíƒœ (ì…ë ¥ ì¤‘ì—ëŠ” ë¬¸ìì—´ë¡œ ìœ ì§€)\r\n  const [skillsInput, setSkillsInput] = useState<string>(\r\n    Array.isArray(formData.skills) ? formData.skills.join(', ') : ''\r\n  )\r\n  \r\n  // ğŸŒŸ ì¹´í…Œê³ ë¦¬ë³„ ìƒì„¸ ë‚´ìš© ê´€ë¦¬ ìƒíƒœ\r\n  const [editingCategoryIndex, setEditingCategoryIndex] = useState<number | null>(null)\r\n  const [categoryFormData, setCategoryFormData] = useState<{ \r\n    category: string\r\n    categoryEn: string\r\n    categoryJa: string\r\n    content: string\r\n    contentEn: string\r\n    contentJa: string\r\n  }>({\r\n    category: '',\r\n    categoryEn: '',\r\n    categoryJa: '',\r\n    content: '',\r\n    contentEn: '',\r\n    contentJa: ''\r\n  })\r\n  \r\n  // ğŸŒŸ ìŠ¤í‚¬ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬ (ì²´í¬ë°•ìŠ¤ìš©)\r\n  const handleSkillToggle = (skillId: string) => {\r\n    const currentSkillIds = formData.skillIds || []\r\n    const isSelected = currentSkillIds.includes(skillId)\r\n    \r\n    const newSkillIds = isSelected\r\n      ? currentSkillIds.filter((id: string) => id !== skillId)\r\n      : [...currentSkillIds, skillId]\r\n    \r\n    setFormData({ \r\n      ...formData, \r\n      skillIds: newSkillIds \r\n    })\r\n  }\r\n  \r\n  // ğŸŒŸ ìŠ¤í‚¬ ì¹´í…Œê³ ë¦¬ ì „ì²´ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬\r\n  const handleSkillCategoryToggle = (category: SkillCategory) => {\r\n    const categorySkillIds = (category.skills || []).map(skill => skill._id!).filter(Boolean)\r\n    const currentSkillIds = formData.skillIds || []\r\n    \r\n    const allSelected = categorySkillIds.every((id: string) => currentSkillIds.includes(id))\r\n    \r\n    let newSkillIds: string[]\r\n    if (allSelected) {\r\n      newSkillIds = currentSkillIds.filter((id: string) => !categorySkillIds.includes(id))\r\n    } else {\r\n      const uniqueIds = new Set([...currentSkillIds, ...categorySkillIds])\r\n      newSkillIds = Array.from(uniqueIds)\r\n    }\r\n    \r\n    setFormData({ \r\n      ...formData, \r\n      skillIds: newSkillIds \r\n    })\r\n  }\r\n  \r\n  // ğŸŒŸ ì¹´í…Œê³ ë¦¬ë³„ ìƒì„¸ ë‚´ìš© ê´€ë¦¬ í•¨ìˆ˜ë“¤\r\n  const addDetailCategory = () => {\r\n    setEditingCategoryIndex((formData.details || []).length)\r\n    setCategoryFormData({ \r\n      category: '', \r\n      categoryEn: '', \r\n      categoryJa: '', \r\n      content: '', \r\n      contentEn: '', \r\n      contentJa: '' \r\n    })\r\n  }\r\n  \r\n  const editDetailCategory = (index: number) => {\r\n    const detail = (formData.details || [])[index]\r\n    if (detail) {\r\n      setEditingCategoryIndex(index)\r\n      setCategoryFormData({\r\n        category: detail.category,\r\n        categoryEn: detail.categoryEn || '',\r\n        categoryJa: detail.categoryJa || '',\r\n        content: detail.items.join('\\n'),\r\n        contentEn: detail.itemsEn?.join('\\n') || '',\r\n        contentJa: detail.itemsJa?.join('\\n') || ''\r\n      })\r\n    }\r\n  }\r\n  \r\n  const saveDetailCategory = () => {\r\n    if (!categoryFormData.category.trim() || !categoryFormData.content.trim()) {\r\n      alert('ì¹´í…Œê³ ë¦¬ ì´ë¦„ê³¼ ë‚´ìš©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.')\r\n      return\r\n    }\r\n    \r\n    const items = categoryFormData.content.split('\\n').map(s => s.trim()).filter(s => s.length > 0)\r\n    const itemsEn = categoryFormData.contentEn.split('\\n').map(s => s.trim()).filter(s => s.length > 0)\r\n    const itemsJa = categoryFormData.contentJa.split('\\n').map(s => s.trim()).filter(s => s.length > 0)\r\n    \r\n    const newDetail: ExperienceDetail = {\r\n      category: categoryFormData.category.trim(),\r\n      categoryEn: categoryFormData.categoryEn.trim() || undefined,\r\n      categoryJa: categoryFormData.categoryJa.trim() || undefined,\r\n      items,\r\n      itemsEn: itemsEn.length > 0 ? itemsEn : undefined,\r\n      itemsJa: itemsJa.length > 0 ? itemsJa : undefined\r\n    }\r\n    \r\n    const newDetails = [...(formData.details || [])]\r\n    if (editingCategoryIndex !== null) {\r\n      newDetails[editingCategoryIndex] = newDetail\r\n    }\r\n    \r\n    setFormData({ ...formData, details: newDetails })\r\n    setEditingCategoryIndex(null)\r\n    setCategoryFormData({ \r\n      category: '', \r\n      categoryEn: '', \r\n      categoryJa: '', \r\n      content: '', \r\n      contentEn: '', \r\n      contentJa: '' \r\n    })\r\n  }\r\n  \r\n  const cancelDetailCategory = () => {\r\n    setEditingCategoryIndex(null)\r\n    setCategoryFormData({ \r\n      category: '', \r\n      categoryEn: '', \r\n      categoryJa: '', \r\n      content: '', \r\n      contentEn: '', \r\n      contentJa: '' \r\n    })\r\n  }\r\n  \r\n  const removeDetailCategory = (index: number) => {\r\n    if (!confirm('ì´ ì¹´í…Œê³ ë¦¬ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return\r\n    const newDetails = [...(formData.details || [])]\r\n    newDetails.splice(index, 1)\r\n    setFormData({ ...formData, details: newDetails })\r\n  }\r\n  \r\n  // ğŸŒŸ ë“œë˜ê·¸ ì•¤ ë“œë¡­ í•¸ë“¤ëŸ¬\r\n  const handleDragEnd = (event: DragEndEvent) => {\r\n    const { active, over } = event\r\n    \r\n    if (!over || active.id === over.id) return\r\n    \r\n    const oldIndex = (formData.details || []).findIndex((_, i) => i === active.id)\r\n    const newIndex = (formData.details || []).findIndex((_, i) => i === over.id)\r\n    \r\n    if (oldIndex === -1 || newIndex === -1) return\r\n    \r\n    // ë°°ì—´ ìˆœì„œ ë³€ê²½\r\n    const newDetails = [...(formData.details || [])]\r\n    const [movedItem] = newDetails.splice(oldIndex, 1)\r\n    \r\n    if (!movedItem) return  // ì•ˆì „ì„± ì²´í¬\r\n    \r\n    newDetails.splice(newIndex, 0, movedItem)\r\n    \r\n    // ğŸŒŸ ìˆœì„œ ë³€ê²½ í›„ ê° í•­ëª©ì— ìƒˆë¡œìš´ order ê°’ í• ë‹¹\r\n    const reorderedDetails = newDetails.map((detail, index) => ({\r\n      ...detail,\r\n      order: index\r\n    }))\r\n    \r\n    setFormData({ ...formData, details: reorderedDetails })\r\n  }\r\n\r\n  // í•„ìˆ˜ í•„ë“œ ê²€ì¦\r\n  const isFormValid = formData.title.trim() !== '' && \r\n                     formData.company.trim() !== '' && \r\n                     formData.period.trim() !== ''\r\n\r\n  const handleFormSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    if (!isFormValid) {\r\n      alert('í•„ìˆ˜ í•„ë“œ(ê¸°ê°„, ì§ì±…, íšŒì‚¬/ê¸°ê´€)ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.')\r\n      return\r\n    }\r\n    \r\n    // ì œì¶œ ì‹œ ìµœì‹  ê¸°ìˆ  ë°°ì—´ì„ í¬í•¨í•˜ì—¬ ì €ì¥ (í˜¸í™˜ì„± ìœ ì§€)\r\n    const skillsArray = skillsInput.split(',').map((s) => s.trim()).filter(s => s.length > 0)\r\n    \r\n    // ğŸŒŸ skillIdsë¥¼ ë¬¸ìì—´ ë°°ì—´ë¡œ í™•ì‹¤í•˜ê²Œ ë³€í™˜ + ì¤‘ë³µ ì œê±°\r\n    const skillIds = Array.from(new Set(\r\n      (formData.skillIds || []).map((skillIdOrObj: any) => \r\n        typeof skillIdOrObj === 'string' ? skillIdOrObj : skillIdOrObj?._id\r\n      ).filter(Boolean)\r\n    ))\r\n    \r\n    // ğŸŒŸ details ë°°ì—´ì˜ ê° í•­ëª©ì— order ê°’ í• ë‹¹ (í˜„ì¬ ë°°ì—´ ìˆœì„œ ê¸°ì¤€)\r\n    const orderedDetails = (formData.details || []).map((detail, index) => ({\r\n      ...detail,\r\n      order: detail.order ?? index  // ê¸°ì¡´ orderê°€ ìˆìœ¼ë©´ ìœ ì§€, ì—†ìœ¼ë©´ ì¸ë±ìŠ¤ ì‚¬ìš©\r\n    }))\r\n    \r\n    const finalFormData = { \r\n      ...formData, \r\n      skills: skillsArray,  // ğŸ”„ í˜¸í™˜ì„± ìœ ì§€\r\n      skillIds,  // ğŸŒŸ ìŠ¤í‚¬ ID ë°°ì—´\r\n      details: orderedDetails\r\n    }\r\n    \r\n    console.log('ğŸ“¤ ê²½ë ¥ ì €ì¥ ë°ì´í„°:', finalFormData)\r\n    onSave(finalFormData)\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleFormSubmit} className=\"space-y-4\">\r\n      <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-4\">\r\n        {data ? 'ê²½ë ¥ ìˆ˜ì •' : 'ê²½ë ¥ ì¶”ê°€'}\r\n      </h3>\r\n      <div className=\"grid md:grid-cols-2 gap-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ê¸°ê°„\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={formData.period}\r\n            onChange={(e) => setFormData({ ...formData, period: e.target.value })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n            placeholder=\"2018 - 2023\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ì§ì±…\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={formData.title}\r\n            onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            íšŒì‚¬/ê¸°ê´€\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={formData.company}\r\n            onChange={(e) => setFormData({ ...formData, company: e.target.value })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ìˆœì„œ\r\n          </label>\r\n          <input\r\n            type=\"number\"\r\n            value={formData.order}\r\n            onChange={(e) => {\r\n              const value = parseInt(e.target.value)\r\n              setFormData({ ...formData, order: isNaN(value) ? 0 : value })\r\n            }}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n            min=\"0\"\r\n            placeholder=\"í‘œì‹œ ìˆœì„œ (ìˆ«ìê°€ ì‘ì„ìˆ˜ë¡ ë¨¼ì € í‘œì‹œ)\"\r\n          />\r\n        </div>\r\n        {/* ğŸŒŸ ì•„ì´ì½˜ ì„ íƒ í•„ë“œ (ì‹ ê·œ) */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ì•„ì´ì½˜\r\n          </label>\r\n          <select\r\n            value={formData.iconKey || 'FaBriefcase'}\r\n            onChange={(e) => setFormData({ ...formData, iconKey: e.target.value })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n          >\r\n            {iconOptions.map((option) => (\r\n              <option key={option.key} value={option.key}>\r\n                {option.label}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          {/* ë¯¸ë¦¬ë³´ê¸° */}\r\n          <div className=\"mt-2 flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400\">\r\n            <span>ë¯¸ë¦¬ë³´ê¸°:</span>\r\n            {React.createElement(\r\n              iconOptions.find(opt => opt.key === (formData.iconKey || 'FaBriefcase'))?.icon || FaBriefcase,\r\n              { className: 'text-xl' }\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* ğŸŒŸ ì¹´í…Œê³ ë¦¬ë³„ ìƒì„¸ ë‚´ìš© ì…ë ¥ (ì‹ ê·œ) */}\r\n      <div className=\"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border-2 border-blue-200 dark:border-blue-800\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <div>\r\n            <h4 className=\"text-md font-bold text-gray-900 dark:text-white\">\r\n              ğŸ“‹ ì¹´í…Œê³ ë¦¬ë³„ ìƒì„¸ ë‚´ìš©\r\n            </h4>\r\n            <p className=\"text-xs text-gray-600 dark:text-gray-400 mt-1\">\r\n              ê·¼ë¬´ê²½í—˜, êµìœ¡, ê·¼ë¬´ë§¤ì¥ ë“± ì¹´í…Œê³ ë¦¬ë³„ë¡œ êµ¬ì²´ì ì¸ ë‚´ìš©ì„ ì •ë¦¬í•˜ì„¸ìš”\r\n            </p>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={addDetailCategory}\r\n            disabled={editingCategoryIndex !== null}\r\n            className={`px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2 text-sm ${\r\n              editingCategoryIndex !== null ? 'opacity-50 cursor-not-allowed' : ''\r\n            }`}\r\n          >\r\n            <FaPlus className=\"text-xs\" />\r\n            ì¹´í…Œê³ ë¦¬ ì¶”ê°€\r\n          </button>\r\n        </div>\r\n        \r\n        {/* ì €ì¥ëœ ì¹´í…Œê³ ë¦¬ ëª©ë¡ - ğŸŒŸ ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì ìš© */}\r\n        {formData.details && formData.details.length > 0 && (\r\n          <DndContext collisionDetection={closestCenter} onDragEnd={handleDragEnd}>\r\n            <SortableContext items={formData.details.map((_, i) => i)} strategy={verticalListSortingStrategy}>\r\n              <div className=\"space-y-3 mb-4\">\r\n                {formData.details.map((detail, index) => (\r\n                  <SortableCategoryItem\r\n                    key={index}\r\n                    detail={detail}\r\n                    index={index}\r\n                    editingCategoryIndex={editingCategoryIndex}\r\n                    onEdit={editDetailCategory}\r\n                    onRemove={removeDetailCategory}\r\n                  />\r\n                ))}\r\n              </div>\r\n            </SortableContext>\r\n          </DndContext>\r\n        )}\r\n        \r\n        {/* ì¹´í…Œê³ ë¦¬ ì¶”ê°€/ìˆ˜ì • í¼ */}\r\n        {editingCategoryIndex !== null && (\r\n          <div className=\"bg-white dark:bg-gray-800 p-5 rounded-lg border-2 border-blue-400 dark:border-blue-600 shadow-lg\">\r\n            <h5 className=\"font-bold text-gray-900 dark:text-white mb-4\">\r\n              {editingCategoryIndex < (formData.details || []).length ? 'ì¹´í…Œê³ ë¦¬ ìˆ˜ì •' : 'ì¹´í…Œê³ ë¦¬ ì¶”ê°€'}\r\n            </h5>\r\n            \r\n            {/* Language Tabs for Detail Category */}\r\n            <div className=\"mb-4\">\r\n              <LanguageTabs activeLanguage={currentLang} onChange={setCurrentLang} />\r\n            </div>\r\n            \r\n            <div className=\"space-y-4\">\r\n              {/* Category Name (Multilingual) */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                  ì¹´í…Œê³ ë¦¬ ì´ë¦„ {currentLang === 'ko' && <span className=\"text-red-500\">*</span>}\r\n                  <span className=\"text-xs text-gray-500 ml-2\">\r\n                    ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\r\n                  </span>\r\n                </label>\r\n                {currentLang === 'ko' && (\r\n                  <input\r\n                    type=\"text\"\r\n                    value={categoryFormData.category}\r\n                    onChange={(e) => setCategoryFormData({ ...categoryFormData, category: e.target.value })}\r\n                    placeholder=\"ì˜ˆ: ê·¼ë¬´ê²½í—˜, êµìœ¡, ê·¼ë¬´ë§¤ì¥\"\r\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-semibold\"\r\n                  />\r\n                )}\r\n                {currentLang === 'en' && (\r\n                  <input\r\n                    type=\"text\"\r\n                    value={categoryFormData.categoryEn}\r\n                    onChange={(e) => setCategoryFormData({ ...categoryFormData, categoryEn: e.target.value })}\r\n                    placeholder=\"e.g., Work Experience, Education, Store\"\r\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-semibold\"\r\n                  />\r\n                )}\r\n                {currentLang === 'ja' && (\r\n                  <input\r\n                    type=\"text\"\r\n                    value={categoryFormData.categoryJa}\r\n                    onChange={(e) => setCategoryFormData({ ...categoryFormData, categoryJa: e.target.value })}\r\n                    placeholder=\"ä¾‹: è·å‹™çµŒé¨“ã€æ•™è‚²ã€åº—èˆ—\"\r\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-semibold\"\r\n                  />\r\n                )}\r\n              </div>\r\n              \r\n              {/* Category Content (Multilingual) */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                  ì¹´í…Œê³ ë¦¬ ë‚´ìš© {currentLang === 'ko' && <span className=\"text-red-500\">*</span>}\r\n                  <span className=\"text-xs text-gray-500 ml-2\">\r\n                    ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\r\n                  </span>\r\n                </label>\r\n                {currentLang === 'ko' && (\r\n                  <>\r\n                    <RichTextEditor\r\n                      value={categoryFormData.content}\r\n                      onChange={(value) => setCategoryFormData({ ...categoryFormData, content: value })}\r\n                      placeholder=\"í•­ëª©ë“¤ì„ í•œ ì¤„ì”© ì…ë ¥í•˜ì„¸ìš”&#10;ì˜ˆ:&#10;ë§¤ì¥ì¸ì› ê´€ë¦¬&#10;ì‹ ê·œíŒŒíŠ¸ë„ˆ êµìœ¡&#10;ë¼ë–¼ì•„íŠ¸ êµìœ¡\"\r\n                      rows={8}\r\n                      className=\"min-h-[200px]\"\r\n                    />\r\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">\r\n                      ğŸ’¡ í•œ ì¤„ì— í•˜ë‚˜ì”© í•­ëª©ì„ ì…ë ¥í•˜ì„¸ìš” (Enterë¡œ êµ¬ë¶„)\r\n                    </p>\r\n                  </>\r\n                )}\r\n                {currentLang === 'en' && (\r\n                  <>\r\n                    <RichTextEditor\r\n                      value={categoryFormData.contentEn}\r\n                      onChange={(value) => setCategoryFormData({ ...categoryFormData, contentEn: value })}\r\n                      placeholder=\"Enter items one per line&#10;e.g.&#10;Store Staff Management&#10;New Partner Training&#10;Latte Art Education\"\r\n                      rows={8}\r\n                      className=\"min-h-[200px]\"\r\n                    />\r\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">\r\n                      ğŸ’¡ Enter one item per line (separated by Enter)\r\n                    </p>\r\n                  </>\r\n                )}\r\n                {currentLang === 'ja' && (\r\n                  <>\r\n                    <RichTextEditor\r\n                      value={categoryFormData.contentJa}\r\n                      onChange={(value) => setCategoryFormData({ ...categoryFormData, contentJa: value })}\r\n                      placeholder=\"1è¡Œã«1é …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„&#10;ä¾‹:&#10;åº—èˆ—ã‚¹ã‚¿ãƒƒãƒ•ç®¡ç†&#10;æ–°è¦ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼æ•™è‚²&#10;ãƒ©ãƒ†ã‚¢ãƒ¼ãƒˆæ•™è‚²\"\r\n                      rows={8}\r\n                      className=\"min-h-[200px]\"\r\n                    />\r\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">\r\n                      ğŸ’¡ 1è¡Œã«1é …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ (Enterã§åŒºåˆ‡ã‚‹)\r\n                    </p>\r\n                  </>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"flex gap-3\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={saveDetailCategory}\r\n                  className=\"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2\"\r\n                >\r\n                  <FaSave />\r\n                  ì €ì¥\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={cancelDetailCategory}\r\n                  className=\"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors\"\r\n                >\r\n                  ì·¨ì†Œ\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        {/* ë¹ˆ ìƒíƒœ */}\r\n        {(!formData.details || formData.details.length === 0) && editingCategoryIndex === null && (\r\n          <div className=\"text-center py-6 bg-white dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600\">\r\n            <p className=\"text-gray-500 dark:text-gray-400 text-sm mb-2\">\r\n              ì•„ì§ ì¹´í…Œê³ ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤\r\n            </p>\r\n            <p className=\"text-xs text-gray-400 dark:text-gray-500\">\r\n              ìƒë‹¨ì˜ \"ì¹´í…Œê³ ë¦¬ ì¶”ê°€\" ë²„íŠ¼ì„ ëˆŒëŸ¬ ì‹œì‘í•˜ì„¸ìš”\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n          ì„¤ëª… (ë¦¬ì¹˜í…ìŠ¤íŠ¸ ì—ë””í„°) - ì„ íƒì‚¬í•­\r\n        </label>\r\n        <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-2\">\r\n          ğŸ’¡ ìœ„ì˜ \"ì¹´í…Œê³ ë¦¬ë³„ ìƒì„¸ ë‚´ìš©\"ì„ ì‚¬ìš©í•˜ë©´ ë” ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬ë©ë‹ˆë‹¤. ì´ í•„ë“œëŠ” í•˜ìœ„ í˜¸í™˜ì„±ì„ ìœ„í•´ ìœ ì§€ë©ë‹ˆë‹¤.\r\n        </p>\r\n        <RichTextEditor\r\n          value={formData.description || ''}\r\n          onChange={(value) => setFormData({ ...formData, description: value })}\r\n          placeholder=\"(ì„ íƒì‚¬í•­) ì „ì²´ì ì¸ ì„¤ëª…ì„ ì‘ì„±í•˜ê±°ë‚˜, ìœ„ì˜ ì¹´í…Œê³ ë¦¬ë³„ ì…ë ¥ì„ ì‚¬ìš©í•˜ì„¸ìš”.\"\r\n          rows={4}\r\n          className=\"min-h-[150px]\"\r\n        />\r\n      </div>\r\n      {/* ğŸŒŸ ìŠ¤í‚¬ ì—°ê²° (ì²´í¬ë°•ìŠ¤) */}\r\n      <div className=\"md:col-span-2\">\r\n        <div className=\"flex items-center justify-between mb-2\">\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n            ì´ ê²½ë ¥ì—ì„œ ì‚¬ìš©í•œ ìŠ¤í‚¬ ğŸ”—\r\n          </label>\r\n          {formData.skillIds && formData.skillIds.length > 0 && (\r\n            <span className=\"text-xs font-semibold text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded\">\r\n              âœ“ {formData.skillIds.length}ê°œ ì„ íƒë¨\r\n            </span>\r\n          )}\r\n        </div>\r\n        \r\n        {skillsLoading ? (\r\n          <div className=\"text-sm text-gray-500 dark:text-gray-400 py-2\">\r\n            ìŠ¤í‚¬ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...\r\n          </div>\r\n        ) : skillCategories.length === 0 ? (\r\n          <div className=\"text-sm text-gray-500 dark:text-gray-400 py-4 text-center border border-gray-300 dark:border-gray-600 rounded-lg\">\r\n            ë“±ë¡ëœ ìŠ¤í‚¬ì´ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € ìŠ¤í‚¬ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.\r\n          </div>\r\n        ) : (\r\n          <div className=\"border border-gray-300 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-800 max-h-[400px] overflow-y-auto\">\r\n            {skillCategories.map((category: SkillCategory) => {\r\n              const categorySkillIds = (category.skills || []).map(skill => skill._id!).filter(Boolean)\r\n              const currentSkillIds = formData.skillIds || []\r\n              const selectedCount = categorySkillIds.filter(id => currentSkillIds.includes(id)).length\r\n              const allSelected = categorySkillIds.length > 0 && selectedCount === categorySkillIds.length\r\n              const someSelected = selectedCount > 0 && selectedCount < categorySkillIds.length\r\n              \r\n              return (\r\n                <div key={category._id} className=\"mb-4 last:mb-0\">\r\n                  {/* ì¹´í…Œê³ ë¦¬ í—¤ë” (ì „ì²´ ì„ íƒ/í•´ì œ) */}\r\n                  <div \r\n                    className=\"flex items-center gap-2 mb-2 pb-2 border-b border-gray-300 dark:border-gray-600 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded\"\r\n                    onClick={() => handleSkillCategoryToggle(category)}\r\n                  >\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={allSelected}\r\n                      ref={el => {\r\n                        if (el) {\r\n                          el.indeterminate = someSelected\r\n                        }\r\n                      }}\r\n                      onChange={() => handleSkillCategoryToggle(category)}\r\n                      className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                      onClick={(e) => e.stopPropagation()}\r\n                    />\r\n                    <label \r\n                      className=\"font-semibold text-gray-900 dark:text-white flex-1 cursor-pointer\"\r\n                      style={{ color: category.color || '#3B82F6' }}\r\n                    >\r\n                      {category.title}\r\n                      {selectedCount > 0 && (\r\n                        <span className=\"ml-2 text-xs font-normal text-gray-500 dark:text-gray-400\">\r\n                          ({selectedCount}/{categorySkillIds.length})\r\n                        </span>\r\n                      )}\r\n                    </label>\r\n                  </div>\r\n                  \r\n                  {/* ìŠ¤í‚¬ ëª©ë¡ */}\r\n                  <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 pl-6\">\r\n                    {(category.skills || []).map((skill: Skill) => {\r\n                      const isSelected = (formData.skillIds || []).includes(skill._id!)\r\n                      \r\n                      return (\r\n                        <label\r\n                          key={skill._id}\r\n                          className={`flex items-center gap-2 p-2 rounded cursor-pointer transition-colors ${\r\n                            isSelected \r\n                              ? 'bg-blue-50 dark:bg-blue-900/20 border border-blue-300 dark:border-blue-700' \r\n                              : 'hover:bg-gray-100 dark:hover:bg-gray-700 border border-transparent'\r\n                          }`}\r\n                        >\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={isSelected}\r\n                            onChange={() => handleSkillToggle(skill._id!)}\r\n                            className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                          />\r\n                          <span className={`text-sm ${isSelected ? 'font-semibold text-blue-700 dark:text-blue-300' : 'text-gray-700 dark:text-gray-300'}`}>\r\n                            {skill.name}\r\n                          </span>\r\n                        </label>\r\n                      )\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n        )}\r\n        \r\n        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">\r\n          ğŸ’¡ ì²´í¬ë°•ìŠ¤ë¥¼ í´ë¦­í•˜ì—¬ ê²½ë ¥ì—ì„œ ì‚¬ìš©í•œ ìŠ¤í‚¬ì„ ì„ íƒí•˜ì„¸ìš”. ì¹´í…Œê³ ë¦¬ ì œëª©ì„ í´ë¦­í•˜ë©´ ì „ì²´ ì„ íƒ/í•´ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\r\n        </p>\r\n      </div>\r\n      \r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n          ê¸°ìˆ  (ì‰¼í‘œë¡œ êµ¬ë¶„) - ì„ íƒì‚¬í•­\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          value={skillsInput}\r\n          onChange={(e) => setSkillsInput(e.target.value)}\r\n          onBlur={() => {\r\n            // í¬ì»¤ìŠ¤ë¥¼ ìƒì„ ë•Œ ë°°ì—´ë¡œ ë³€í™˜í•˜ì—¬ formDataì— ì €ì¥\r\n            const skillsArray = skillsInput.split(',').map((s) => s.trim()).filter(s => s.length > 0)\r\n            setFormData({ ...formData, skills: skillsArray })\r\n          }}\r\n          className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n          placeholder=\"PLC í”„ë¡œê·¸ë˜ë°, Python, ë°ì´í„° ë¶„ì„\"\r\n        />\r\n        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n          ğŸ’¡ ìœ„ì˜ ìŠ¤í‚¬ ì²´í¬ë°•ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤. ì´ í•„ë“œëŠ” í•˜ìœ„ í˜¸í™˜ì„±ì„ ìœ„í•´ ìœ ì§€ë©ë‹ˆë‹¤.\r\n        </p>\r\n      </div>\r\n      {/* ğŸŒŸ ìµœì¢… ì €ì¥ ì•ˆë‚´ (ì¹´í…Œê³ ë¦¬ ì…ë ¥ ì¤‘ì¼ ë•Œ) */}\r\n      {editingCategoryIndex !== null && (\r\n        <div className=\"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border-2 border-yellow-300 dark:border-yellow-700\">\r\n          <p className=\"text-sm text-yellow-800 dark:text-yellow-300 font-medium\">\r\n            âš ï¸ ì¹´í…Œê³ ë¦¬ ì…ë ¥ ì¤‘ì…ë‹ˆë‹¤. ìœ„ì˜ \"ì €ì¥\" ë²„íŠ¼ì„ ë¨¼ì € ëˆŒëŸ¬ ì¹´í…Œê³ ë¦¬ë¥¼ ì €ì¥í•˜ì„¸ìš”.\r\n          </p>\r\n        </div>\r\n      )}\r\n      \r\n      {/* ğŸŒŸ ì €ì¥ëœ ì¹´í…Œê³ ë¦¬ ìš”ì•½ */}\r\n      {formData.details && formData.details.length > 0 && editingCategoryIndex === null && (\r\n        <div className=\"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border-2 border-green-300 dark:border-green-700\">\r\n          <p className=\"text-sm text-green-800 dark:text-green-300 font-medium mb-2\">\r\n            âœ… {formData.details.length}ê°œì˜ ì¹´í…Œê³ ë¦¬ê°€ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤\r\n          </p>\r\n          <p className=\"text-xs text-green-700 dark:text-green-400\">\r\n            ì•„ë˜ \"ì €ì¥\" ë²„íŠ¼ì„ ëˆŒëŸ¬ ê²½ë ¥ ë°ì´í„°ë¥¼ ìµœì¢… ì €ì¥í•˜ì„¸ìš”\r\n          </p>\r\n        </div>\r\n      )}\r\n      \r\n      <div className=\"flex gap-3 pt-4 border-t-2 border-gray-300 dark:border-gray-600\">\r\n        <button\r\n          type=\"submit\"\r\n          disabled={isSaving || !isFormValid || editingCategoryIndex !== null}\r\n          className={`flex-1 flex items-center justify-center gap-2 bg-primary-600 hover:bg-primary-700 text-white font-bold py-3 rounded-lg transition-colors text-lg ${\r\n            isSaving || !isFormValid || editingCategoryIndex !== null ? 'opacity-50 cursor-not-allowed' : 'shadow-lg'\r\n          }`}\r\n          title={editingCategoryIndex !== null ? 'ì¹´í…Œê³ ë¦¬ ì…ë ¥ì„ ë¨¼ì € ì™„ë£Œí•˜ì„¸ìš”' : ''}\r\n        >\r\n          {isSaving ? (\r\n            <>\r\n              <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n              ì €ì¥ ì¤‘...\r\n            </>\r\n          ) : (\r\n            <>\r\n              <FaSave className=\"text-xl\" /> ìµœì¢… ì €ì¥\r\n            </>\r\n          )}\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          onClick={onCancel}\r\n          disabled={isSaving}\r\n          className={`flex-1 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white font-medium py-3 rounded-lg transition-colors ${\r\n            isSaving ? 'opacity-50 cursor-not-allowed' : ''\r\n          }`}\r\n        >\r\n          ì·¨ì†Œ\r\n        </button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default ExperienceForm\r\n","import React from 'react'\r\nimport { FaSave, FaPlus, FaTrash, FaVideo, FaTimes } from 'react-icons/fa'\r\nimport { Project, ProjectFormData, Skill, SkillCategory } from '../../types'\r\nimport RichTextEditor from '../RichTextEditor'\r\nimport { useSkills } from '../../hooks/useSkills'\r\nimport { useCategories } from '../../hooks/useCategories'\r\nimport LanguageTabs from '../common/LanguageTabs'\r\nimport { useProjectForm } from '../../hooks/useProjectForm'\r\n\r\n// í¼ ì»´í¬ë„ŒíŠ¸ì˜ Props íƒ€ì… ì •ì˜\r\ninterface FormProps {\r\n  data: Project | null\r\n  onSave: (data: ProjectFormData) => Promise<void>\r\n  onCancel: () => void\r\n  isSaving?: boolean\r\n}\r\n\r\nconst ProjectForm: React.FC<FormProps> = ({ data, onSave, onCancel, isSaving = false }) => {\r\n  // Use custom hook for form logic\r\n  const {\r\n    formData,\r\n    videoItems,\r\n    currentLang,\r\n    setCurrentLang,\r\n    setFormData,\r\n    handleVideoUrlChange,\r\n    handleVideoDescriptionChange,\r\n    handleAddVideo,\r\n    handleRemoveVideo,\r\n    prepareDataForSubmit\r\n  } = useProjectForm(data)\r\n  \r\n  // ğŸŒŸ ëª¨ë“  ìŠ¤í‚¬ ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤\r\n  const { skillCategories, loading: skillsLoading } = useSkills()\r\n  \r\n  // ğŸŒŸ ì¹´í…Œê³ ë¦¬ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\r\n  const { data: categories = [], isLoading: categoriesLoading } = useCategories()\r\n\r\n  // ğŸŒŸ ì¹´í…Œê³ ë¦¬ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬ (ì²´í¬ë°•ìŠ¤ìš©)\r\n  const handleCategoryToggle = (categoryId: string) => {\r\n    const currentCategoryIds = formData.categoryIds || []\r\n    const isSelected = currentCategoryIds.includes(categoryId)\r\n    \r\n    const newCategoryIds = isSelected\r\n      ? currentCategoryIds.filter((id: string) => id !== categoryId)\r\n      : [...currentCategoryIds, categoryId]\r\n    \r\n    setFormData({ \r\n      ...formData, \r\n      categoryIds: newCategoryIds \r\n    })\r\n  }\r\n\r\n  // ğŸŒŸ ìŠ¤í‚¬ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬ (ì²´í¬ë°•ìŠ¤ìš©)\r\n  const handleSkillToggle = (skillId: string) => {\r\n    const currentSkillIds = formData.skillIds || []\r\n    const isSelected = currentSkillIds.includes(skillId)\r\n    \r\n    const newSkillIds = isSelected\r\n      ? currentSkillIds.filter((id: string) => id !== skillId) // ì„ íƒ í•´ì œ\r\n      : [...currentSkillIds, skillId] // ì„ íƒ ì¶”ê°€\r\n    \r\n    console.log('ğŸ”§ ìŠ¤í‚¬ ë³€ê²½:', { skillId, isSelected: !isSelected, newSkillIds })\r\n    setFormData({ \r\n      ...formData, \r\n      skillIds: newSkillIds \r\n    })\r\n  }\r\n  \r\n  // ğŸŒŸ ìŠ¤í‚¬ ì¹´í…Œê³ ë¦¬ ì „ì²´ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬\r\n  const handleSkillCategoryToggle = (category: SkillCategory) => {\r\n    const categorySkillIds = (category.skills || []).map(skill => skill._id!).filter(Boolean)\r\n    const currentSkillIds = formData.skillIds || []\r\n    \r\n    // ì¹´í…Œê³ ë¦¬ì˜ ëª¨ë“  ìŠ¤í‚¬ì´ ì„ íƒë˜ì–´ ìˆëŠ”ì§€ í™•ì¸\r\n    const allSelected = categorySkillIds.every((id: string) => currentSkillIds.includes(id))\r\n    \r\n    let newSkillIds: string[]\r\n    if (allSelected) {\r\n      // ëª¨ë‘ ì„ íƒë˜ì–´ ìˆìœ¼ë©´ ì „ì²´ í•´ì œ\r\n      newSkillIds = currentSkillIds.filter((id: string) => !categorySkillIds.includes(id))\r\n    } else {\r\n      // ì¼ë¶€ë§Œ ì„ íƒë˜ì–´ ìˆê±°ë‚˜ ì—†ìœ¼ë©´ ì „ì²´ ì„ íƒ\r\n      const uniqueIds = new Set([...currentSkillIds, ...categorySkillIds])\r\n      newSkillIds = Array.from(uniqueIds)\r\n    }\r\n    \r\n    console.log('ğŸ“ ì¹´í…Œê³ ë¦¬ ì „ì²´ ë³€ê²½:', { category: category.title, allSelected: !allSelected, newSkillIds })\r\n    setFormData({ \r\n      ...formData, \r\n      skillIds: newSkillIds \r\n    })\r\n  }\r\n\r\n  const handleSaveClick = () => {\r\n    try {\r\n      console.log('ğŸ’¾ ì €ì¥ ì‹œì‘ - videoItems:', videoItems)\r\n      console.log('ğŸ”— ì„ íƒëœ ìŠ¤í‚¬ IDs:', formData.skillIds)\r\n      \r\n      // Use hook's prepare function to process all data\r\n      const processedData = prepareDataForSubmit()\r\n      \r\n      console.log('âœ… ìµœì¢… processedData:', processedData)\r\n      console.log('âœ… ìµœì¢… skillIds:', processedData.skillIds)\r\n      onSave(processedData)\r\n    } catch (error: any) {\r\n      console.error('âŒ ì €ì¥ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error)\r\n      alert(error.message || 'ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì½˜ì†”ì„ í™•ì¸í•´ì£¼ì„¸ìš”.')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-4\">\r\n        {data ? 'í”„ë¡œì íŠ¸ ìˆ˜ì •' : 'í”„ë¡œì íŠ¸ ì¶”ê°€'}\r\n      </h3>\r\n      \r\n      {/* Language Tabs */}\r\n      <LanguageTabs activeLanguage={currentLang} onChange={setCurrentLang} />\r\n\r\n      <div className=\"grid md:grid-cols-2 gap-4\">\r\n        {/* Title Field (Multilingual) */}\r\n        <div className=\"md:col-span-2\">\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ì œëª© {currentLang === 'ko' && <span className=\"text-red-500\">*</span>}\r\n            <span className=\"text-xs text-gray-500 ml-2\">\r\n              ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\r\n            </span>\r\n          </label>\r\n          {currentLang === 'ko' && (\r\n            <input\r\n              type=\"text\"\r\n              value={formData.title}\r\n              onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n              className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n              placeholder=\"í”„ë¡œì íŠ¸ ì œëª©\"\r\n              required\r\n            />\r\n          )}\r\n          {currentLang === 'en' && (\r\n            <input\r\n              type=\"text\"\r\n              value={formData.titleEn || ''}\r\n              onChange={(e) => setFormData({ ...formData, titleEn: e.target.value })}\r\n              className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n              placeholder=\"Project Title\"\r\n            />\r\n          )}\r\n          {currentLang === 'ja' && (\r\n            <input\r\n              type=\"text\"\r\n              value={formData.titleJa || ''}\r\n              onChange={(e) => setFormData({ ...formData, titleJa: e.target.value })}\r\n              className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n              placeholder=\"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¿ã‚¤ãƒˆãƒ«\"\r\n            />\r\n          )}\r\n        </div>\r\n        <div className=\"md:col-span-2\">\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\r\n            ì¹´í…Œê³ ë¦¬ ì„ íƒ ğŸ“‚ (ë‹¤ì¤‘ ì„ íƒ ê°€ëŠ¥)\r\n          </label>\r\n\r\n          {/* ì„ íƒëœ ì¹´í…Œê³ ë¦¬ íƒœê·¸ í‘œì‹œ */}\r\n          {formData.categoryIds && formData.categoryIds.length > 0 && (\r\n            <div className=\"flex flex-wrap gap-2 mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\r\n              {formData.categoryIds.map((catId: string) => {\r\n                const category = categories.find(c => c._id === catId)\r\n                return category ? (\r\n                  <span\r\n                    key={catId}\r\n                    className=\"inline-flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded-full text-sm\"\r\n                  >\r\n                    {category.name}\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleCategoryToggle(catId)}\r\n                      className=\"hover:bg-blue-700 rounded-full p-0.5\"\r\n                    >\r\n                      <FaTimes className=\"text-xs\" />\r\n                    </button>\r\n                  </span>\r\n                ) : null\r\n              })}\r\n            </div>\r\n          )}\r\n\r\n          {/* ì¹´í…Œê³ ë¦¬ ì²´í¬ë°•ìŠ¤ ëª©ë¡ */}\r\n          {categoriesLoading ? (\r\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">ì¹´í…Œê³ ë¦¬ ë¡œë”© ì¤‘...</p>\r\n          ) : categories.length > 0 ? (\r\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\r\n              {categories.map((category) => {\r\n                const isSelected = (formData.categoryIds || []).includes(category._id)\r\n                return (\r\n                  <label\r\n                    key={category._id}\r\n                    className={`flex items-center gap-2 p-3 border-2 rounded-lg cursor-pointer transition-all ${\r\n                      isSelected\r\n                        ? 'border-primary-600 bg-primary-50 dark:bg-primary-900/20'\r\n                        : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\r\n                    }`}\r\n                  >\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={isSelected}\r\n                      onChange={() => handleCategoryToggle(category._id)}\r\n                      className=\"w-4 h-4\"\r\n                    />\r\n                    <span className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                      {category.name}\r\n                    </span>\r\n                  </label>\r\n                )\r\n              })}\r\n            </div>\r\n          ) : (\r\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n              ë“±ë¡ëœ ì¹´í…Œê³ ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤. ê´€ë¦¬ì ë©”ë‰´ì˜ \"ì¹´í…Œê³ ë¦¬ ê´€ë¦¬\"ì—ì„œ ì¶”ê°€í•˜ì„¸ìš”.\r\n            </p>\r\n          )}\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ìƒíƒœ\r\n          </label>\r\n          <select\r\n            value={formData.status}\r\n            onChange={(e) => setFormData({ ...formData, status: e.target.value as 'preparing' | 'planning' | 'completed' })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n          >\r\n            <option value=\"preparing\">ì¤€ë¹„ ì¤‘</option>\r\n            <option value=\"planning\">ê³„íš ì¤‘</option>\r\n            <option value=\"completed\">ì™„ë£Œ</option>\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            GitHub URL\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={formData.githubLink || ''}\r\n            onChange={(e) => setFormData({ ...formData, githubLink: e.target.value })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n            placeholder=\"https://github.com/...\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            Live URL\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={formData.liveLink || ''}\r\n            onChange={(e) => setFormData({ ...formData, liveLink: e.target.value })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n            placeholder=\"https://...\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ì´ë¯¸ì§€ URL\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={formData.image}\r\n            onChange={(e) => setFormData({ ...formData, image: e.target.value })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n            placeholder=\"https://...\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n            ìˆœì„œ\r\n          </label>\r\n          <input\r\n            type=\"number\"\r\n            value={formData.order}\r\n            onChange={(e) => setFormData({ ...formData, order: parseInt(e.target.value) })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n          />\r\n        </div>\r\n\r\n        {/* ğŸŒŸ ê°œì„ : ì‚¬ìš©ëœ ìŠ¤í‚¬ - ì²´í¬ë°•ìŠ¤ UI */}\r\n        <div className=\"md:col-span-2\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n              ì‚¬ìš©ëœ ìŠ¤í‚¬ (í”„ë¡œì íŠ¸ ì—°ë™) ğŸ”—\r\n            </label>\r\n            {formData.skillIds && formData.skillIds.length > 0 && (\r\n              <span className=\"text-xs font-semibold text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded\">\r\n                âœ“ {formData.skillIds.length}ê°œ ì„ íƒë¨\r\n              </span>\r\n            )}\r\n          </div>\r\n          \r\n          {skillsLoading ? (\r\n            <div className=\"text-sm text-gray-500 dark:text-gray-400 py-2\">\r\n              ìŠ¤í‚¬ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...\r\n            </div>\r\n          ) : skillCategories.length === 0 ? (\r\n            <div className=\"text-sm text-gray-500 dark:text-gray-400 py-4 text-center border border-gray-300 dark:border-gray-600 rounded-lg\">\r\n              ë“±ë¡ëœ ìŠ¤í‚¬ì´ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € ìŠ¤í‚¬ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.\r\n            </div>\r\n          ) : (\r\n            <div className=\"border border-gray-300 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-800 max-h-[400px] overflow-y-auto\">\r\n              {skillCategories.map((category: SkillCategory) => {\r\n                const categorySkillIds = (category.skills || []).map(skill => skill._id!).filter(Boolean)\r\n                const selectedCount = categorySkillIds.filter(id => (formData.skillIds || []).includes(id)).length\r\n                const allSelected = categorySkillIds.length > 0 && selectedCount === categorySkillIds.length\r\n                const someSelected = selectedCount > 0 && selectedCount < categorySkillIds.length\r\n                \r\n                return (\r\n                  <div key={category._id} className=\"mb-4 last:mb-0\">\r\n                    {/* ì¹´í…Œê³ ë¦¬ í—¤ë” (ì „ì²´ ì„ íƒ/í•´ì œ) */}\r\n                    <div \r\n                      className=\"flex items-center gap-2 mb-2 pb-2 border-b border-gray-300 dark:border-gray-600 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded\"\r\n                      onClick={() => handleSkillCategoryToggle(category)}\r\n                    >\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={allSelected}\r\n                        ref={el => {\r\n                          if (el) {\r\n                            el.indeterminate = someSelected\r\n                          }\r\n                        }}\r\n                        onChange={() => handleSkillCategoryToggle(category)}\r\n                        className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                        onClick={(e) => e.stopPropagation()}\r\n                      />\r\n                      <label \r\n                        className=\"font-semibold text-gray-900 dark:text-white flex-1 cursor-pointer\"\r\n                        style={{ color: category.color || '#3B82F6' }}\r\n                      >\r\n                        {category.title}\r\n                        {selectedCount > 0 && (\r\n                          <span className=\"ml-2 text-xs font-normal text-gray-500 dark:text-gray-400\">\r\n                            ({selectedCount}/{categorySkillIds.length})\r\n                          </span>\r\n                        )}\r\n                      </label>\r\n                    </div>\r\n                    \r\n                    {/* ìŠ¤í‚¬ ëª©ë¡ */}\r\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 pl-6\">\r\n                      {(category.skills || []).map((skill: Skill) => {\r\n                        const isSelected = (formData.skillIds || []).includes(skill._id!)\r\n                        \r\n                        return (\r\n                          <label\r\n                            key={skill._id}\r\n                            className={`flex items-center gap-2 p-2 rounded cursor-pointer transition-colors ${\r\n                              isSelected \r\n                                ? 'bg-blue-50 dark:bg-blue-900/20 border border-blue-300 dark:border-blue-700' \r\n                                : 'hover:bg-gray-100 dark:hover:bg-gray-700 border border-transparent'\r\n                            }`}\r\n                          >\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={isSelected}\r\n                              onChange={() => handleSkillToggle(skill._id!)}\r\n                              className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                            />\r\n                            <span className={`text-sm ${isSelected ? 'font-semibold text-blue-700 dark:text-blue-300' : 'text-gray-700 dark:text-gray-300'}`}>\r\n                              {skill.name}\r\n                            </span>\r\n                          </label>\r\n                        )\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n                )\r\n              })}\r\n            </div>\r\n          )}\r\n          \r\n          <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">\r\n            ğŸ’¡ ì²´í¬ë°•ìŠ¤ë¥¼ í´ë¦­í•˜ì—¬ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•œ ìŠ¤í‚¬ì„ ì„ íƒí•˜ì„¸ìš”. ì¹´í…Œê³ ë¦¬ ì œëª©ì„ í´ë¦­í•˜ë©´ ì „ì²´ ì„ íƒ/í•´ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\r\n          </p>\r\n        </div>\r\n      </div>\r\n      {/* Description Field (Multilingual) */}\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n          ì„¤ëª… (ë¦¬ì¹˜í…ìŠ¤íŠ¸ ì—ë””í„°)\r\n          <span className=\"text-xs text-gray-500 ml-2\">\r\n            ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\r\n          </span>\r\n        </label>\r\n        {currentLang === 'ko' && (\r\n          <RichTextEditor\r\n            value={formData.description || ''}\r\n            onChange={(value) => setFormData({ ...formData, description: value })}\r\n            placeholder=\"í”„ë¡œì íŠ¸ì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…ì„ ì‘ì„±í•˜ì„¸ìš”.\"\r\n            rows={4}\r\n            className=\"min-h-[150px]\"\r\n          />\r\n        )}\r\n        {currentLang === 'en' && (\r\n          <RichTextEditor\r\n            value={formData.descriptionEn || ''}\r\n            onChange={(value) => setFormData({ ...formData, descriptionEn: value })}\r\n            placeholder=\"Write a brief description of the project.\"\r\n            rows={4}\r\n            className=\"min-h-[150px]\"\r\n          />\r\n        )}\r\n        {currentLang === 'ja' && (\r\n          <RichTextEditor\r\n            value={formData.descriptionJa || ''}\r\n            onChange={(value) => setFormData({ ...formData, descriptionJa: value })}\r\n            placeholder=\"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç°¡å˜ãªèª¬æ˜ã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚\"\r\n            rows={4}\r\n            className=\"min-h-[150px]\"\r\n          />\r\n        )}\r\n      </div>\r\n      {/* Technologies Field (Multilingual) */}\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n          ê¸°ìˆ  ìŠ¤íƒ (ì‰¼í‘œ ë˜ëŠ” ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„)\r\n          <span className=\"text-xs text-gray-500 ml-2\">\r\n            ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\r\n          </span>\r\n        </label>\r\n        {currentLang === 'ko' && (\r\n          <textarea\r\n            value={typeof formData.technologies === 'string' ? formData.technologies : (Array.isArray(formData.technologies) ? formData.technologies.join('\\n') : '')}\r\n            onChange={(e) => setFormData({ ...formData, technologies: e.target.value })}\r\n            rows={3}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y\"\r\n            placeholder=\"PLC, Python, Arduino\"\r\n          />\r\n        )}\r\n        {currentLang === 'en' && (\r\n          <textarea\r\n            value={typeof formData.technologiesEn === 'string' ? formData.technologiesEn : (Array.isArray(formData.technologiesEn) ? formData.technologiesEn.join('\\n') : '')}\r\n            onChange={(e) => setFormData({ ...formData, technologiesEn: e.target.value })}\r\n            rows={3}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y\"\r\n            placeholder=\"PLC, Python, Arduino\"\r\n          />\r\n        )}\r\n        {currentLang === 'ja' && (\r\n          <textarea\r\n            value={typeof formData.technologiesJa === 'string' ? formData.technologiesJa : (Array.isArray(formData.technologiesJa) ? formData.technologiesJa.join('\\n') : '')}\r\n            onChange={(e) => setFormData({ ...formData, technologiesJa: e.target.value })}\r\n            rows={3}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y\"\r\n            placeholder=\"PLC, Python, Arduino\"\r\n          />\r\n        )}\r\n      </div>\r\n      \r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n          ì¶”ê°€ ì´ë¯¸ì§€ URLs (ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„)\r\n        </label>\r\n        <textarea\r\n          value={typeof formData.images === 'string' ? formData.images : (Array.isArray(formData.images) ? formData.images.join('\\n') : '')}\r\n          onChange={(e) => {\r\n            const value = e.target.value\r\n            setFormData({\r\n              ...formData,\r\n              images: value, // ì›ë³¸ í…ìŠ¤íŠ¸ë¥¼ ê·¸ëŒ€ë¡œ ì €ì¥\r\n            })\r\n          }}\r\n          rows={3}\r\n          className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y\"\r\n          placeholder=\"https://example.com/image1.jpg\r\nhttps://example.com/image2.jpg\"\r\n        />\r\n      </div>\r\n\r\n      {/* ğŸŒŸ ì˜ìƒ ê´€ë¦¬ ì„¹ì…˜ (ê°œì„ ëœ UI) */}\r\n      <div className=\"border border-gray-300 dark:border-gray-600 rounded-lg p-6 space-y-4 bg-gray-50 dark:bg-gray-800\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <label className=\"block text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2\">\r\n            <FaVideo className=\"text-blue-600 dark:text-blue-400\" />\r\n            ë™ì˜ìƒ ê´€ë¦¬\r\n          </label>\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleAddVideo}\r\n            className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium\"\r\n          >\r\n            <FaPlus /> ì˜ìƒ ì¶”ê°€\r\n          </button>\r\n        </div>\r\n\r\n        {videoItems.length === 0 ? (\r\n          <div className=\"text-center py-8 text-gray-500 dark:text-gray-400\">\r\n            <FaVideo className=\"text-4xl mx-auto mb-2 opacity-50\" />\r\n            <p>ì•„ì§ ì¶”ê°€ëœ ì˜ìƒì´ ì—†ìŠµë‹ˆë‹¤.</p>\r\n            <p className=\"text-sm mt-1\">ìœ„ì˜ \"ì˜ìƒ ì¶”ê°€\" ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì˜ìƒì„ ì¶”ê°€í•˜ì„¸ìš”.</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-6\">\r\n            {videoItems.map((item, index) => (\r\n              <div key={index} className=\"border border-gray-200 dark:border-gray-700 rounded-lg p-4 bg-white dark:bg-gray-900 space-y-4\">\r\n                {/* í—¤ë” */}\r\n                <div className=\"flex items-center justify-between\">\r\n                  <h4 className=\"text-md font-semibold text-gray-900 dark:text-white flex items-center gap-2\">\r\n                    <span className=\"flex items-center justify-center w-8 h-8 bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 rounded-full text-sm font-bold\">\r\n                      {index + 1}\r\n                    </span>\r\n                    ì˜ìƒ {index + 1}\r\n                  </h4>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => handleRemoveVideo(index)}\r\n                    className=\"flex items-center gap-1 px-3 py-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors text-sm\"\r\n                  >\r\n                    <FaTrash /> ì‚­ì œ\r\n                  </button>\r\n                </div>\r\n\r\n                {/* ì˜ìƒ URL ì…ë ¥ */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                    ì˜ìƒ URL *\r\n                  </label>\r\n                  <input\r\n                    type=\"url\"\r\n                    value={item.url}\r\n                    onChange={(e) => handleVideoUrlChange(index, e.target.value)}\r\n                    placeholder=\"https://youtube.com/watch?v=... ë˜ëŠ” https://youtube.com/shorts/...\"\r\n                    className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n                  />\r\n                </div>\r\n\r\n                {/* ì˜ìƒ ì„¤ëª… (RichTextEditor - ë‹¤êµ­ì–´) */}\r\n                <div>\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                      ì˜ìƒ ì„¤ëª… (ë¦¬ì¹˜í…ìŠ¤íŠ¸)\r\n                      <span className=\"text-xs text-gray-500 ml-2\">\r\n                        ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\r\n                      </span>\r\n                    </label>\r\n                    <span className={`text-xs ${\r\n                      (currentLang === 'ko' ? item.description.length : currentLang === 'en' ? item.descriptionEn.length : item.descriptionJa.length) > 5000 \r\n                        ? 'text-red-600 dark:text-red-400 font-bold' \r\n                        : (currentLang === 'ko' ? item.description.length : currentLang === 'en' ? item.descriptionEn.length : item.descriptionJa.length) > 4000\r\n                        ? 'text-orange-600 dark:text-orange-400'\r\n                        : 'text-gray-500 dark:text-gray-400'\r\n                    }`}>\r\n                      {currentLang === 'ko' ? item.description.length : currentLang === 'en' ? item.descriptionEn.length : item.descriptionJa.length} / 5000ì\r\n                    </span>\r\n                  </div>\r\n                  \r\n                  {currentLang === 'ko' && (\r\n                    <RichTextEditor\r\n                      value={item.description}\r\n                      onChange={(value) => handleVideoDescriptionChange(index, value, 'ko')}\r\n                      placeholder=\"ì´ ì˜ìƒì— ëŒ€í•œ ìƒì„¸í•œ ì„¤ëª…ì„ ì‘ì„±í•˜ì„¸ìš”. êµµê²Œ, ê¸°ìš¸ì„, ë¦¬ìŠ¤íŠ¸ ë“± ë‹¤ì–‘í•œ ì„œì‹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\r\n                      rows={4}\r\n                      className=\"min-h-[150px]\"\r\n                    />\r\n                  )}\r\n                  \r\n                  {currentLang === 'en' && (\r\n                    <RichTextEditor\r\n                      value={item.descriptionEn}\r\n                      onChange={(value) => handleVideoDescriptionChange(index, value, 'en')}\r\n                      placeholder=\"Write a detailed description of this video. You can use bold, italic, lists, and other formatting.\"\r\n                      rows={4}\r\n                      className=\"min-h-[150px]\"\r\n                    />\r\n                  )}\r\n                  \r\n                  {currentLang === 'ja' && (\r\n                    <RichTextEditor\r\n                      value={item.descriptionJa}\r\n                      onChange={(value) => handleVideoDescriptionChange(index, value, 'ja')}\r\n                      placeholder=\"ã“ã®å‹•ç”»ã®è©³ç´°ãªèª¬æ˜ã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚å¤ªå­—ã€æ–œä½“ã€ãƒªã‚¹ãƒˆãªã©ã®æ›¸å¼ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚\"\r\n                      rows={4}\r\n                      className=\"min-h-[150px]\"\r\n                    />\r\n                  )}\r\n                  \r\n                  <div className=\"flex items-center justify-between mt-1\">\r\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                      ğŸ’¡ ì´ ì„¤ëª…ì€ í”„ë¡œì íŠ¸ ìƒì„¸ í˜ì´ì§€ì—ì„œ ì˜ìƒ í•˜ë‹¨ì— í‘œì‹œë©ë‹ˆë‹¤.\r\n                    </p>\r\n                    {(currentLang === 'ko' ? item.description.length : currentLang === 'en' ? item.descriptionEn.length : item.descriptionJa.length) > 4000 && (\r\n                      <p className=\"text-xs text-orange-600 dark:text-orange-400\">\r\n                        âš ï¸ ê¸€ì ìˆ˜ê°€ ë§ìŠµë‹ˆë‹¤. ê°„ê²°í•˜ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”.\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Detailed Description Field (Multilingual) */}\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n          ìƒì„¸ ì„¤ëª… (ë¦¬ì¹˜í…ìŠ¤íŠ¸ ì—ë””í„°)\r\n          <span className=\"text-xs text-gray-500 ml-2\">\r\n            ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\r\n          </span>\r\n        </label>\r\n        {currentLang === 'ko' && (\r\n          <RichTextEditor\r\n            value={formData.detailedDescription || ''}\r\n            onChange={(value) => setFormData({ ...formData, detailedDescription: value })}\r\n            placeholder=\"í”„ë¡œì íŠ¸ì˜ ìƒì„¸í•œ ì„¤ëª…ì„ ì‘ì„±í•´ì£¼ì„¸ìš”.\"\r\n            rows={6}\r\n            className=\"min-h-[200px]\"\r\n          />\r\n        )}\r\n        {currentLang === 'en' && (\r\n          <RichTextEditor\r\n            value={formData.detailedDescriptionEn || ''}\r\n            onChange={(value) => setFormData({ ...formData, detailedDescriptionEn: value })}\r\n            placeholder=\"Write a detailed description of the project.\"\r\n            rows={6}\r\n            className=\"min-h-[200px]\"\r\n          />\r\n        )}\r\n        {currentLang === 'ja' && (\r\n          <RichTextEditor\r\n            value={formData.detailedDescriptionJa || ''}\r\n            onChange={(value) => setFormData({ ...formData, detailedDescriptionJa: value })}\r\n            placeholder=\"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è©³ç´°ãªèª¬æ˜ã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚\"\r\n            rows={6}\r\n            className=\"min-h-[200px]\"\r\n          />\r\n        )}\r\n      </div>\r\n\r\n      {/* Features Field (Multilingual) */}\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n          ì£¼ìš” ê¸°ëŠ¥ (ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„)\r\n          <span className=\"text-xs text-gray-500 ml-2\">\r\n            ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\r\n          </span>\r\n        </label>\r\n        {currentLang === 'ko' && (\r\n          <textarea\r\n            value={typeof formData.features === 'string' ? formData.features : (Array.isArray(formData.features) ? formData.features.join('\\n') : '')}\r\n            onChange={(e) => setFormData({ ...formData, features: e.target.value })}\r\n            rows={4}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y\"\r\n            placeholder=\"ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§&#10;ë°ì´í„° ìˆ˜ì§‘ ë° ë¶„ì„&#10;ì•Œë¦¼ ì‹œìŠ¤í…œ\"\r\n          />\r\n        )}\r\n        {currentLang === 'en' && (\r\n          <textarea\r\n            value={typeof formData.featuresEn === 'string' ? formData.featuresEn : (Array.isArray(formData.featuresEn) ? formData.featuresEn.join('\\n') : '')}\r\n            onChange={(e) => setFormData({ ...formData, featuresEn: e.target.value })}\r\n            rows={4}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y\"\r\n            placeholder=\"Real-time monitoring&#10;Data collection and analysis&#10;Alert system\"\r\n          />\r\n        )}\r\n        {currentLang === 'ja' && (\r\n          <textarea\r\n            value={typeof formData.featuresJa === 'string' ? formData.featuresJa : (Array.isArray(formData.featuresJa) ? formData.featuresJa.join('\\n') : '')}\r\n            onChange={(e) => setFormData({ ...formData, featuresJa: e.target.value })}\r\n            rows={4}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y\"\r\n            placeholder=\"ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–&#10;ãƒ‡ãƒ¼ã‚¿åé›†ã¨åˆ†æ&#10;é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ \"\r\n          />\r\n        )}\r\n      </div>\r\n\r\n      {/* Learnings Field (Multilingual) */}\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n          í•™ìŠµ ë‚´ìš© (ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„)\r\n          <span className=\"text-xs text-gray-500 ml-2\">\r\n            ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\r\n          </span>\r\n        </label>\r\n        {currentLang === 'ko' && (\r\n          <textarea\r\n            value={typeof formData.learnings === 'string' ? formData.learnings : (Array.isArray(formData.learnings) ? formData.learnings.join('\\n') : '')}\r\n            onChange={(e) => setFormData({ ...formData, learnings: e.target.value })}\r\n            rows={4}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y\"\r\n            placeholder=\"PLC í”„ë¡œê·¸ë˜ë° ê¸°ë²•&#10;ì‹¤ì‹œê°„ ë°ì´í„° ì²˜ë¦¬&#10;ì›¹ ê¸°ë°˜ ëŒ€ì‹œë³´ë“œ êµ¬ì¶•\"\r\n          />\r\n        )}\r\n        {currentLang === 'en' && (\r\n          <textarea\r\n            value={typeof formData.learningsEn === 'string' ? formData.learningsEn : (Array.isArray(formData.learningsEn) ? formData.learningsEn.join('\\n') : '')}\r\n            onChange={(e) => setFormData({ ...formData, learningsEn: e.target.value })}\r\n            rows={4}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y\"\r\n            placeholder=\"PLC programming techniques&#10;Real-time data processing&#10;Web-based dashboard development\"\r\n          />\r\n        )}\r\n        {currentLang === 'ja' && (\r\n          <textarea\r\n            value={typeof formData.learningsJa === 'string' ? formData.learningsJa : (Array.isArray(formData.learningsJa) ? formData.learningsJa.join('\\n') : '')}\r\n            onChange={(e) => setFormData({ ...formData, learningsJa: e.target.value })}\r\n            rows={4}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y\"\r\n            placeholder=\"PLCãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æŠ€è¡“&#10;ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿å‡¦ç†&#10;Webãƒ™ãƒ¼ã‚¹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰é–‹ç™º\"\r\n          />\r\n        )}\r\n      </div>\r\n      <div className=\"flex gap-3 pt-4\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={handleSaveClick}\r\n          disabled={isSaving}\r\n          className={`flex-1 flex items-center justify-center gap-2 bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 rounded-lg transition-colors ${\r\n            isSaving ? 'opacity-50 cursor-not-allowed' : ''\r\n          }`}\r\n        >\r\n          {isSaving ? (\r\n            <>\r\n              <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n              ì €ì¥ ì¤‘...\r\n            </>\r\n          ) : (\r\n            <>\r\n              <FaSave /> ì €ì¥\r\n            </>\r\n          )}\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          onClick={onCancel}\r\n          className=\"flex-1 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white font-medium py-2 rounded-lg transition-colors\"\r\n        >\r\n          ì·¨ì†Œ\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProjectForm\r\n","import React, { useState, useEffect } from 'react'\r\nimport { SkillCategory, SkillCategoryFormData } from '../../types'\r\nimport LanguageTabs, { AdminLanguage } from '../common/LanguageTabs'\r\n\r\ninterface SkillCategoryFormProps {\r\n  initialData?: SkillCategory | null\r\n  onSave: (data: SkillCategoryFormData) => void\r\n  onCancel: () => void\r\n  isSaving?: boolean\r\n}\r\n\r\nconst SkillCategoryForm: React.FC<SkillCategoryFormProps> = ({\r\n  initialData,\r\n  onSave,\r\n  onCancel,\r\n  isSaving = false\r\n}) => {\r\n  const [currentLang, setCurrentLang] = useState<AdminLanguage>('ko')\r\n  const [formData, setFormData] = useState<SkillCategoryFormData>({\r\n    title: '',\r\n    titleEn: '',\r\n    titleJa: '',\r\n    description: '',\r\n    descriptionEn: '',\r\n    descriptionJa: '',\r\n    color: '#3B82F6',\r\n    order: 0\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (initialData) {\r\n      setFormData({\r\n        title: initialData.title,\r\n        titleEn: initialData.titleEn || '',\r\n        titleJa: initialData.titleJa || '',\r\n        description: initialData.description || '',\r\n        descriptionEn: initialData.descriptionEn || '',\r\n        descriptionJa: initialData.descriptionJa || '',\r\n        color: initialData.color,\r\n        order: initialData.order\r\n      })\r\n    }\r\n  }, [initialData])\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    console.log('ğŸ“‹ í¼ ì œì¶œ:', formData)\r\n    onSave(formData)\r\n  }\r\n\r\n  const handleChange = (field: keyof SkillCategoryFormData, value: string | number) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }))\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 mb-6\">\r\n      <h3 className=\"text-lg font-semibold mb-4\">\r\n        {initialData ? 'ì¹´í…Œê³ ë¦¬ ìˆ˜ì •' : 'ìƒˆ ì¹´í…Œê³ ë¦¬ ì¶”ê°€'}\r\n      </h3>\r\n      \r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        {/* Language Tabs */}\r\n        <LanguageTabs activeLanguage={currentLang} onChange={setCurrentLang} />\r\n\r\n        {/* Title Field (Multilingual) */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2\">\r\n            ì œëª© {currentLang === 'ko' && <span className=\"text-red-500\">*</span>}\r\n            <span className=\"text-xs text-gray-500 ml-2\">\r\n              ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\r\n            </span>\r\n          </label>\r\n          {currentLang === 'ko' && (\r\n            <input\r\n              type=\"text\"\r\n              value={formData.title}\r\n              onChange={(e) => handleChange('title', e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n              placeholder=\"ì˜ˆ: í”„ë¡œê·¸ë˜ë° ì–¸ì–´\"\r\n              required\r\n            />\r\n          )}\r\n          {currentLang === 'en' && (\r\n            <input\r\n              type=\"text\"\r\n              value={formData.titleEn || ''}\r\n              onChange={(e) => handleChange('titleEn', e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n              placeholder=\"e.g., Programming Languages\"\r\n            />\r\n          )}\r\n          {currentLang === 'ja' && (\r\n            <input\r\n              type=\"text\"\r\n              value={formData.titleJa || ''}\r\n              onChange={(e) => handleChange('titleJa', e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n              placeholder=\"ä¾‹: ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª\"\r\n            />\r\n          )}\r\n        </div>\r\n        \r\n        {/* Description Field (Multilingual) */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2\">\r\n            ì„¤ëª…\r\n            <span className=\"text-xs text-gray-500 ml-2\">\r\n              ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\r\n            </span>\r\n          </label>\r\n          {currentLang === 'ko' && (\r\n            <textarea\r\n              value={formData.description}\r\n              onChange={(e) => handleChange('description', e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n              rows={3}\r\n              placeholder=\"ì¹´í…Œê³ ë¦¬ì— ëŒ€í•œ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”\"\r\n            />\r\n          )}\r\n          {currentLang === 'en' && (\r\n            <textarea\r\n              value={formData.descriptionEn || ''}\r\n              onChange={(e) => handleChange('descriptionEn', e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n              rows={3}\r\n              placeholder=\"Enter description for this category\"\r\n            />\r\n          )}\r\n          {currentLang === 'ja' && (\r\n            <textarea\r\n              value={formData.descriptionJa || ''}\r\n              onChange={(e) => handleChange('descriptionJa', e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n              rows={3}\r\n              placeholder=\"ã“ã®ã‚«ãƒ†ã‚´ãƒªã®èª¬æ˜ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\"\r\n            />\r\n          )}\r\n        </div>\r\n        \r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2\">ìƒ‰ìƒ</label>\r\n          <input\r\n            type=\"color\"\r\n            value={formData.color}\r\n            onChange={(e) => handleChange('color', e.target.value)}\r\n            className=\"w-12 h-10 border border-gray-300 dark:border-gray-600 rounded-md\"\r\n          />\r\n        </div>\r\n        \r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2\">ìˆœì„œ (ê³ ê¸‰ ì˜µì…˜)</label>\r\n          <input\r\n            type=\"number\"\r\n            value={formData.order}\r\n            onChange={(e) => handleChange('order', parseInt(e.target.value) || 0)}\r\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n            min=\"0\"\r\n          />\r\n          <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n            ğŸ’¡ ì¹´í…Œê³ ë¦¬ ëª©ë¡ì—ì„œ ë“œë˜ê·¸í•˜ì—¬ ìˆœì„œë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤\r\n          </p>\r\n        </div>\r\n        \r\n        <div className=\"flex gap-2\">\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isSaving}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50\"\r\n          >\r\n            {isSaving ? 'ì €ì¥ ì¤‘...' : 'ì €ì¥'}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onCancel}\r\n            className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\"\r\n          >\r\n            ì·¨ì†Œ\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SkillCategoryForm\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Skill, SkillFormData } from '../../types'\r\nimport DynamicIcon from '../common/DynamicIcon'\r\nimport LanguageTabs, { AdminLanguage } from '../common/LanguageTabs'\r\n\r\ninterface SkillFormProps {\r\n  initialData?: Skill | null\r\n  categoryId?: string | undefined\r\n  onSave: (data: SkillFormData) => void\r\n  onCancel: () => void\r\n  isSaving?: boolean\r\n}\r\n\r\nconst SkillForm: React.FC<SkillFormProps> = ({\r\n  initialData,\r\n  onSave,\r\n  onCancel,\r\n  isSaving = false\r\n}) => {\r\n  const [currentLang, setCurrentLang] = useState<AdminLanguage>('ko')\r\n  const [formData, setFormData] = useState<SkillFormData>({\r\n    name: '',\r\n    nameEn: '',\r\n    nameJa: '',\r\n    level: 50, // ìƒˆ ìŠ¤í‚¬ ìƒì„± ì‹œ ê¸°ë³¸ ìˆ™ë ¨ë„\r\n    icon: 'FaMicrochip',\r\n    description: '',\r\n    descriptionEn: '',\r\n    descriptionJa: '',\r\n    order: 0\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (initialData) {\r\n      setFormData({\r\n        name: initialData.name,\r\n        nameEn: initialData.nameEn || '',\r\n        nameJa: initialData.nameJa || '',\r\n        level: initialData.level, // ê¸°ì¡´ ìŠ¤í‚¬ì˜ ìˆ™ë ¨ë„ ìœ ì§€ (ëª©ë¡ì—ì„œ ì¡°ì ˆ)\r\n        icon: initialData.icon,\r\n        description: initialData.description || '',\r\n        descriptionEn: initialData.descriptionEn || '',\r\n        descriptionJa: initialData.descriptionJa || '',\r\n        order: initialData.order\r\n      })\r\n    }\r\n  }, [initialData])\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    onSave(formData)\r\n  }\r\n\r\n  const handleChange = (field: keyof SkillFormData, value: string | number) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }))\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 mb-6\">\r\n      <h3 className=\"text-lg font-semibold mb-4\">\r\n        {initialData ? 'ìŠ¤í‚¬ ìˆ˜ì •' : 'ìƒˆ ìŠ¤í‚¬ ì¶”ê°€'}\r\n      </h3>\r\n      \r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        {/* Language Tabs */}\r\n        <LanguageTabs activeLanguage={currentLang} onChange={setCurrentLang} />\r\n\r\n        {/* Name Field (Multilingual) */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2\">\r\n            ì´ë¦„ {currentLang === 'ko' && <span className=\"text-red-500\">*</span>}\r\n            <span className=\"text-xs text-gray-500 ml-2\">\r\n              ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\r\n            </span>\r\n          </label>\r\n          {currentLang === 'ko' && (\r\n            <input\r\n              type=\"text\"\r\n              value={formData.name}\r\n              onChange={(e) => handleChange('name', e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n              placeholder=\"ì˜ˆ: Python, React, PLC\"\r\n              required\r\n            />\r\n          )}\r\n          {currentLang === 'en' && (\r\n            <input\r\n              type=\"text\"\r\n              value={formData.nameEn || ''}\r\n              onChange={(e) => handleChange('nameEn', e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n              placeholder=\"e.g., Python, React, PLC\"\r\n            />\r\n          )}\r\n          {currentLang === 'ja' && (\r\n            <input\r\n              type=\"text\"\r\n              value={formData.nameJa || ''}\r\n              onChange={(e) => handleChange('nameJa', e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n              placeholder=\"ä¾‹: Python, React, PLC\"\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        {/* Description Field (Multilingual) */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2\">\r\n            ì„¤ëª… (ì„ íƒì‚¬í•­)\r\n            <span className=\"text-xs text-gray-500 ml-2\">\r\n              ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\r\n            </span>\r\n          </label>\r\n          {currentLang === 'ko' && (\r\n            <textarea\r\n              value={formData.description || ''}\r\n              onChange={(e) => handleChange('description', e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n              rows={3}\r\n              placeholder=\"ìŠ¤í‚¬ì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…\"\r\n            />\r\n          )}\r\n          {currentLang === 'en' && (\r\n            <textarea\r\n              value={formData.descriptionEn || ''}\r\n              onChange={(e) => handleChange('descriptionEn', e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n              rows={3}\r\n              placeholder=\"Brief description of this skill\"\r\n            />\r\n          )}\r\n          {currentLang === 'ja' && (\r\n            <textarea\r\n              value={formData.descriptionJa || ''}\r\n              onChange={(e) => handleChange('descriptionJa', e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n              rows={3}\r\n              placeholder=\"ã“ã®ã‚¹ã‚­ãƒ«ã®ç°¡å˜ãªèª¬æ˜\"\r\n            />\r\n          )}\r\n        </div>\r\n        \r\n        {/* ğŸŒŸ ìˆ™ë ¨ë„ëŠ” ê¸°ìˆ  ê´€ë¦¬ ëª©ë¡ì˜ ì¸ë¼ì¸ ìŠ¬ë¼ì´ë”ë¡œ ì¡°ì ˆí•©ë‹ˆë‹¤ */}\r\n        \r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2\">ì•„ì´ì½˜</label>\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n            <div className=\"text-lg text-blue-600 dark:text-blue-400\">\r\n              <DynamicIcon iconName={formData.icon} size={20} />\r\n            </div>\r\n            <span className=\"text-sm text-gray-600 dark:text-gray-400\">ë¯¸ë¦¬ë³´ê¸°</span>\r\n          </div>\r\n          <select\r\n            value={formData.icon}\r\n            onChange={(e) => handleChange('icon', e.target.value)}\r\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n          >\r\n            <optgroup label=\"í”„ë¡œê·¸ë˜ë° ì–¸ì–´\">\r\n              <option value=\"FaPython\">Python</option>\r\n              <option value=\"SiJavascript\">JavaScript</option>\r\n              <option value=\"SiTypescript\">TypeScript</option>\r\n              <option value=\"SiC\">C</option>\r\n              <option value=\"SiCplusplus\">C++</option>\r\n              <option value=\"SiCsharp\">C#</option>\r\n              <option value=\"SiGo\">Go</option>\r\n              <option value=\"SiRust\">Rust</option>\r\n              <option value=\"SiJava\">Java</option>\r\n              <option value=\"SiPhp\">PHP</option>\r\n              <option value=\"SiRuby\">Ruby</option>\r\n              <option value=\"SiSwift\">Swift</option>\r\n              <option value=\"SiKotlin\">Kotlin</option>\r\n            </optgroup>\r\n            <optgroup label=\"í”„ë ˆì„ì›Œí¬ & ë¼ì´ë¸ŒëŸ¬ë¦¬\">\r\n              <option value=\"SiReact\">React</option>\r\n              <option value=\"SiNodedotjs\">Node.js</option>\r\n              <option value=\"SiVuedotjs\">Vue.js</option>\r\n              <option value=\"SiAngular\">Angular</option>\r\n              <option value=\"SiNextdotjs\">Next.js</option>\r\n              <option value=\"SiExpress\">Express</option>\r\n              <option value=\"SiDjango\">Django</option>\r\n              <option value=\"SiFlask\">Flask</option>\r\n              <option value=\"SiSpring\">Spring</option>\r\n            </optgroup>\r\n            <optgroup label=\"ë°ì´í„°ë² ì´ìŠ¤\">\r\n              <option value=\"FaDatabase\">Database</option>\r\n              <option value=\"SiMysql\">MySQL</option>\r\n              <option value=\"SiMongodb\">MongoDB</option>\r\n              <option value=\"SiPostgresql\">PostgreSQL</option>\r\n              <option value=\"SiRedis\">Redis</option>\r\n              <option value=\"SiSqlite\">SQLite</option>\r\n            </optgroup>\r\n            <optgroup label=\"ìë™í™” & í•˜ë“œì›¨ì–´\">\r\n              <option value=\"FaMicrochip\">Microchip</option>\r\n              <option value=\"FaRobot\">Robot</option>\r\n              <option value=\"SiArduino\">Arduino</option>\r\n              <option value=\"SiRaspberrypi\">Raspberry Pi</option>\r\n              <option value=\"SiSiemens\">Siemens</option>\r\n              <option value=\"SiMitsubishi\">Mitsubishi</option>\r\n            </optgroup>\r\n            <optgroup label=\"ê°œë°œ ë„êµ¬\">\r\n              <option value=\"FaCode\">Code</option>\r\n              <option value=\"FaServer\">Server</option>\r\n              <option value=\"SiDocker\">Docker</option>\r\n              <option value=\"SiGit\">Git</option>\r\n              <option value=\"SiLinux\">Linux</option>\r\n              <option value=\"SiGithub\">GitHub</option>\r\n              <option value=\"SiGitlab\">GitLab</option>\r\n              <option value=\"SiVisualstudiocode\">VS Code</option>\r\n            </optgroup>\r\n            <optgroup label=\"ì–¸ì–´\">\r\n              <option value=\"FaLanguage\">ì–¸ì–´ ì¼ë°˜</option>\r\n              <option value=\"FaGlobeAsia\">ì¼ë³¸ì–´</option>\r\n              <option value=\"FaGlobeEurope\">ë…ì¼ì–´</option>\r\n              <option value=\"FaFlag\">ëŸ¬ì‹œì•„ì–´</option>\r\n              <option value=\"FaFlagCheckered\">í•œêµ­ì–´</option>\r\n              <option value=\"FaGlobe\">ì—ìŠ¤í† ë‹ˆì•„ì–´</option>\r\n              <option value=\"FaFont\">ì¤‘êµ­ì–´</option>\r\n              <option value=\"FaComment\">ì˜ì–´</option>\r\n            </optgroup>\r\n            <optgroup label=\"í•™ë¬¸ & ì „ê³µ\">\r\n              <option value=\"FaLaptopCode\">ì»´í“¨í„°ê³µí•™</option>\r\n              <option value=\"FaChartBar\">í†µê³„í•™</option>\r\n              <option value=\"FaCalculator\">ìˆ˜í•™</option>\r\n              <option value=\"FaSquareRootAlt\">ìˆ˜í•™ (ê³ ê¸‰)</option>\r\n              <option value=\"FaUniversity\">ëŒ€í•™/í•™ìˆ </option>\r\n              <option value=\"FaGraduationCap\">ì¡¸ì—…/í•™ìœ„</option>\r\n            </optgroup>\r\n            <optgroup label=\"ê³µí•™\">\r\n              <option value=\"FaCogs\">ê³µí•™ ì¼ë°˜</option>\r\n              <option value=\"FaTools\">ê¸°ê³„ê³µí•™</option>\r\n              <option value=\"FaWrench\">ê¸°ê³„ì„¤ê³„</option>\r\n              <option value=\"FaBolt\">ì „ê¸°ê³µí•™</option>\r\n              <option value=\"FaPlug\">ì „ë ¥ê³µí•™</option>\r\n              <option value=\"FaMicrochip\">ì „ìê³µí•™</option>\r\n              <option value=\"FaHardHat\">í† ëª©ê³µí•™</option>\r\n              <option value=\"FaBuilding\">ê±´ì¶•ê³µí•™</option>\r\n              <option value=\"FaIndustry\">ì‚°ì—…ê³µí•™</option>\r\n              <option value=\"FaChartLine\">ê²½ì˜ê³µí•™</option>\r\n              <option value=\"FaFlask\">í™”í•™ê³µí•™</option>\r\n              <option value=\"FaCubes\">ì¬ë£Œê³µí•™</option>\r\n              <option value=\"FaPlane\">í•­ê³µê³µí•™</option>\r\n              <option value=\"FaRocket\">ìš°ì£¼ê³µí•™</option>\r\n              <option value=\"FaLeaf\">í™˜ê²½ê³µí•™</option>\r\n              <option value=\"FaRecycle\">ìì›ê³µí•™</option>\r\n              <option value=\"FaDna\">ìƒëª…ê³µí•™</option>\r\n              <option value=\"FaOilCan\">ì„ìœ ê³µí•™</option>\r\n              <option value=\"FaFire\">ì—ë„ˆì§€ê³µí•™</option>\r\n              <option value=\"FaShieldAlt\">ì•ˆì „ê³µí•™</option>\r\n            </optgroup>\r\n            <optgroup label=\"ê³¼í•™\">\r\n              <option value=\"FaAtom\">ì›ì/ë¬¼ë¦¬í•™</option>\r\n              <option value=\"FaFlask\">í™”í•™/ì‹¤í—˜</option>\r\n              <option value=\"FaMicroscope\">ìƒë¬¼í•™/ì—°êµ¬</option>\r\n              <option value=\"FaDna\">DNA/ìœ ì „í•™</option>\r\n              <option value=\"FaRocket\">ìš°ì£¼/í•­ê³µ</option>\r\n              <option value=\"FaSatellite\">ìœ„ì„±/í†µì‹ </option>\r\n              <option value=\"FaBrain\">ë‡Œê³¼í•™/ì‹¬ë¦¬í•™</option>\r\n              <option value=\"FaLightbulb\">ë°œëª…/í˜ì‹ </option>\r\n              <option value=\"FaWaveSquare\">ì „ì/ì „ê¸°ê³µí•™</option>\r\n              <option value=\"FaMagnet\">ìê¸°í•™/ë¬¼ë¦¬</option>\r\n            </optgroup>\r\n            <optgroup label=\"ì˜ˆìˆ  & ì·¨ë¯¸\">\r\n              <option value=\"FaPalette\">ë¯¸ìˆ </option>\r\n              <option value=\"FaPaintBrush\">ê·¸ë¦¼</option>\r\n              <option value=\"FaCamera\">ì‚¬ì§„</option>\r\n              <option value=\"FaCameraRetro\">ì‚¬ì§„ (ë ˆíŠ¸ë¡œ)</option>\r\n              <option value=\"FaCoffee\">ì»¤í”¼</option>\r\n              <option value=\"FaMugHot\">ì»¤í”¼ (ë¨¸ê·¸)</option>\r\n              <option value=\"FaMusic\">ìŒì•…</option>\r\n              <option value=\"FaGuitar\">ì•…ê¸°</option>\r\n              <option value=\"FaFilm\">ì˜í™”/ì˜ìƒ</option>\r\n            </optgroup>\r\n            <optgroup label=\"ê²½ë ¥ & ê²½í—˜\">\r\n              <option value=\"FaUserShield\">êµ°ì¸</option>\r\n              <option value=\"FaShieldAlt\">ë°©ì–´/ë³´ì•ˆ</option>\r\n              <option value=\"FaCar\">ìš´ì „</option>\r\n              <option value=\"FaTruck\">íŠ¸ëŸ­ ìš´ì „</option>\r\n              <option value=\"FaShippingFast\">ë¬¼ë¥˜</option>\r\n              <option value=\"FaBriefcase\">ë¹„ì¦ˆë‹ˆìŠ¤</option>\r\n              <option value=\"FaHandshake\">í˜‘ì—…</option>\r\n            </optgroup>\r\n            <optgroup label=\"ê¸°íƒ€\">\r\n              <option value=\"FaChartLine\">Chart</option>\r\n              <option value=\"FaCubes\">Cubes</option>\r\n              <option value=\"FaCog\">Settings</option>\r\n              <option value=\"FaMobile\">Mobile</option>\r\n              <option value=\"FaDesktop\">Desktop</option>\r\n              <option value=\"FaCloud\">Cloud</option>\r\n              <option value=\"FaNetworkWired\">Network</option>\r\n            </optgroup>\r\n          </select>\r\n        </div>\r\n        \r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2\">ìˆœì„œ (ê³ ê¸‰ ì˜µì…˜)</label>\r\n          <input\r\n            type=\"number\"\r\n            value={formData.order}\r\n            onChange={(e) => handleChange('order', parseInt(e.target.value) || 0)}\r\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n            min=\"0\"\r\n          />\r\n          <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n            ğŸ’¡ ìŠ¤í‚¬ ëª©ë¡ì—ì„œ ë“œë˜ê·¸í•˜ì—¬ ìˆœì„œë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤\r\n          </p>\r\n        </div>\r\n        \r\n        <div className=\"flex gap-2\">\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isSaving}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50\"\r\n          >\r\n            {isSaving ? 'ì €ì¥ ì¤‘...' : 'ì €ì¥'}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onCancel}\r\n            className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\"\r\n          >\r\n            ì·¨ì†Œ\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SkillForm\r\n","import React, { useState } from 'react'\r\nimport { FaSave } from 'react-icons/fa'\r\nimport { Category, CategoryFormData } from '../../types'\r\nimport LanguageTabs, { AdminLanguage } from '../common/LanguageTabs'\r\n\r\ninterface FormProps {\r\n  data?: Category\r\n  onSave: (data: CategoryFormData) => void\r\n  onCancel: () => void\r\n  isSaving?: boolean\r\n}\r\n\r\nconst CategoryForm: React.FC<FormProps> = ({ \r\n  data, \r\n  onSave, \r\n  onCancel, \r\n  isSaving = false \r\n}) => {\r\n  const [currentLang, setCurrentLang] = useState<AdminLanguage>('ko')\r\n  const [formData, setFormData] = useState<CategoryFormData>(\r\n    data\r\n      ? { \r\n          name: data.name,\r\n          nameEn: data.nameEn,\r\n          nameJa: data.nameJa,\r\n          order: data.order || 0,\r\n        } \r\n      : {\r\n          name: '',\r\n          nameEn: '',\r\n          nameJa: '',\r\n          order: 0,\r\n        }\r\n  )\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    if (!formData.name.trim()) {\r\n      alert('ì¹´í…Œê³ ë¦¬ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”')\r\n      return\r\n    }\r\n\r\n    onSave(formData)\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n      {/* Language Tabs */}\r\n      <LanguageTabs activeLanguage={currentLang} onChange={setCurrentLang} />\r\n\r\n      {/* Name Field (Multilingual) */}\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n          ì¹´í…Œê³ ë¦¬ ì´ë¦„ {currentLang === 'ko' && <span className=\"text-red-500\">*</span>}\r\n          <span className=\"text-xs text-gray-500 ml-2\">\r\n            ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\r\n          </span>\r\n        </label>\r\n        {currentLang === 'ko' && (\r\n          <input\r\n            type=\"text\"\r\n            value={formData.name}\r\n            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n            placeholder=\"ì˜ˆ: PLC, ì›¹ê°œë°œ, AI/ML\"\r\n            required\r\n          />\r\n        )}\r\n        {currentLang === 'en' && (\r\n          <input\r\n            type=\"text\"\r\n            value={formData.nameEn || ''}\r\n            onChange={(e) => setFormData({ ...formData, nameEn: e.target.value })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n            placeholder=\"e.g., PLC, Web Development, AI/ML\"\r\n          />\r\n        )}\r\n        {currentLang === 'ja' && (\r\n          <input\r\n            type=\"text\"\r\n            value={formData.nameJa || ''}\r\n            onChange={(e) => setFormData({ ...formData, nameJa: e.target.value })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n            placeholder=\"ä¾‹: PLC, ã‚¦ã‚§ãƒ–é–‹ç™º, AI/ML\"\r\n          />\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n          ìˆœì„œ (ê³ ê¸‰ ì˜µì…˜)\r\n        </label>\r\n        <input\r\n          type=\"number\"\r\n          value={formData.order}\r\n          onChange={(e) => setFormData({ ...formData, order: parseInt(e.target.value) || 0 })}\r\n          className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\r\n          min=\"0\"\r\n        />\r\n        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n          ğŸ’¡ ì¹´í…Œê³ ë¦¬ ëª©ë¡ì—ì„œ ë“œë˜ê·¸ ì•¤ ë“œë¡­ìœ¼ë¡œ ìˆœì„œë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"flex gap-3 pt-4\">\r\n        <button\r\n          type=\"submit\"\r\n          disabled={isSaving || !formData.name.trim()}\r\n          className=\"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium\"\r\n        >\r\n          <FaSave />\r\n          {isSaving ? 'ì €ì¥ ì¤‘...' : 'ì €ì¥'}\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          onClick={onCancel}\r\n          disabled={isSaving}\r\n          className=\"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium\"\r\n        >\r\n          ì·¨ì†Œ\r\n        </button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default CategoryForm\r\n"],"names":["extractYouTubeId","url","patterns","pattern","match","getYouTubeThumbnail","videoId","quality","renderHtmlWithTimestamps","markdown","onTimestampClick","html","replace","_match","p1","p2","trim","renderMarkdown","groups","parseInt","BookForm","data","onSave","onCancel","isSaving","availableCategories","skillCategories","loading","skillsLoading","useSkills","categories","isLoading","categoriesLoading","useCategories","initialReadDate","readDate","isNaN","Date","getTime","toISOString","split","initialCategoryIds","categoryIds","map","catIdOrObj","_id","filter","Boolean","initialSkillIds","skillIds","skillIdOrObj","formData","setFormData","useState","title","author","category","coverImage","rating","handleCategoryToggle","categoryId","currentCategoryIds","newCategoryIds","includes","id","handleSkillCategoryToggle","categorySkillIds","skills","skill","currentSkillIds","newSkillIds","every","uniqueIds","Set","Array","from","isFormValid","jsxs","onSubmit","e","preventDefault","alert","className","children","jsx","jsxRuntimeExports","type","value","onChange","target","length","catId","find","c","name","onClick","FaTimes","isSelected","checked","star","FaStar","min","max","step","newRating","parseFloat","Math","placeholder","selectedCount","allSelected","someSelected","ref","el","indeterminate","stopPropagation","style","color","skillId","handleSkillToggle","disabled","Fragment","FaSave","ChapterForm","chapter","maxOrder","setTitle","order","setOrder","setIsSaving","useEffect","async","error","htmlFor","required","LearningForm","learning","topic","setTopic","content","setContent","stripHtml","tmp","document","createElement","innerHTML","textContent","innerText","ReactQuill","theme","modules","toolbar","header","list","indent","background","formats","VideoLearningForm","initialWatchDate","watchDate","videoUrlInput","setVideoUrlInput","videoUrl","purpose","keyTakeaways","application","useMemo","thumbnailUrl","isValidUrl","src","alt","onError","_","i","starValue","rows","categorySkills","s","selectedInCategory","input","VideoPlaylistForm","playlistUrlInput","setPlaylistUrlInput","playlistId","extractYouTubePlaylistId","reactExports","saveData","PlaylistVideoForm","iconOptions","key","icon","FaBriefcase","label","FaCoffee","FaGraduationCap","FaChartLine","FaLaptopCode","FaCode","FaCog","FaRobot","FaCar","FaShieldAlt","SortableCategoryItem","detail","index","editingCategoryIndex","onEdit","onRemove","attributes","listeners","setNodeRef","transform","transition","isDragging","useSortable","CSS","Transform","toString","opacity","zIndex","FaBars","items","FaTrash","slice","item","ExperienceForm","currentLang","setCurrentLang","initialFormData","iconKey","details","skillsEn","skillsJa","period","company","description","skillsInput","setSkillsInput","isArray","join","setEditingCategoryIndex","categoryFormData","setCategoryFormData","categoryEn","categoryJa","contentEn","contentJa","editDetailCategory","_a","itemsEn","_b","itemsJa","removeDetailCategory","confirm","newDetails","splice","skillsArray","orderedDetails","finalFormData","option","React","opt","FaPlus","DndContext","collisionDetection","closestCenter","onDragEnd","event","active","over","oldIndex","findIndex","newIndex","movedItem","reorderedDetails","SortableContext","strategy","verticalListSortingStrategy","LanguageTabs","activeLanguage","RichTextEditor","newDetail","onBlur","ProjectForm","videoItems","handleVideoUrlChange","handleVideoDescriptionChange","handleAddVideo","handleRemoveVideo","prepareDataForSubmit","useProjectForm","titleEn","titleJa","status","githubLink","liveLink","image","descriptionEn","descriptionJa","technologies","technologiesEn","technologiesJa","images","FaVideo","detailedDescription","detailedDescriptionEn","detailedDescriptionJa","features","featuresEn","featuresJa","learnings","learningsEn","learningsJa","processedData","message","SkillCategoryForm","initialData","handleChange","field","prev","SkillForm","nameEn","nameJa","level","DynamicIcon","iconName","size","CategoryForm"],"mappings":"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"}