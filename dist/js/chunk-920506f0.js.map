{"version":3,"file":"chunk-920506f0.js","sources":["../../src/utils/videoUtils.tsx","../../src/components/forms/BookForm.tsx","../../src/components/forms/ChapterForm.tsx","../../src/components/forms/LearningForm.tsx","../../src/components/forms/VideoLearningForm.tsx","../../src/components/forms/VideoPlaylistForm.tsx","../../src/components/forms/PlaylistVideoForm.tsx","../../src/components/forms/ExperienceForm.tsx","../../src/components/forms/ProjectForm.tsx","../../src/components/forms/SkillCategoryForm.tsx","../../src/components/forms/SkillForm.tsx","../../src/components/forms/CategoryForm.tsx"],"sourcesContent":["// =================================================================\n// ğŸ“¹ ìœ íŠœë¸Œ ì˜ìƒ ê´€ë ¨ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜\n// =================================================================\n\n/**\n * ë‹¤ì–‘í•œ ìœ íŠœë¸Œ URL í˜•ì‹ì—ì„œ ì˜ìƒ ID ì¶”ì¶œ\n * @param url - ìœ íŠœë¸Œ URL\n * @returns ì˜ìƒ ID ë˜ëŠ” null\n */\nexport const extractYouTubeId = (url: string): string | null => {\n  if (!url) return null\n  \n  // ë‹¤ì–‘í•œ ìœ íŠœë¸Œ URL íŒ¨í„´\n  const patterns = [\n    /(?:youtube\\.com\\/watch\\?v=)([a-zA-Z0-9_-]{11})/,  // https://www.youtube.com/watch?v=VIDEO_ID\n    /(?:youtu\\.be\\/)([a-zA-Z0-9_-]{11})/,  // https://youtu.be/VIDEO_ID\n    /(?:youtube\\.com\\/embed\\/)([a-zA-Z0-9_-]{11})/,  // https://www.youtube.com/embed/VIDEO_ID\n    /(?:youtube\\.com\\/shorts\\/)([a-zA-Z0-9_-]{11})/,  // https://www.youtube.com/shorts/VIDEO_ID\n    /(?:youtube\\.com\\/v\\/)([a-zA-Z0-9_-]{11})/,  // https://www.youtube.com/v/VIDEO_ID\n  ]\n  \n  for (const pattern of patterns) {\n    const match = url.match(pattern)\n    if (match && match[1]) {\n      return match[1]\n    }\n  }\n  \n  return null\n}\n\n/**\n * ìœ íŠœë¸Œ ì˜ìƒ IDë¡œ ê³ í•´ìƒë„ ì¸ë„¤ì¼ URL ìƒì„±\n * @param videoId - ìœ íŠœë¸Œ ì˜ìƒ ID\n * @param quality - ì¸ë„¤ì¼ í’ˆì§ˆ (maxresdefault, hqdefault, mqdefault, sddefault)\n * @returns ì¸ë„¤ì¼ URL\n */\nexport const getYouTubeThumbnail = (videoId: string, quality: string = 'maxresdefault'): string => {\n  return `https://img.youtube.com/vi/${videoId}/${quality}.jpg`\n}\n\n/**\n * ìœ íŠœë¸Œ ì„ë² ë“œ URL ìƒì„± (íƒ€ì„ìŠ¤íƒ¬í”„ ì§€ì›, ì „ë¬¸ì„± ìµœì í™”)\n * @param videoId - ìœ íŠœë¸Œ ì˜ìƒ ID\n * @param startTime - ì‹œì‘ ì‹œê°„ (ì´ˆ ë‹¨ìœ„)\n * @param autoplay - ìë™ ì¬ìƒ ì—¬ë¶€ (ê¸°ë³¸ê°’: false)\n * @returns ì„ë² ë“œ URL\n */\nexport const getYouTubeEmbedUrl = (videoId: string, startTime?: number, autoplay: boolean = false): string => {\n  const baseUrl = `https://www.youtube.com/embed/${videoId}`\n  const params = new URLSearchParams()\n  \n  if (startTime !== undefined && startTime > 0) {\n    params.append('start', startTime.toString())\n  }\n  \n  if (autoplay) {\n    params.append('autoplay', '1')\n  }\n  \n  // ğŸŒŸ ì „ë¬¸ì„±ì„ ìœ„í•œ í”Œë ˆì´ì–´ ìµœì í™” íŒŒë¼ë¯¸í„°\n  params.append('rel', '0')  // ê´€ë ¨ ì˜ìƒ ì¶”ì²œ ë¹„í™œì„±í™”\n  params.append('modestbranding', '1')  // ìœ íŠœë¸Œ ë¡œê³  ìµœì†Œí™” & 'ë™ì˜ìƒ ë”ë³´ê¸°' íˆ´íŒ ì œê±°\n  params.append('iv_load_policy', '3')  // ì˜ìƒ ì£¼ì„(annotations) ë¹„í™œì„±í™”\n  params.append('showinfo', '0')  // ì˜ìƒ ì •ë³´ í‘œì‹œ ìµœì†Œí™”\n  params.append('fs', '1')  // ì „ì²´ í™”ë©´ ë²„íŠ¼ í‘œì‹œ\n  params.append('cc_load_policy', '0')  // ìë§‰ ìë™ ë¡œë“œ ë¹„í™œì„±í™”\n  params.append('controls', '1')  // ì»¨íŠ¸ë¡¤ëŸ¬ í‘œì‹œ\n  \n  return `${baseUrl}?${params.toString()}`\n}\n\n/**\n * í…ìŠ¤íŠ¸ì—ì„œ íƒ€ì„ìŠ¤íƒ¬í”„ íŒ¨í„´ ì¶”ì¶œ ë° ì´ˆ ë‹¨ìœ„ ë³€í™˜\n * @param text - íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ í¬í•¨í•œ í…ìŠ¤íŠ¸\n * @returns íƒ€ì„ìŠ¤íƒ¬í”„ ì •ë³´ ë°°ì—´ [{ text: '[1:30]', seconds: 90, position: 10 }]\n */\nexport interface TimestampMatch {\n  text: string  // ì›ë³¸ í…ìŠ¤íŠ¸ (ì˜ˆ: '[1:30]')\n  seconds: number  // ì´ˆ ë‹¨ìœ„ ì‹œê°„\n  position: number  // í…ìŠ¤íŠ¸ ë‚´ ìœ„ì¹˜\n}\n\nexport const parseTimestamps = (text: string): TimestampMatch[] => {\n  if (!text) return []\n  \n  // íƒ€ì„ìŠ¤íƒ¬í”„ íŒ¨í„´: [MM:SS] ë˜ëŠ” [H:MM:SS]\n  const pattern = /\\[(\\d{1,2}):(\\d{2})(?::(\\d{2}))?\\]/g\n  const matches: TimestampMatch[] = []\n  \n  let match\n  while ((match = pattern.exec(text)) !== null) {\n    const hours = match[3] ? parseInt(match[1], 10) : 0\n    const minutes = match[3] ? parseInt(match[2], 10) : parseInt(match[1], 10)\n    const seconds = match[3] ? parseInt(match[3], 10) : parseInt(match[2], 10)\n    \n    const totalSeconds = hours * 3600 + minutes * 60 + seconds\n    \n    matches.push({\n      text: match[0],\n      seconds: totalSeconds,\n      position: match.index,\n    })\n  }\n  \n  return matches\n}\n\n/**\n * íƒ€ì„ìŠ¤íƒ¬í”„ê°€ í¬í•¨ëœ í…ìŠ¤íŠ¸ë¥¼ í´ë¦­ ê°€ëŠ¥í•œ ë§í¬ë¡œ ë³€í™˜\n * @param text - ì›ë³¸ í…ìŠ¤íŠ¸\n * @param onTimestampClick - íƒ€ì„ìŠ¤íƒ¬í”„ í´ë¦­ í•¸ë“¤ëŸ¬\n * @returns JSX ìš”ì†Œ ë°°ì—´\n */\nexport const renderTextWithTimestamps = (\n  text: string,\n  onTimestampClick?: (seconds: number) => void\n): (string | JSX.Element)[] => {\n  if (!text) return []\n  \n  const timestamps = parseTimestamps(text)\n  if (timestamps.length === 0) return [text]\n  \n  const result: (string | JSX.Element)[] = []\n  let lastIndex = 0\n  \n  timestamps.forEach((ts, idx) => {\n    // íƒ€ì„ìŠ¤íƒ¬í”„ ì´ì „ í…ìŠ¤íŠ¸ ì¶”ê°€\n    if (ts.position > lastIndex) {\n      result.push(text.substring(lastIndex, ts.position))\n    }\n    \n    // íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ í´ë¦­ ê°€ëŠ¥í•œ ë²„íŠ¼ìœ¼ë¡œ ì¶”ê°€\n    if (onTimestampClick) {\n      result.push(\n        <button\n          key={`ts-${idx}`}\n          onClick={() => onTimestampClick(ts.seconds)}\n          className=\"inline-flex items-center px-2 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded font-mono text-xs font-bold transition-colors mx-1\"\n          title={`ì˜ìƒ ${ts.text} ìœ„ì¹˜ë¡œ ì´ë™`}\n        >\n          {ts.text}\n        </button>\n      )\n    } else {\n      result.push(\n        <span key={`ts-${idx}`} className=\"inline-flex items-center px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded font-mono text-xs font-bold mx-1\">\n          {ts.text}\n        </span>\n      )\n    }\n    \n    lastIndex = ts.position + ts.text.length\n  })\n  \n  // ë§ˆì§€ë§‰ íƒ€ì„ìŠ¤íƒ¬í”„ ì´í›„ í…ìŠ¤íŠ¸ ì¶”ê°€\n  if (lastIndex < text.length) {\n    result.push(text.substring(lastIndex))\n  }\n  \n  return result\n}\n\n/**\n * ìœ íŠœë¸Œ URL ìœ íš¨ì„± ê²€ì‚¬\n * @param url - ê²€ì¦í•  URL\n * @returns ìœ íš¨í•œ ìœ íŠœë¸Œ URL ì—¬ë¶€\n */\nexport const isValidYouTubeUrl = (url: string): boolean => {\n  if (!url) return false\n  return extractYouTubeId(url) !== null\n}\n\n/**\n * ìœ íŠœë¸Œ ì¬ìƒ ëª©ë¡ ID ì¶”ì¶œ\n * @param url - ìœ íŠœë¸Œ ì¬ìƒ ëª©ë¡ URL\n * @returns ì¬ìƒ ëª©ë¡ ID ë˜ëŠ” null\n */\nexport const extractYouTubePlaylistId = (url: string): string | null => {\n  if (!url) return null\n  \n  // ì¬ìƒ ëª©ë¡ URL íŒ¨í„´\n  const patterns = [\n    /[?&]list=([a-zA-Z0-9_-]{13,})/,  // ?list=PLAYLIST_ID ë˜ëŠ” &list=PLAYLIST_ID\n    /youtube\\.com\\/playlist\\?list=([a-zA-Z0-9_-]{13,})/,  // playlist ì „ìš© URL\n  ]\n  \n  for (const pattern of patterns) {\n    const match = url.match(pattern)\n    if (match && match[1]) {\n      return match[1]\n    }\n  }\n  \n  return null\n}\n\n/**\n * ìœ íŠœë¸Œ ì¬ìƒ ëª©ë¡ ì„ë² ë“œ URL ìƒì„±\n * @param playlistId - ìœ íŠœë¸Œ ì¬ìƒ ëª©ë¡ ID\n * @param startVideoId - ì‹œì‘í•  ì˜ìƒ ID (ì„ íƒì‚¬í•­)\n * @returns ì¬ìƒ ëª©ë¡ ì„ë² ë“œ URL\n */\nexport const getYouTubePlaylistEmbedUrl = (playlistId: string, startVideoId?: string): string => {\n  const params = new URLSearchParams()\n  \n  params.append('list', playlistId)\n  params.append('rel', '0')\n  params.append('modestbranding', '1')\n  params.append('iv_load_policy', '3')\n  params.append('showinfo', '0')\n  params.append('fs', '1')\n  params.append('cc_load_policy', '0')\n  params.append('controls', '1')\n  params.append('enablejsapi', '1')\n  \n  if (startVideoId) {\n    // íŠ¹ì • ì˜ìƒë¶€í„° ì‹œì‘\n    return `https://www.youtube.com/embed/${startVideoId}?${params.toString()}`\n  } else {\n    // ì¬ìƒ ëª©ë¡ ì²« ì˜ìƒë¶€í„° ì‹œì‘\n    return `https://www.youtube.com/embed?${params.toString()}`\n  }\n}\n\n/**\n * ìœ íŠœë¸Œ ì¬ìƒ ëª©ë¡ ì¸ë„¤ì¼ URL ìƒì„±\n * @param playlistId - ìœ íŠœë¸Œ ì¬ìƒ ëª©ë¡ ID\n * @returns ì¸ë„¤ì¼ URL\n */\nexport const getYouTubePlaylistThumbnail = (playlistId: string): string => {\n  // ì¬ìƒ ëª©ë¡ ì¸ë„¤ì¼ì€ íŠ¹ì • APIë¥¼ í†µí•´ì„œë§Œ ê°€ëŠ¥í•˜ë¯€ë¡œ\n  // ëŒ€ì‹  ì²« ë²ˆì§¸ ì˜ìƒì˜ ì¸ë„¤ì¼ì„ ì‚¬ìš©í•˜ê±°ë‚˜ ê¸°ë³¸ ì´ë¯¸ì§€ ì‚¬ìš©\n  return `https://i.ytimg.com/vi//hqdefault.jpg` // í”Œë ˆì´ìŠ¤í™€ë”\n}\n\n/**\n * ë§ˆí¬ë‹¤ìš´ì„ HTMLë¡œ ë³€í™˜\n * @param markdown - ë§ˆí¬ë‹¤ìš´ í…ìŠ¤íŠ¸\n * @returns HTML ë¬¸ìì—´\n */\nexport const renderMarkdown = (markdown: string): string => {\n  if (!markdown) return ''\n  \n  return markdown\n    // ì œëª©\n    .replace(/^### (.*$)/gim, '<h3 class=\"text-lg font-semibold mt-4 mb-2 text-gray-900 dark:text-white\">$1</h3>')\n    .replace(/^## (.*$)/gim, '<h2 class=\"text-xl font-semibold mt-4 mb-2 text-gray-900 dark:text-white\">$1</h2>')\n    .replace(/^# (.*$)/gim, '<h1 class=\"text-2xl font-bold mt-4 mb-2 text-gray-900 dark:text-white\">$1</h1>')\n    // ë³¼ë“œ\n    .replace(/\\*\\*(.*?)\\*\\*/g, '<strong class=\"font-bold\">$1</strong>')\n    // ì´íƒ¤ë¦­\n    .replace(/\\*(.*?)\\*/g, '<em class=\"italic\">$1</em>')\n    // ë°‘ì¤„\n    .replace(/__(.*?)__/g, '<u class=\"underline\">$1</u>')\n    // ì¸ë¼ì¸ ì½”ë“œ\n    .replace(/`(.*?)`/g, '<code class=\"bg-gray-200 dark:bg-gray-600 text-red-600 dark:text-red-400 px-1 rounded text-sm\">$1</code>')\n    // í† ê¸€\n    .replace(/^â–¶ (.*$)/gim, '<div class=\"flex items-center mt-2 mb-1\"><span class=\"mr-2\">â–¶</span><span class=\"font-medium text-gray-900 dark:text-white\">$1</span></div>')\n    // ë¶ˆë¦¿ ë¦¬ìŠ¤íŠ¸\n    .replace(/^[\\s]*[-*+]\\s(.*$)/gim, '<div class=\"ml-4 mb-1\"><span class=\"mr-2\">â€¢</span>$1</div>')\n    // ìˆ«ì ë¦¬ìŠ¤íŠ¸\n    .replace(/^[\\s]*\\d+\\.\\s(.*$)/gim, '<div class=\"ml-4 mb-1\"><span class=\"mr-2\">1.</span>$1</div>')\n    // ì½”ë“œ ë¸”ë¡\n    .replace(/```(.*?)\\n([\\s\\S]*?)\\n```/gim, (_match, p1, p2) => {\n      const lang = p1 ? `language-${p1.trim()}` : ''\n      return `<pre class=\"bg-gray-800 p-3 rounded-lg overflow-x-auto my-3\"><code class=\"${lang} text-sm text-gray-100\">${p2.trim()}</code></pre>`\n    })\n    // ì¤„ë°”ê¿ˆ\n    .replace(/\\n/g, '<br>')\n}\n\n/**\n * ë§ˆí¬ë‹¤ìš´ì„ HTMLë¡œ ë³€í™˜í•˜ê³  íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ í´ë¦­ ê°€ëŠ¥í•œ ë²„íŠ¼ìœ¼ë¡œ ë³€í™˜\n * @param markdown - ë§ˆí¬ë‹¤ìš´ í˜•ì‹ì˜ ì½˜í…ì¸ \n * @param onTimestampClick - íƒ€ì„ìŠ¤íƒ¬í”„ í´ë¦­ í•¸ë“¤ëŸ¬\n * @returns ë³€í™˜ëœ HTML ë¬¸ìì—´\n */\nexport const renderHtmlWithTimestamps = (\n  markdown: string,\n  onTimestampClick?: (seconds: number) => void\n): string => {\n  if (!markdown) return ''\n  \n  // 1ë‹¨ê³„: ë§ˆí¬ë‹¤ìš´ì„ HTMLë¡œ ë³€í™˜\n  let html = renderMarkdown(markdown)\n  \n  // 2ë‹¨ê³„: íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ë²„íŠ¼ìœ¼ë¡œ ë³€í™˜\n  const pattern = /\\[(\\d{1,2}):(\\d{2})(?::(\\d{2}))?\\]/g\n  \n  html = html.replace(pattern, (match, ...groups) => {\n    const hours = groups[2] ? parseInt(groups[0], 10) : 0\n    const minutes = groups[2] ? parseInt(groups[1], 10) : parseInt(groups[0], 10)\n    const seconds = groups[2] ? parseInt(groups[2], 10) : parseInt(groups[1], 10)\n    \n    const totalSeconds = hours * 3600 + minutes * 60 + seconds\n    \n    // ë°ì´í„° ì†ì„±ìœ¼ë¡œ ì´ˆë¥¼ ì €ì¥í•˜ì—¬ í´ë¦­ ì´ë²¤íŠ¸ì—ì„œ ì‚¬ìš©\n    return `<button \n      class=\"inline-flex items-center px-2 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded font-mono text-xs font-bold transition-colors mx-1 cursor-pointer\"\n      data-timestamp=\"${totalSeconds}\"\n      title=\"ì˜ìƒ ${match} ìœ„ì¹˜ë¡œ ì´ë™\"\n    >${match}</button>`\n  })\n  \n  return html\n}\n\n","import React, { useState } from 'react'\nimport { FaSave, FaStar, FaTimes } from 'react-icons/fa'\nimport { Book, BookFormData, Skill, SkillCategory } from '../../types'\nimport { useSkills } from '../../hooks/useSkills'\nimport { useCategories } from '../../hooks/useCategories'\n\n// í¼ ì»´í¬ë„ŒíŠ¸ì˜ Props íƒ€ì… ì •ì˜\ninterface FormProps {\n  data: Book | null\n  onSave: (data: BookFormData) => Promise<void>\n  onCancel: () => void\n  isSaving?: boolean\n  availableCategories?: string[] // ë™ì  ì¹´í…Œê³ ë¦¬ ëª©ë¡\n}\n\nconst BookForm: React.FC<FormProps> = ({ \n  data, \n  onSave, \n  onCancel, \n  isSaving = false, \n  availableCategories = ['PLC', 'ë°ì´í„°ë¶„ì„', 'ë¡œë´‡ê³µí•™', 'IoT', 'ê¸°íƒ€'] \n}) => {\n  // ğŸŒŸ ìŠ¤í‚¬ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°\n  const { skillCategories, loading: skillsLoading } = useSkills()\n  \n  // ğŸŒŸ ì¹´í…Œê³ ë¦¬ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n  const { data: categories = [], isLoading: categoriesLoading } = useCategories()\n  \n  // readDate ì´ˆê¸°ê°’ ìˆ˜ì •\n  const initialReadDate = data?.readDate && !isNaN(new Date(data.readDate).getTime())\n    ? new Date(data.readDate).toISOString().split('T')[0]\n    : new Date().toISOString().split('T')[0]\n\n  // ğŸŒŸ categoryIds ì´ˆê¸°ê°’ ì²˜ë¦¬\n  const initialCategoryIds = data?.categoryIds \n    ? (data.categoryIds as any[]).map((catIdOrObj: any) => \n        typeof catIdOrObj === 'string' ? catIdOrObj : catIdOrObj._id\n      ).filter(Boolean) as string[]\n    : []\n\n  // ğŸŒŸ skillIds ì´ˆê¸°ê°’ ì²˜ë¦¬ (ê°ì²´ ë˜ëŠ” ë¬¸ìì—´ ëª¨ë‘ ì²˜ë¦¬)\n  const initialSkillIds = data?.skillIds \n    ? (data.skillIds as any[]).map((skillIdOrObj: any) => \n        typeof skillIdOrObj === 'string' ? skillIdOrObj : skillIdOrObj._id\n      ).filter(Boolean) as string[]\n    : []\n\n  const [formData, setFormData] = useState<BookFormData>(\n    data\n      ? { \n          title: data.title,\n          author: data.author,\n          category: data.category,\n          categoryIds: initialCategoryIds,\n          coverImage: data.coverImage || '',\n          readDate: initialReadDate as string,\n          rating: data.rating,\n          skillIds: initialSkillIds  // ğŸŒŸ ìŠ¤í‚¬ ID ë¬¸ìì—´ ë°°ì—´ë¡œ ì´ˆê¸°í™”\n        } \n      : {\n          title: '',\n          author: '',\n          category: availableCategories[0] || 'PLC', // ë™ì  ì¹´í…Œê³ ë¦¬ ì²« ë²ˆì§¸ í•­ëª© ì‚¬ìš©\n          categoryIds: [],\n          coverImage: '',\n          readDate: initialReadDate as string, // initialReadDateë¥¼ ì‚¬ìš©\n          rating: 5,\n          skillIds: []  // ğŸŒŸ ìŠ¤í‚¬ ID ì´ˆê¸°ê°’\n        }\n  )\n  \n  \n  // ğŸŒŸ ì¹´í…Œê³ ë¦¬ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬ (ì²´í¬ë°•ìŠ¤ìš©)\n  const handleCategoryToggle = (categoryId: string) => {\n    const currentCategoryIds = formData.categoryIds || []\n    const isSelected = currentCategoryIds.includes(categoryId)\n    \n    const newCategoryIds = isSelected\n      ? currentCategoryIds.filter((id: string) => id !== categoryId)\n      : [...currentCategoryIds, categoryId]\n    \n    setFormData({ \n      ...formData, \n      categoryIds: newCategoryIds \n    })\n  }\n\n  // ğŸŒŸ ìŠ¤í‚¬ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬ (ì²´í¬ë°•ìŠ¤ìš©)\n  const handleSkillToggle = (skillId: string) => {\n    const currentSkillIds = formData.skillIds || []\n    const isSelected = currentSkillIds.includes(skillId)\n    \n    const newSkillIds = isSelected\n      ? currentSkillIds.filter((id: string) => id !== skillId)\n      : [...currentSkillIds, skillId]\n    \n    setFormData({ \n      ...formData, \n      skillIds: newSkillIds \n    })\n  }\n  \n  // ğŸŒŸ ìŠ¤í‚¬ ì¹´í…Œê³ ë¦¬ ì „ì²´ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬\n  const handleSkillCategoryToggle = (category: SkillCategory) => {\n    const categorySkillIds = (category.skills || []).map(skill => skill._id!).filter(Boolean)\n    const currentSkillIds = formData.skillIds || []\n    \n    const allSelected = categorySkillIds.every((id: string) => currentSkillIds.includes(id))\n    \n    let newSkillIds: string[]\n    if (allSelected) {\n      newSkillIds = currentSkillIds.filter((id: string) => !categorySkillIds.includes(id))\n    } else {\n      const uniqueIds = new Set([...currentSkillIds, ...categorySkillIds])\n      newSkillIds = Array.from(uniqueIds)\n    }\n    \n    setFormData({ \n      ...formData, \n      skillIds: newSkillIds \n    })\n  }\n\n  // í•„ìˆ˜ í•„ë“œ ê²€ì¦\n  const isFormValid = formData.title.trim() !== '' && \n                     formData.author.trim() !== '' && \n                     formData.category.trim() !== ''\n\n  const handleFormSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    \n    if (!isFormValid) {\n      alert('í•„ìˆ˜ í•„ë“œ(ì œëª©, ì €ì, ì¹´í…Œê³ ë¦¬)ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.')\n      return\n    }\n    \n    console.log('ğŸ“š ì„œì  ì €ì¥ ì‹œì‘:', formData)\n    console.log('ğŸ”— ì„ íƒëœ ìŠ¤í‚¬ IDs:', formData.skillIds)\n    \n    // ğŸŒŸ skillIdsì™€ categoryIdsë¥¼ ë¬¸ìì—´ ë°°ì—´ë¡œ í™•ì‹¤í•˜ê²Œ ë³€í™˜ + ì¤‘ë³µ ì œê±°\n    const skillIds = Array.from(new Set(\n      (formData.skillIds || []).map((skillIdOrObj: any) => \n        typeof skillIdOrObj === 'string' ? skillIdOrObj : skillIdOrObj?._id\n      ).filter(Boolean)\n    ))\n    \n    const categoryIds = Array.from(new Set(\n      (formData.categoryIds || []).map((catIdOrObj: any) => \n        typeof catIdOrObj === 'string' ? catIdOrObj : catIdOrObj?._id\n      ).filter(Boolean)\n    ))\n    \n    const { title, author, category, coverImage, readDate, rating } = formData\n    \n    const saveData = { \n      title, \n      author, \n      category, \n      coverImage: coverImage || '', \n      readDate, \n      rating,\n      skillIds,  // ğŸŒŸ ë³€í™˜ëœ skillIds\n      categoryIds  // ğŸŒŸ ë³€í™˜ëœ categoryIds\n    }\n    \n    console.log('ğŸ“¤ ìµœì¢… ì „ì†¡ ë°ì´í„°:', saveData)\n    onSave(saveData)\n  }\n\n  return (\n    <form onSubmit={handleFormSubmit} className=\"space-y-4\">\n      <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-4\">\n        {data ? 'ì„œì  ìˆ˜ì •' : 'ì„œì  ì¶”ê°€'}\n      </h3>\n      <div className=\"grid md:grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ì œëª©\n          </label>\n          <input\n            type=\"text\"\n            value={formData.title}\n            onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ì €ì\n          </label>\n          <input\n            type=\"text\"\n            value={formData.author}\n            onChange={(e) => setFormData({ ...formData, author: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n          />\n        </div>\n        <div className=\"md:col-span-2\">\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\n            ì¹´í…Œê³ ë¦¬ ì„ íƒ ğŸ“‚ (ë‹¤ì¤‘ ì„ íƒ ê°€ëŠ¥)\n          </label>\n\n          {/* ì„ íƒëœ ì¹´í…Œê³ ë¦¬ íƒœê·¸ í‘œì‹œ */}\n          {formData.categoryIds && formData.categoryIds.length > 0 && (\n            <div className=\"flex flex-wrap gap-2 mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\n              {formData.categoryIds.map((catId) => {\n                const category = categories.find(c => c._id === catId)\n                return category ? (\n                  <span\n                    key={catId}\n                    className=\"inline-flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded-full text-sm\"\n                  >\n                    {category.name}\n                    <button\n                      type=\"button\"\n                      onClick={() => handleCategoryToggle(catId)}\n                      className=\"hover:bg-blue-700 rounded-full p-0.5\"\n                    >\n                      <FaTimes className=\"text-xs\" />\n                    </button>\n                  </span>\n                ) : null\n              })}\n            </div>\n          )}\n\n          {/* ì¹´í…Œê³ ë¦¬ ì²´í¬ë°•ìŠ¤ ëª©ë¡ */}\n          {categoriesLoading ? (\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">ì¹´í…Œê³ ë¦¬ ë¡œë”© ì¤‘...</p>\n          ) : categories.length > 0 ? (\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n              {categories.map((category) => {\n                const isSelected = (formData.categoryIds || []).includes(category._id)\n                return (\n                  <label\n                    key={category._id}\n                    className={`flex items-center gap-2 p-3 border-2 rounded-lg cursor-pointer transition-all ${\n                      isSelected\n                        ? 'border-primary-600 bg-primary-50 dark:bg-primary-900/20'\n                        : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\n                    }`}\n                  >\n                    <input\n                      type=\"checkbox\"\n                      checked={isSelected}\n                      onChange={() => handleCategoryToggle(category._id)}\n                      className=\"w-4 h-4\"\n                    />\n                    <span className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                      {category.name}\n                    </span>\n                  </label>\n                )\n              })}\n            </div>\n          ) : (\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n              ë“±ë¡ëœ ì¹´í…Œê³ ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤. ê´€ë¦¬ì ë©”ë‰´ì˜ \"ì¹´í…Œê³ ë¦¬ ê´€ë¦¬\"ì—ì„œ ì¶”ê°€í•˜ì„¸ìš”.\n            </p>\n          )}\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            í‰ì \n          </label>\n          <div className=\"flex items-center gap-2\">\n            {/* ì‹œê°ì  ë³„ ì„ íƒ */}\n            <div className=\"flex gap-1\">\n              {[1, 2, 3, 4, 5].map((star) => (\n                <button\n                  key={star}\n                  type=\"button\"\n                  onClick={() => setFormData({ ...formData, rating: star })}\n                  className={`text-2xl transition-colors ${\n                    star <= formData.rating \n                      ? 'text-yellow-500 hover:text-yellow-600' \n                      : 'text-gray-300 hover:text-gray-400'\n                  }`}\n                >\n                  <FaStar />\n                </button>\n              ))}\n            </div>\n            {/* ìˆ«ì ì…ë ¥ (ë³´ì¡°) */}\n            <input\n              type=\"number\"\n              min=\"1\"\n              max=\"5\"\n              step=\"0.5\"\n              value={formData.rating}\n              onChange={(e) => {\n                const value = e.target.value\n                // ì…ë ¥ê°’ì´ ë¹„ì–´ìˆê±°ë‚˜, ìœ íš¨í•œ ìˆ«ìê°€ ì•„ë‹ˆë©´ ì´ì „ ê°’ ìœ ì§€\n                const newRating = value === '' ? 0 : parseFloat(value)\n                setFormData({ \n                  ...formData, \n                  rating: isNaN(newRating) ? formData.rating : Math.max(1, Math.min(5, newRating))\n                })\n              }}\n              className=\"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm\"\n            />\n          </div>\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ì½ì€ ë‚ ì§œ\n          </label>\n          <input\n            type=\"date\"\n            value={formData.readDate}\n            onChange={(e) => setFormData({ ...formData, readDate: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            í‘œì§€ ì´ë¯¸ì§€ URL\n          </label>\n          <input\n            type=\"text\"\n            value={formData.coverImage}\n            onChange={(e) => setFormData({ ...formData, coverImage: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            placeholder=\"https://...\"\n          />\n        </div>\n        \n        {/* ğŸŒŸ ì„œì ì—ì„œ ë‹¤ë£¨ëŠ” í•µì‹¬ ìŠ¤í‚¬ ì„ íƒ - ì²´í¬ë°•ìŠ¤ UI */}\n        <div className=\"md:col-span-2\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n              ì´ ì„œì ì—ì„œ ë‹¤ë£¨ëŠ” í•µì‹¬ ìŠ¤í‚¬ ğŸ”—\n            </label>\n            {formData.skillIds && formData.skillIds.length > 0 && (\n              <span className=\"text-xs font-semibold text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded\">\n                âœ“ {formData.skillIds.length}ê°œ ì„ íƒë¨\n              </span>\n            )}\n          </div>\n          \n          {skillsLoading ? (\n            <div className=\"text-sm text-gray-500 dark:text-gray-400 py-2\">\n              ìŠ¤í‚¬ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...\n            </div>\n          ) : skillCategories.length === 0 ? (\n            <div className=\"text-sm text-gray-500 dark:text-gray-400 py-4 text-center border border-gray-300 dark:border-gray-600 rounded-lg\">\n              ë“±ë¡ëœ ìŠ¤í‚¬ì´ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € ìŠ¤í‚¬ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.\n            </div>\n          ) : (\n            <div className=\"border border-gray-300 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-800 max-h-[400px] overflow-y-auto\">\n              {skillCategories.map((category: SkillCategory) => {\n                const categorySkillIds = (category.skills || []).map(skill => skill._id!).filter(Boolean)\n                const currentSkillIds = formData.skillIds || []\n                \n                const selectedCount = categorySkillIds.filter(id => currentSkillIds.includes(id)).length\n                const allSelected = categorySkillIds.length > 0 && selectedCount === categorySkillIds.length\n                const someSelected = selectedCount > 0 && selectedCount < categorySkillIds.length\n                \n                return (\n                  <div key={category._id} className=\"mb-4 last:mb-0\">\n                    {/* ì¹´í…Œê³ ë¦¬ í—¤ë” (ì „ì²´ ì„ íƒ/í•´ì œ) */}\n                    <div \n                      className=\"flex items-center gap-2 mb-2 pb-2 border-b border-gray-300 dark:border-gray-600 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded\"\n                      onClick={() => handleSkillCategoryToggle(category)}\n                    >\n                      <input\n                        type=\"checkbox\"\n                        checked={allSelected}\n                        ref={el => {\n                          if (el) {\n                            el.indeterminate = someSelected\n                          }\n                        }}\n                        onChange={() => handleSkillCategoryToggle(category)}\n                        className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n                        onClick={(e) => e.stopPropagation()}\n                      />\n                      <label \n                        className=\"font-semibold text-gray-900 dark:text-white flex-1 cursor-pointer\"\n                        style={{ color: category.color || '#3B82F6' }}\n                      >\n                        {category.title}\n                        {selectedCount > 0 && (\n                          <span className=\"ml-2 text-xs font-normal text-gray-500 dark:text-gray-400\">\n                            ({selectedCount}/{categorySkillIds.length})\n                          </span>\n                        )}\n                      </label>\n                    </div>\n                    \n                    {/* ìŠ¤í‚¬ ëª©ë¡ */}\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 pl-6\">\n                      {(category.skills || []).map((skill: Skill) => {\n                        const currentSkillIds = formData.skillIds || []\n                        const isSelected = currentSkillIds.includes(skill._id!)\n                        \n                        return (\n                          <label\n                            key={skill._id}\n                            className={`flex items-center gap-2 p-2 rounded cursor-pointer transition-colors ${\n                              isSelected \n                                ? 'bg-blue-50 dark:bg-blue-900/20 border border-blue-300 dark:border-blue-700' \n                                : 'hover:bg-gray-100 dark:hover:bg-gray-700 border border-transparent'\n                            }`}\n                          >\n                            <input\n                              type=\"checkbox\"\n                              checked={isSelected}\n                              onChange={() => handleSkillToggle(skill._id!)}\n                              className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n                            />\n                            <span className={`text-sm ${isSelected ? 'font-semibold text-blue-700 dark:text-blue-300' : 'text-gray-700 dark:text-gray-300'}`}>\n                              {skill.name}\n                            </span>\n                          </label>\n                        )\n                      })}\n                    </div>\n                  </div>\n                )\n              })}\n            </div>\n          )}\n          \n          <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">\n            ğŸ’¡ ì´ ì„œì ì—ì„œ ì£¼ìš”í•˜ê²Œ ë‹¤ë£¨ëŠ” ìŠ¤í‚¬ì„ ì„ íƒí•˜ì„¸ìš”. ê°œë³„ í•™ìŠµ ë‚´ìš©ì—ì„œë„ ì¶”ê°€ë¡œ ìŠ¤í‚¬ì„ ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n          </p>\n        </div>\n      </div>\n      <div className=\"flex gap-3 pt-4\">\n        <button\n          type=\"submit\"\n          disabled={isSaving || !isFormValid}\n          className={`flex-1 flex items-center justify-center gap-2 bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 rounded-lg transition-colors ${\n            isSaving || !isFormValid ? 'opacity-50 cursor-not-allowed' : ''\n          }`}\n        >\n          {isSaving ? (\n            <>\n              <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n              ì €ì¥ ì¤‘...\n            </>\n          ) : (\n            <>\n              <FaSave /> ì €ì¥\n            </>\n          )}\n        </button>\n        <button\n          type=\"button\"\n          onClick={onCancel}\n          className=\"flex-1 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white font-medium py-2 rounded-lg transition-colors\"\n        >\n          ì·¨ì†Œ\n        </button>\n      </div>\n    </form>\n  )\n}\n\nexport default BookForm\n","import React, { useState, useEffect } from 'react'\nimport { FaSave, FaTimes } from 'react-icons/fa'\nimport { Chapter } from '../../types'\n\ninterface ChapterFormProps {\n  chapter?: Chapter | null\n  onSave: (data: { title: string; order: number }) => Promise<void>\n  onCancel: () => void\n  maxOrder?: number\n}\n\nconst ChapterForm: React.FC<ChapterFormProps> = ({\n  chapter,\n  onSave,\n  onCancel,\n  maxOrder = 0\n}) => {\n  const [title, setTitle] = useState('')\n  const [order, setOrder] = useState(0)\n  const [isSaving, setIsSaving] = useState(false)\n\n  useEffect(() => {\n    if (chapter) {\n      setTitle(chapter.title)\n      setOrder(chapter.order)\n    } else {\n      setTitle('')\n      setOrder(maxOrder)\n    }\n  }, [chapter, maxOrder])\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    \n    if (!title.trim()) {\n      alert('ëª©ì°¨ ì œëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.')\n      return\n    }\n\n    try {\n      setIsSaving(true)\n      await onSave({ title: title.trim(), order })\n    } catch (error) {\n      console.error('ëª©ì°¨ ì €ì¥ ì‹¤íŒ¨:', error)\n    } finally {\n      setIsSaving(false)\n    }\n  }\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n          {chapter ? 'ëª©ì°¨ ìˆ˜ì •' : 'ëª©ì°¨ ì¶”ê°€'}\n        </h3>\n        <button\n          onClick={onCancel}\n          className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n        >\n          <FaTimes className=\"text-gray-500 dark:text-gray-400\" />\n        </button>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <div>\n          <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ëª©ì°¨ ì œëª©\n          </label>\n          <input\n            type=\"text\"\n            id=\"title\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            placeholder=\"ëª©ì°¨ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”\"\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            required\n          />\n        </div>\n\n        <div>\n          <label htmlFor=\"order\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ìˆœì„œ\n          </label>\n          <input\n            type=\"number\"\n            id=\"order\"\n            value={order}\n            onChange={(e) => setOrder(parseInt(e.target.value) || 0)}\n            min=\"0\"\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n          />\n        </div>\n\n        <div className=\"flex gap-3 pt-4\">\n          <button\n            type=\"submit\"\n            disabled={isSaving || !title.trim()}\n            className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2\"\n          >\n            <FaSave />\n            {isSaving ? 'ì €ì¥ ì¤‘...' : (chapter ? 'ìˆ˜ì •' : 'ì¶”ê°€')}\n          </button>\n          <button\n            type=\"button\"\n            onClick={onCancel}\n            className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\"\n          >\n            ì·¨ì†Œ\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default ChapterForm\n","import React, { useState, useEffect } from 'react'\nimport { FaSave, FaTimes } from 'react-icons/fa'\nimport ReactQuill from 'react-quill'\nimport 'react-quill/dist/quill.snow.css'\nimport { Learning } from '../../types'\n\n// ë§ˆí¬ë‹¤ìš´ ë¬¸ë²• ë³€í™˜ í•¨ìˆ˜ (í–¥í›„ ì‚¬ìš©ì„ ìœ„í•´ ìœ ì§€)\n// const convertMarkdownToHtml = (text: string): string => {\n//   return text\n//     .replace(/^### (.*$)/gim, '<h3>$1</h3>')\n//     .replace(/^## (.*$)/gim, '<h2>$1</h2>')\n//     .replace(/^# (.*$)/gim, '<h1>$1</h1>')\n//     .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n//     .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\n//     .replace(/```([\\s\\S]*?)```/g, '<pre><code>$1</code></pre>')\n//     .replace(/`([^`]+)`/g, '<code>$1</code>')\n//     .replace(/\\[([^\\]]+)\\]\\(([^)]+)\\)/g, '<a href=\"$2\">$1</a>')\n//     .replace(/\\n/g, '<br>')\n// }\n\ninterface LearningFormProps {\n  learning?: Learning | null\n  onSave: (data: { topic: string; content: string }) => Promise<void>\n  onCancel: () => void\n}\n\nconst LearningForm: React.FC<LearningFormProps> = ({\n  learning,\n  onSave,\n  onCancel\n}) => {\n  const [topic, setTopic] = useState('')\n  const [content, setContent] = useState('')\n  const [isSaving, setIsSaving] = useState(false)\n\n  // Quill ì—ë””í„° ì„¤ì •\n  const quillModules = {\n    toolbar: [\n      [{ 'header': [1, 2, 3, false] }],\n      ['bold', 'italic', 'underline', 'strike'],\n      [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n      [{ 'indent': '-1'}, { 'indent': '+1' }],\n      ['blockquote', 'code-block'],\n      [{ 'color': [] }, { 'background': [] }],\n      ['link', 'image'],\n      ['clean']\n    ]\n  }\n\n  const quillFormats = [\n    'header', 'bold', 'italic', 'underline', 'strike',\n    'list', 'bullet', 'indent',\n    'blockquote', 'code-block',\n    'color', 'background',\n    'link', 'image'\n  ]\n\n  useEffect(() => {\n    if (learning) {\n      setTopic(learning.topic)\n      setContent(learning.content)\n    } else {\n      setTopic('')\n      setContent('')\n    }\n  }, [learning])\n\n  // HTML íƒœê·¸ë¥¼ ì œê±°í•˜ê³  ìˆœìˆ˜ í…ìŠ¤íŠ¸ë§Œ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜\n  const stripHtml = (html: string) => {\n    const tmp = document.createElement('div')\n    tmp.innerHTML = html\n    return tmp.textContent || tmp.innerText || ''\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    \n    if (!topic.trim()) {\n      alert('í•™ìŠµ ì£¼ì œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.')\n      return\n    }\n\n    // HTML íƒœê·¸ë¥¼ ì œê±°í•œ ìˆœìˆ˜ í…ìŠ¤íŠ¸ë¡œ ê²€ì¦\n    const plainTextContent = stripHtml(content).trim()\n    if (!plainTextContent) {\n      alert('í•™ìŠµ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.')\n      return\n    }\n\n    try {\n      setIsSaving(true)\n      await onSave({ topic: topic.trim(), content: content.trim() })\n    } catch (error) {\n      console.error('í•™ìŠµ ë‚´ìš© ì €ì¥ ì‹¤íŒ¨:', error)\n    } finally {\n      setIsSaving(false)\n    }\n  }\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n          {learning ? 'í•™ìŠµ ë‚´ìš© ìˆ˜ì •' : 'í•™ìŠµ ë‚´ìš© ì¶”ê°€'}\n        </h3>\n        <button\n          onClick={onCancel}\n          className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n        >\n          <FaTimes className=\"text-gray-500 dark:text-gray-400\" />\n        </button>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <div>\n          <label htmlFor=\"topic\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            í•™ìŠµ ì£¼ì œ\n          </label>\n          <input\n            type=\"text\"\n            id=\"topic\"\n            value={topic}\n            onChange={(e) => setTopic(e.target.value)}\n            placeholder=\"í•™ìŠµ ì£¼ì œë¥¼ ì…ë ¥í•˜ì„¸ìš”\"\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            required\n          />\n        </div>\n\n        <div>\n          <label htmlFor=\"content\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            í•™ìŠµ ë‚´ìš©\n            <span className=\"text-xs text-gray-500 ml-2\">\n              (ë§ˆí¬ë‹¤ìš´ ë¬¸ë²• ì§€ì›: **êµµê²Œ**, *ê¸°ìš¸ì„*, # ì œëª©, - ëª©ë¡)\n            </span>\n          </label>\n          <div className=\"rich-text-editor-container\">\n            <ReactQuill\n              theme=\"snow\"\n              value={content}\n              onChange={(value) => {\n                console.log('ReactQuill onChange:', value)\n                setContent(value)\n              }}\n              placeholder=\"í•™ìŠµ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”. ë§ˆí¬ë‹¤ìš´ ë¬¸ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n              modules={quillModules}\n              formats={quillFormats}\n              className=\"rich-text-editor\"\n            />\n          </div>\n        </div>\n\n        <div className=\"flex gap-3 pt-4\">\n          <button\n            type=\"submit\"\n            disabled={isSaving || !topic.trim() || !stripHtml(content).trim()}\n            className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2\"\n          >\n            <FaSave />\n            {isSaving ? 'ì €ì¥ ì¤‘...' : (learning ? 'ìˆ˜ì •' : 'ì¶”ê°€')}\n          </button>\n          <button\n            type=\"button\"\n            onClick={onCancel}\n            className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\"\n          >\n            ì·¨ì†Œ\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default LearningForm\n","import React, { useState, useMemo } from 'react'\nimport { FaSave, FaStar, FaTimes } from 'react-icons/fa'\nimport { VideoLearning, VideoLearningFormData, Skill, SkillCategory } from '../../types'\nimport { extractYouTubeId, getYouTubeThumbnail } from '../../utils/videoUtils'\nimport { useSkills } from '../../hooks/useSkills'\nimport { useCategories } from '../../hooks/useCategories'\nimport LexicalEditor from '../lexical/LexicalEditor'\nimport { SerializedEditorState } from 'lexical'\n\ninterface FormProps {\n  data?: VideoLearning\n  onSave: (data: VideoLearningFormData) => void\n  onCancel: () => void\n  isSaving?: boolean\n  availableCategories?: string[]\n}\n\nconst VideoLearningForm: React.FC<FormProps> = ({ \n  data, \n  onSave, \n  onCancel, \n  isSaving = false, \n  availableCategories = ['PLC', 'ë°ì´í„°ë¶„ì„', 'ë¡œë´‡ê³µí•™', 'IoT', 'ê¸°íƒ€'] \n}) => {\n  // ğŸŒŸ ìŠ¤í‚¬ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n  const { skillCategories, loading: skillsLoading } = useSkills()\n  \n  // ğŸŒŸ ì¹´í…Œê³ ë¦¬ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n  const { data: categories = [], isLoading: categoriesLoading } = useCategories()\n\n  // watchDate ì´ˆê¸°ê°’ ìˆ˜ì •\n  const initialWatchDate = data?.watchDate && !isNaN(new Date(data.watchDate).getTime())\n    ? new Date(data.watchDate).toISOString().split('T')[0]\n    : new Date().toISOString().split('T')[0]\n\n  // ğŸŒŸ í¼ ìƒíƒœ ê´€ë¦¬ (ë‚´ë¶€ì—ì„œëŠ” videoUrlë¡œ ê´€ë¦¬, ì €ì¥ ì‹œ videoIdë¡œ ë³€í™˜)\n  const [videoUrlInput, setVideoUrlInput] = useState<string>(() => {\n    // videoIdê°€ ìˆìœ¼ë©´ URLë¡œ ë³€í™˜, videoUrlì´ ìˆìœ¼ë©´ ê·¸ëŒ€ë¡œ ì‚¬ìš© (í˜¸í™˜ì„±)\n    if (data?.videoId) return `https://www.youtube.com/watch?v=${data.videoId}`\n    if ((data as any)?.videoUrl) return (data as any).videoUrl\n    return ''\n  })\n\n  // ğŸŒŸ skillIds ì´ˆê¸°ê°’ ì²˜ë¦¬ (populateëœ ê°ì²´ ë°°ì—´ì—ì„œ _idë§Œ ì¶”ì¶œ)\n  const initialSkillIds = data?.skillIds \n    ? (data.skillIds as any[]).map((skillIdOrObj: any) => \n        typeof skillIdOrObj === 'string' ? skillIdOrObj : skillIdOrObj._id\n      ).filter(Boolean) as string[]\n    : []\n\n  // ğŸŒŸ categoryIds ì´ˆê¸°ê°’ ì²˜ë¦¬\n  const initialCategoryIds = data?.categoryIds \n    ? (data.categoryIds as any[]).map((catIdOrObj: any) => \n        typeof catIdOrObj === 'string' ? catIdOrObj : catIdOrObj._id\n      ).filter(Boolean) as string[]\n    : []\n\n  console.log('ğŸ¬ VideoLearningForm ì´ˆê¸°í™”:', {\n    hasData: !!data,\n    rawSkillIds: data?.skillIds,\n    extractedSkillIds: initialSkillIds,\n    rawCategoryIds: data?.categoryIds,\n    extractedCategoryIds: initialCategoryIds,\n  })\n\n  // keyTakeawaysë¥¼ SerializedEditorState í˜•ì‹ìœ¼ë¡œ ê´€ë¦¬\n  const parseKeyTakeaways = (value: string | undefined): SerializedEditorState => {\n    if (!value) return { root: { children: [], direction: 'ltr', format: '', indent: 0, type: 'root', version: 1 } }\n    try {\n      const parsed = JSON.parse(value)\n      if (parsed && parsed.root) return parsed\n      // ë ˆê±°ì‹œ í˜•ì‹ë„ ì²˜ë¦¬\n      return { root: { children: [], direction: 'ltr', format: '', indent: 0, type: 'root', version: 1 } }\n    } catch {\n      return { root: { children: [], direction: 'ltr', format: '', indent: 0, type: 'root', version: 1 } }\n    }\n  }\n\n  const [formData, setFormData] = useState<Omit<VideoLearningFormData, 'videoId' | 'keyTakeaways'> & { keyTakeaways: SerializedEditorState }>(\n    data\n      ? { \n          title: data.title,\n          category: data.category,\n          categoryIds: initialCategoryIds,\n          watchDate: initialWatchDate as string,\n          rating: data.rating || 3,\n          purpose: data.purpose || '',\n          keyTakeaways: parseKeyTakeaways(data.keyTakeaways),\n          application: data.application || '',\n          skillIds: initialSkillIds,\n          order: data.order || 0,\n        } \n      : {\n          title: '',\n          category: availableCategories[0] || 'PLC',\n          categoryIds: [],\n          watchDate: initialWatchDate as string,\n          rating: 3,\n          purpose: '',\n          keyTakeaways: { blocks: [] },\n          application: '',\n          skillIds: [],\n          order: 0,\n        }\n  )\n\n  // ğŸŒŸ ìœ íŠœë¸Œ ì˜ìƒ ID ì¶”ì¶œ (ì‹¤ì‹œê°„) + ë””ë²„ê¹… ë¡œê·¸\n  const videoId = useMemo(() => {\n    const id = extractYouTubeId(videoUrlInput)\n    console.log('ğŸ¬ VideoForm: URL íŒŒì‹± ê²°ê³¼ -', { inputUrl: videoUrlInput, extractedId: id })\n    return id\n  }, [videoUrlInput])\n  \n  const thumbnailUrl = useMemo(() => videoId ? getYouTubeThumbnail(videoId) : null, [videoId])\n  const isValidUrl = useMemo(() => videoId !== null, [videoId])\n\n\n  // ğŸŒŸ ì¹´í…Œê³ ë¦¬ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬ (ì²´í¬ë°•ìŠ¤ìš©)\n  const handleCategoryToggle = (categoryId: string) => {\n    const currentCategoryIds = formData.categoryIds || []\n    const isSelected = currentCategoryIds.includes(categoryId)\n    \n    const newCategoryIds = isSelected\n      ? currentCategoryIds.filter((id: string) => id !== categoryId)\n      : [...currentCategoryIds, categoryId]\n    \n    setFormData({ \n      ...formData, \n      categoryIds: newCategoryIds \n    })\n  }\n\n  // ğŸŒŸ ìŠ¤í‚¬ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬ (ì²´í¬ë°•ìŠ¤ìš©)\n  const handleSkillToggle = (skillId: string) => {\n    const currentSkillIds = formData.skillIds || []\n    const isSelected = currentSkillIds.includes(skillId)\n    \n    const newSkillIds = isSelected\n      ? currentSkillIds.filter((id: string) => id !== skillId)\n      : [...currentSkillIds, skillId]\n    \n    setFormData({ \n      ...formData, \n      skillIds: newSkillIds \n    })\n  }\n  \n  // ğŸŒŸ ìŠ¤í‚¬ ì¹´í…Œê³ ë¦¬ ì „ì²´ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬\n  const handleSkillCategoryToggle = (category: SkillCategory) => {\n    const categorySkillIds = (category.skills || []).map((skill: Skill) => skill._id!).filter(Boolean)\n    const currentSkillIds = formData.skillIds || []\n    \n    // ì¹´í…Œê³ ë¦¬ì˜ ëª¨ë“  ìŠ¤í‚¬ì´ ì„ íƒë˜ì–´ ìˆëŠ”ì§€ í™•ì¸\n    const allSelected = categorySkillIds.every((id: string) => currentSkillIds.includes(id))\n    \n    let newSkillIds: string[]\n    if (allSelected) {\n      // ëª¨ë‘ ì„ íƒë˜ì–´ ìˆìœ¼ë©´ ì „ì²´ í•´ì œ\n      newSkillIds = currentSkillIds.filter((id: string) => !categorySkillIds.includes(id))\n    } else {\n      // ì¼ë¶€ë§Œ ì„ íƒë˜ì–´ ìˆê±°ë‚˜ ì—†ìœ¼ë©´ ì „ì²´ ì„ íƒ\n      const uniqueIds = new Set([...currentSkillIds, ...categorySkillIds])\n      newSkillIds = Array.from(uniqueIds)\n    }\n    \n    setFormData({ \n      ...formData, \n      skillIds: newSkillIds \n    })\n  }\n\n  const handleFormSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    \n    if (!formData.title.trim() || !videoUrlInput.trim()) {\n      alert('í•„ìˆ˜ í•„ë“œ(ì œëª©, ì˜ìƒ URL)ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.')\n      return\n    }\n\n    if (!isValidUrl || !videoId) {\n      alert('âŒ ì˜¬ë°”ë¥¸ ìœ íŠœë¸Œ URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”.')\n      return\n    }\n\n    console.log('ğŸ“¹ ì˜ìƒ í•™ìŠµ ì €ì¥ ì‹œì‘:', formData)\n    console.log('ğŸ¬ ì¶”ì¶œëœ ì˜ìƒ ID:', videoId)\n    console.log('ğŸ”— ì„ íƒëœ ìŠ¤í‚¬ IDs:', formData.skillIds)\n    \n    const { title, category, watchDate, rating, purpose, keyTakeaways, application, skillIds, order } = formData\n    \n    // ğŸŒŸ videoIdë¡œ ë³€í™˜í•˜ì—¬ ì €ì¥\n    onSave({ \n      title, \n      videoId: videoId!,  // ì¶”ì¶œëœ ì˜ìƒ ID\n      category, \n      watchDate, \n      ...(rating !== undefined && { rating }),\n      ...(purpose && { purpose }),\n      ...(keyTakeaways && { keyTakeaways: JSON.stringify(keyTakeaways) }),\n      ...(application && { application }),\n      skillIds: skillIds || [],\n      order: order || 0,\n    })\n  }\n\n  // í¼ ìœ íš¨ì„± ê²€ì‚¬\n  const isFormValid = formData.title.trim() && videoUrlInput.trim() && isValidUrl\n\n  // ğŸŒŸ ë³„ì  ë Œë”ë§ (í´ë¦­ ê°€ëŠ¥)\n  const renderRatingStars = () => {\n    return Array.from({ length: 5 }, (_, i) => {\n      const starValue = i + 1\n      return (\n        <button\n          key={i}\n          type=\"button\"\n          onClick={() => setFormData({ ...formData, rating: starValue })}\n          className={`text-3xl transition-colors ${\n            starValue <= (formData.rating || 0)\n              ? 'text-yellow-500 hover:text-yellow-600'\n              : 'text-gray-300 dark:text-gray-600 hover:text-gray-400'\n          }`}\n        >\n          <FaStar />\n        </button>\n      )\n    })\n  }\n\n  return (\n    <form onSubmit={handleFormSubmit} className=\"space-y-6\">\n      {/* ê¸°ë³¸ ì •ë³´ */}\n      <div className=\"grid md:grid-cols-2 gap-6\">\n        <div className=\"md:col-span-2\">\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ì œëª© <span className=\"text-red-500\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            value={formData.title}\n            onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            placeholder=\"ì˜ìƒ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”\"\n            required\n          />\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ì˜ìƒ URL <span className=\"text-red-500\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            value={videoUrlInput}\n            onChange={(e) => setVideoUrlInput(e.target.value)}\n            className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${\n              videoUrlInput && !isValidUrl\n                ? 'border-red-500'\n                : 'border-gray-300 dark:border-gray-600'\n            }`}\n            placeholder=\"https://www.youtube.com/watch?v=...\"\n            required\n          />\n          {videoUrlInput && !isValidUrl && (\n            <p className=\"text-red-500 text-sm mt-1\">ì˜¬ë°”ë¥¸ ìœ íŠœë¸Œ URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”</p>\n          )}\n          {videoId && (\n            <p className=\"text-green-600 text-sm mt-1\">âœ… ì˜ìƒ ID: <code className=\"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded\">{videoId}</code></p>\n          )}\n          {/* ğŸŒŸ ì¸ë„¤ì¼ ë¯¸ë¦¬ë³´ê¸° */}\n          {thumbnailUrl && isValidUrl && (\n            <div className=\"mt-3\">\n              <img \n                src={thumbnailUrl} \n                alt=\"ì˜ìƒ ì¸ë„¤ì¼\" \n                className=\"w-full max-w-md rounded-lg shadow-md\"\n                onError={(e) => {\n                  // maxresdefaultê°€ ì—†ìœ¼ë©´ hqdefaultë¡œ í´ë°±\n                  const target = e.target as HTMLImageElement\n                  if (target.src.includes('maxresdefault')) {\n                    target.src = getYouTubeThumbnail(videoId!, 'hqdefault')\n                  }\n                }}\n              />\n              <p className=\"text-sm text-green-600 dark:text-green-400 mt-2\">âœ“ ìœ íš¨í•œ ìœ íŠœë¸Œ URL</p>\n            </div>\n          )}\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\n            ì¹´í…Œê³ ë¦¬ ì„ íƒ ğŸ“‚ (ë‹¤ì¤‘ ì„ íƒ ê°€ëŠ¥)\n          </label>\n\n          {/* ì„ íƒëœ ì¹´í…Œê³ ë¦¬ íƒœê·¸ í‘œì‹œ */}\n          {formData.categoryIds && formData.categoryIds.length > 0 && (\n            <div className=\"flex flex-wrap gap-2 mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\n              {formData.categoryIds.map((catId) => {\n                const category = categories.find(c => c._id === catId)\n                return category ? (\n                  <span\n                    key={catId}\n                    className=\"inline-flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded-full text-sm\"\n                  >\n                    {category.name}\n                    <button\n                      type=\"button\"\n                      onClick={() => handleCategoryToggle(catId)}\n                      className=\"hover:bg-blue-700 rounded-full p-0.5\"\n                    >\n                      <FaTimes className=\"text-xs\" />\n                    </button>\n                  </span>\n                ) : null\n              })}\n            </div>\n          )}\n\n          {/* ì¹´í…Œê³ ë¦¬ ì²´í¬ë°•ìŠ¤ ëª©ë¡ */}\n          {categoriesLoading ? (\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">ì¹´í…Œê³ ë¦¬ ë¡œë”© ì¤‘...</p>\n          ) : categories.length > 0 ? (\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n              {categories.map((category) => {\n                const isSelected = (formData.categoryIds || []).includes(category._id)\n                return (\n                  <label\n                    key={category._id}\n                    className={`flex items-center gap-2 p-3 border-2 rounded-lg cursor-pointer transition-all ${\n                      isSelected\n                        ? 'border-primary-600 bg-primary-50 dark:bg-primary-900/20'\n                        : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\n                    }`}\n                  >\n                    <input\n                      type=\"checkbox\"\n                      checked={isSelected}\n                      onChange={() => handleCategoryToggle(category._id)}\n                      className=\"w-4 h-4\"\n                    />\n                    <span className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                      {category.name}\n                    </span>\n                  </label>\n                )\n              })}\n            </div>\n          ) : (\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n              ë“±ë¡ëœ ì¹´í…Œê³ ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤. ê´€ë¦¬ì ë©”ë‰´ì˜ \"ì¹´í…Œê³ ë¦¬ ê´€ë¦¬\"ì—ì„œ ì¶”ê°€í•˜ì„¸ìš”.\n            </p>\n          )}\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ì‹œì²­ ë‚ ì§œ\n          </label>\n          <input\n            type=\"date\"\n            value={formData.watchDate}\n            onChange={(e) => setFormData({ ...formData, watchDate: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n          />\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ì´í•´ë„ í‰ì \n          </label>\n          <div className=\"flex items-center gap-2\">\n            {renderRatingStars()}\n            <span className=\"ml-3 text-gray-600 dark:text-gray-400\">{formData.rating}/5</span>\n          </div>\n        </div>\n      </div>\n\n      {/* ìƒì„¸ ì •ë³´ */}\n      <div className=\"space-y-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ì‹œì²­ ëª©ì \n          </label>\n          <textarea\n            value={formData.purpose}\n            onChange={(e) => setFormData({ ...formData, purpose: e.target.value })}\n            className=\"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-vertical\"\n            rows={3}\n            placeholder=\"ì´ ì˜ìƒì„ ì™œ ì‹œì²­í–ˆëŠ”ì§€, ì–´ë–¤ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œì¸ì§€ ì‘ì„±í•˜ì„¸ìš”...\"\n          />\n          <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">ìµœëŒ€ 1000ì</p>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            í•µì‹¬ ë°°ì›€\n          </label>\n          <LexicalEditor\n            value={formData.keyTakeaways}\n            onChange={(value) => setFormData({ ...formData, keyTakeaways: value })}\n            placeholder=\"ì˜ìƒì—ì„œ ì–»ì€ í•µì‹¬ ì§€ì‹ 3-5ê°€ì§€ë¥¼ ì •ë¦¬í•˜ì„¸ìš”...\"\n            className=\"min-h-[300px]\"\n          />\n          <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n            í…ìŠ¤íŠ¸, ì´ë¯¸ì§€, ë¦¬ìŠ¤íŠ¸ë¡œ ì •ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤\n          </p>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ì ìš© ê³„íš (ë§ˆí¬ë‹¤ìš´ ì§€ì›)\n          </label>\n          <textarea\n            value={formData.application}\n            onChange={(e) => setFormData({ ...formData, application: e.target.value })}\n            className=\"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-vertical font-mono text-sm\"\n            rows={5}\n            placeholder=\"ì´ ì§€ì‹ì„ ì–´ë–»ê²Œ í™œìš©í•  ê³„íšì¸ì§€, ë˜ëŠ” ì´ë¯¸ ì ìš©í•œ ê²½í—˜ì„ ì‘ì„±í•˜ì„¸ìš”...\"\n          />\n          <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">ìµœëŒ€ 3000ì</p>\n        </div>\n      </div>\n\n      {/* ğŸŒŸ ìŠ¤í‚¬ ì—°ê²° (ì²´í¬ë°•ìŠ¤ UI) */}\n      <div className=\"md:col-span-2\">\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n          ê´€ë ¨ ê¸°ìˆ  ì—°ë™ ğŸ”—\n        </label>\n        {skillsLoading ? (\n          <div className=\"text-sm text-gray-500 dark:text-gray-400 py-2\">\n            ìŠ¤í‚¬ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...\n          </div>\n        ) : (\n          <>\n            {/* ì„ íƒëœ ìŠ¤í‚¬ ê°œìˆ˜ í‘œì‹œ */}\n            {(formData.skillIds || []).length > 0 && (\n              <div className=\"mb-3 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\n                <span className=\"text-sm text-blue-700 dark:text-blue-300 font-medium\">\n                  âœ“ {(formData.skillIds || []).length}ê°œ ì„ íƒë¨\n                </span>\n              </div>\n            )}\n            \n            {/* ì¹´í…Œê³ ë¦¬ë³„ ìŠ¤í‚¬ ì²´í¬ë°•ìŠ¤ */}\n            <div className=\"border border-gray-300 dark:border-gray-600 rounded-lg p-4 max-h-[400px] overflow-y-auto bg-gray-50 dark:bg-gray-800/50\">\n              {skillCategories.map((category) => {\n                const categorySkills = category.skills || []\n                const categorySkillIds = categorySkills.map((s: Skill) => s._id!).filter(Boolean)\n                const selectedInCategory = categorySkillIds.filter((id: string) => \n                  (formData.skillIds || []).includes(id)\n                )\n                const allSelected = categorySkillIds.length > 0 && selectedInCategory.length === categorySkillIds.length\n                const someSelected = selectedInCategory.length > 0 && !allSelected\n\n                return (\n                  <div key={category._id} className=\"mb-4 last:mb-0\">\n                    {/* ì¹´í…Œê³ ë¦¬ í—¤ë” */}\n                    <div \n                      onClick={() => handleSkillCategoryToggle(category)}\n                      className=\"flex items-center gap-3 p-3 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors mb-2\"\n                    >\n                      <input\n                        type=\"checkbox\"\n                        checked={allSelected}\n                        ref={(input) => {\n                          if (input) input.indeterminate = someSelected\n                        }}\n                        onChange={() => {}}\n                        className=\"w-5 h-5 text-primary-600 rounded focus:ring-2 focus:ring-primary-500\"\n                      />\n                      <label \n                        className=\"font-bold text-base cursor-pointer flex-1\"\n                        style={{ color: category.color || '#3B82F6' }}\n                      >\n                        {category.title} ({selectedInCategory.length}/{categorySkills.length})\n                      </label>\n                    </div>\n\n                    {/* ê°œë³„ ìŠ¤í‚¬ ì²´í¬ë°•ìŠ¤ */}\n                    <div className=\"ml-8 space-y-2\">\n                      {categorySkills.map((skill: Skill) => {\n                        const isSelected = (formData.skillIds || []).includes(skill._id!)\n                        return (\n                          <div\n                            key={skill._id}\n                            onClick={() => handleSkillToggle(skill._id!)}\n                            className={`flex items-center gap-3 p-2 rounded-lg cursor-pointer transition-all ${\n                              isSelected\n                                ? 'bg-blue-100 dark:bg-blue-900/30 font-medium'\n                                : 'hover:bg-gray-100 dark:hover:bg-gray-600'\n                            }`}\n                          >\n                            <input\n                              type=\"checkbox\"\n                              checked={isSelected}\n                              onChange={() => {}}\n                              className=\"w-4 h-4 text-primary-600 rounded focus:ring-2 focus:ring-primary-500\"\n                            />\n                            <label \n                              className=\"cursor-pointer flex-1 text-sm\"\n                              style={{ color: isSelected ? skill.color : undefined }}\n                            >\n                              {skill.name}\n                            </label>\n                          </div>\n                        )\n                      })}\n                    </div>\n                  </div>\n                )\n              })}\n            </div>\n          </>\n        )}\n      </div>\n\n      {/* ìˆœì„œ */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n          ìˆœì„œ (ë‚®ì„ìˆ˜ë¡ ë¨¼ì € í‘œì‹œ)\n        </label>\n        <input\n          type=\"number\"\n          value={formData.order}\n          onChange={(e) => setFormData({ ...formData, order: parseInt(e.target.value) || 0 })}\n          className=\"w-32 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n          min=\"0\"\n        />\n      </div>\n\n      {/* ë²„íŠ¼ */}\n      <div className=\"flex gap-4 pt-4\">\n        <button\n          type=\"submit\"\n          disabled={isSaving || !isFormValid || !isValidUrl}\n          className=\"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium\"\n        >\n          <FaSave /> {isSaving ? 'ì €ì¥ ì¤‘...' : 'ì €ì¥'}\n        </button>\n        <button\n          type=\"button\"\n          onClick={onCancel}\n          className=\"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium\"\n        >\n          ì·¨ì†Œ\n        </button>\n      </div>\n    </form>\n  )\n}\n\nexport default VideoLearningForm\n\n","import React, { useState, useMemo } from 'react'\nimport { FaSave, FaStar, FaTimes } from 'react-icons/fa'\nimport { VideoPlaylist, VideoPlaylistFormData } from '../../types'\nimport { formatCategoryDisplayName } from '../../utils/categoryUtils'\nimport { extractYouTubePlaylistId, getYouTubePlaylistThumbnail } from '../../utils/videoUtils'\nimport { useSkills } from '../../hooks/useSkills'\nimport { useCategories } from '../../hooks/useCategories'\nimport LexicalEditor from '../lexical/LexicalEditor'\nimport { SerializedEditorState } from 'lexical'\n\ninterface FormProps {\n  data?: VideoPlaylist\n  onSave: (data: VideoPlaylistFormData) => void\n  onCancel: () => void\n  isSaving?: boolean\n  availableCategories?: string[]\n}\n\nconst VideoPlaylistForm: React.FC<FormProps> = ({ \n  data, \n  onSave, \n  onCancel, \n  isSaving = false, \n  availableCategories = ['PLC', 'ë°ì´í„°ë¶„ì„', 'ë¡œë´‡ê³µí•™', 'IoT', 'ê¸°íƒ€'] \n}) => {\n  const { skillCategories, loading: skillsLoading } = useSkills()\n  \n  // ğŸŒŸ ì¹´í…Œê³ ë¦¬ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n  const { data: categories = [], isLoading: categoriesLoading } = useCategories()\n\n  const initialWatchDate = data?.watchDate && !isNaN(new Date(data.watchDate).getTime())\n    ? new Date(data.watchDate).toISOString().split('T')[0]\n    : new Date().toISOString().split('T')[0]\n\n  const [playlistUrlInput, setPlaylistUrlInput] = useState<string>(() => {\n    if (data?.playlistId) return `https://www.youtube.com/playlist?list=${data.playlistId}`\n    return ''\n  })\n\n  // ğŸŒŸ categoryIds ì´ˆê¸°ê°’ ì²˜ë¦¬\n  const initialCategoryIds = data?.categoryIds \n    ? (data.categoryIds as any[]).map((catIdOrObj: any) => \n        typeof catIdOrObj === 'string' ? catIdOrObj : catIdOrObj._id\n      ).filter(Boolean) as string[]\n    : []\n\n  // keyTakeawaysë¥¼ SerializedEditorState í˜•ì‹ìœ¼ë¡œ ê´€ë¦¬\n  const parseKeyTakeaways = (value: string | undefined): SerializedEditorState => {\n    if (!value) return { root: { children: [], direction: 'ltr', format: '', indent: 0, type: 'root', version: 1 } }\n    try {\n      const parsed = JSON.parse(value)\n      if (parsed && parsed.root) return parsed\n      return { root: { children: [], direction: 'ltr', format: '', indent: 0, type: 'root', version: 1 } }\n    } catch {\n      return { root: { children: [], direction: 'ltr', format: '', indent: 0, type: 'root', version: 1 } }\n    }\n  }\n\n  const [formData, setFormData] = useState<Omit<VideoPlaylistFormData, 'playlistId' | 'keyTakeaways'> & { keyTakeaways: SerializedEditorState }>(\n    data\n      ? { \n          title: data.title,\n          category: data.category,\n          categoryIds: initialCategoryIds,\n          watchDate: initialWatchDate as string,\n          rating: data.rating || 3,\n          purpose: data.purpose || '',\n          keyTakeaways: parseKeyTakeaways(data.keyTakeaways),\n          application: data.application || '',\n          skillIds: (data.skillIds || []).map((skillIdOrObj: any) => \n            typeof skillIdOrObj === 'string' ? skillIdOrObj : skillIdOrObj._id\n          ).filter(Boolean) as string[],\n          order: data.order || 0,\n        } \n      : {\n          title: '',\n          category: availableCategories[0] || 'PLC',\n          categoryIds: [],\n          watchDate: initialWatchDate as string,\n          rating: 3,\n          purpose: '',\n          keyTakeaways: { blocks: [] },\n          application: '',\n          skillIds: [],\n          order: 0,\n        }\n  )\n\n  const playlistId = useMemo(() => {\n    const id = extractYouTubePlaylistId(playlistUrlInput)\n    console.log('ğŸ¬ PlaylistForm: URL íŒŒì‹± ê²°ê³¼ -', { inputUrl: playlistUrlInput, extractedId: id })\n    return id\n  }, [playlistUrlInput])\n  \n  const thumbnailUrl = useMemo(() => playlistId ? getYouTubePlaylistThumbnail(playlistId) : null, [playlistId])\n  const isValidUrl = useMemo(() => playlistId !== null, [playlistId])\n\n  // ğŸŒŸ ì¹´í…Œê³ ë¦¬ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬ (ì²´í¬ë°•ìŠ¤ìš©)\n  const handleCategoryToggle = (categoryId: string) => {\n    const currentCategoryIds = formData.categoryIds || []\n    const isSelected = currentCategoryIds.includes(categoryId)\n    \n    const newCategoryIds = isSelected\n      ? currentCategoryIds.filter((id: string) => id !== categoryId)\n      : [...currentCategoryIds, categoryId]\n    \n    setFormData({ \n      ...formData, \n      categoryIds: newCategoryIds \n    })\n  }\n\n  const handleSkillToggle = (skillId: string) => {\n    const currentSkillIds = formData.skillIds || []\n    const isSelected = currentSkillIds.includes(skillId)\n    \n    const newSkillIds = isSelected\n      ? currentSkillIds.filter((id: string) => id !== skillId)\n      : [...currentSkillIds, skillId]\n    \n    setFormData({ \n      ...formData, \n      skillIds: newSkillIds \n    })\n  }\n\n  const handleFormSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    \n    if (!formData.title.trim() || !playlistUrlInput.trim()) {\n      alert('í•„ìˆ˜ í•„ë“œ(ì œëª©, ì¬ìƒ ëª©ë¡ URL)ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.')\n      return\n    }\n\n    if (!isValidUrl || !playlistId) {\n      alert('âŒ ì˜¬ë°”ë¥¸ ìœ íŠœë¸Œ ì¬ìƒ ëª©ë¡ URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”.')\n      return\n    }\n    \n    const { title, category, categoryIds, watchDate, rating, purpose, keyTakeaways, application, skillIds, order } = formData\n    \n    const saveData = { \n      title, \n      playlistId: playlistId!,\n      category, \n      categoryIds: categoryIds || [],  // ğŸŒŸ ë‹¤ì¤‘ ì¹´í…Œê³ ë¦¬ ì¶”ê°€\n      watchDate, \n      ...(rating !== undefined && { rating }),\n      ...(purpose && { purpose }),\n      ...(keyTakeaways && { keyTakeaways: JSON.stringify(keyTakeaways) }),\n      ...(application && { application }),\n      skillIds: skillIds || [],\n      order: order || 0,\n    }\n    \n    console.log('ğŸ“ VideoPlaylistForm: ì €ì¥ ë°ì´í„° ì „ì†¡', saveData)\n    onSave(saveData as VideoPlaylistFormData)\n  }\n\n  const isFormValid = formData.title.trim() && playlistUrlInput.trim() && isValidUrl\n\n  const renderRatingStars = () => {\n    return Array.from({ length: 5 }, (_, i) => {\n      const starValue = i + 1\n      return (\n        <button\n          key={i}\n          type=\"button\"\n          onClick={() => setFormData({ ...formData, rating: starValue })}\n          className={`text-3xl transition-colors ${\n            starValue <= (formData.rating || 0)\n              ? 'text-yellow-500 hover:text-yellow-600'\n              : 'text-gray-300 dark:text-gray-600 hover:text-gray-400'\n          }`}\n        >\n          <FaStar />\n        </button>\n      )\n    })\n  }\n\n  return (\n    <form onSubmit={handleFormSubmit} className=\"space-y-6\">\n      <div className=\"grid md:grid-cols-2 gap-6\">\n        <div className=\"md:col-span-2\">\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ì œëª© <span className=\"text-red-500\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            value={formData.title}\n            onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            placeholder=\"ì¬ìƒ ëª©ë¡ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”\"\n            required\n          />\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ì¬ìƒ ëª©ë¡ URL <span className=\"text-red-500\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            value={playlistUrlInput}\n            onChange={(e) => setPlaylistUrlInput(e.target.value)}\n            className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${\n              playlistUrlInput && !isValidUrl\n                ? 'border-red-500'\n                : 'border-gray-300 dark:border-gray-600'\n            }`}\n            placeholder=\"https://www.youtube.com/playlist?list=...\"\n            required\n          />\n          {playlistUrlInput && !isValidUrl && (\n            <p className=\"text-red-500 text-sm mt-1\">ì˜¬ë°”ë¥¸ ìœ íŠœë¸Œ ì¬ìƒ ëª©ë¡ URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”</p>\n          )}\n          {playlistId && (\n            <p className=\"text-green-600 text-sm mt-1\">âœ… ì¬ìƒ ëª©ë¡ ID: <code className=\"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded\">{playlistId}</code></p>\n          )}\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\n            ì¹´í…Œê³ ë¦¬ ì„ íƒ ğŸ“‚ (ë‹¤ì¤‘ ì„ íƒ ê°€ëŠ¥)\n          </label>\n\n          {/* ì„ íƒëœ ì¹´í…Œê³ ë¦¬ íƒœê·¸ í‘œì‹œ */}\n          {formData.categoryIds && formData.categoryIds.length > 0 && (\n            <div className=\"flex flex-wrap gap-2 mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\n              {formData.categoryIds.map((catId) => {\n                const category = categories.find(c => c._id === catId)\n                return category ? (\n                  <span\n                    key={catId}\n                    className=\"inline-flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded-full text-sm\"\n                  >\n                    {category.name}\n                    <button\n                      type=\"button\"\n                      onClick={() => handleCategoryToggle(catId)}\n                      className=\"hover:bg-blue-700 rounded-full p-0.5\"\n                    >\n                      <FaTimes className=\"text-xs\" />\n                    </button>\n                  </span>\n                ) : null\n              })}\n            </div>\n          )}\n\n          {/* ì¹´í…Œê³ ë¦¬ ì²´í¬ë°•ìŠ¤ ëª©ë¡ */}\n          {categoriesLoading ? (\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">ì¹´í…Œê³ ë¦¬ ë¡œë”© ì¤‘...</p>\n          ) : categories.length > 0 ? (\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n              {categories.map((category) => {\n                const isSelected = (formData.categoryIds || []).includes(category._id)\n                return (\n                  <label\n                    key={category._id}\n                    className={`flex items-center gap-2 p-3 border-2 rounded-lg cursor-pointer transition-all ${\n                      isSelected\n                        ? 'border-primary-600 bg-primary-50 dark:bg-primary-900/20'\n                        : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\n                    }`}\n                  >\n                    <input\n                      type=\"checkbox\"\n                      checked={isSelected}\n                      onChange={() => handleCategoryToggle(category._id)}\n                      className=\"w-4 h-4\"\n                    />\n                    <span className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                      {category.name}\n                    </span>\n                  </label>\n                )\n              })}\n            </div>\n          ) : (\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n              ë“±ë¡ëœ ì¹´í…Œê³ ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤. ê´€ë¦¬ì ë©”ë‰´ì˜ \"ì¹´í…Œê³ ë¦¬ ê´€ë¦¬\"ì—ì„œ ì¶”ê°€í•˜ì„¸ìš”.\n            </p>\n          )}\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ì‹œì²­ ë‚ ì§œ\n          </label>\n          <input\n            type=\"date\"\n            value={formData.watchDate}\n            onChange={(e) => setFormData({ ...formData, watchDate: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n          />\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            í‰ì \n          </label>\n          <div className=\"flex items-center gap-2\">\n            {renderRatingStars()}\n            <span className=\"ml-3 text-gray-600 dark:text-gray-400\">{formData.rating}/5</span>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"space-y-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ì‹œì²­ ëª©ì \n          </label>\n          <textarea\n            value={formData.purpose}\n            onChange={(e) => setFormData({ ...formData, purpose: e.target.value })}\n            className=\"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-vertical\"\n            rows={3}\n            placeholder=\"ì´ ì¬ìƒ ëª©ë¡ì„ ì™œ ì‹œì²­í–ˆëŠ”ì§€ ì‘ì„±í•˜ì„¸ìš”...\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            í•µì‹¬ ë°°ì›€\n          </label>\n          <LexicalEditor\n            value={formData.keyTakeaways}\n            onChange={(value) => setFormData({ ...formData, keyTakeaways: value })}\n            placeholder=\"ì´ ì¬ìƒ ëª©ë¡ì—ì„œ ì–»ì€ í•µì‹¬ ì§€ì‹ì„ ì •ë¦¬í•˜ì„¸ìš”...\"\n            className=\"min-h-[300px]\"\n          />\n          <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n            í…ìŠ¤íŠ¸, ì´ë¯¸ì§€, ë¦¬ìŠ¤íŠ¸ë¡œ ì •ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤\n          </p>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            í†µí•© ì ìš© ê³„íš (ë§ˆí¬ë‹¤ìš´ ì§€ì›)\n          </label>\n          <textarea\n            value={formData.application}\n            onChange={(e) => setFormData({ ...formData, application: e.target.value })}\n            className=\"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-vertical font-mono text-sm\"\n            rows={5}\n            placeholder=\"ì´ ì§€ì‹ì„ ì–´ë–»ê²Œ í™œìš©í•  ê³„íšì¸ì§€ ì‘ì„±í•˜ì„¸ìš”...\"\n          />\n        </div>\n      </div>\n\n      {/* ìŠ¤í‚¬ ì—°ê²° (VideoLearningFormê³¼ ë™ì¼í•œ UI) */}\n      <div className=\"md:col-span-2\">\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n          ê´€ë ¨ ê¸°ìˆ  ì—°ë™ ğŸ”—\n        </label>\n        {skillsLoading ? (\n          <div className=\"text-sm text-gray-500 dark:text-gray-400 py-2\">\n            ìŠ¤í‚¬ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...\n          </div>\n        ) : (\n          <>\n            {(formData.skillIds || []).length > 0 && (\n              <div className=\"mb-3 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\n                <span className=\"text-sm text-blue-700 dark:text-blue-300 font-medium\">\n                  âœ“ {(formData.skillIds || []).length}ê°œ ì„ íƒë¨\n                </span>\n              </div>\n            )}\n            \n            <div className=\"border border-gray-300 dark:border-gray-600 rounded-lg p-4 max-h-[300px] overflow-y-auto bg-gray-50 dark:bg-gray-800/50\">\n              {skillCategories.map((category) => (\n                <div key={category._id} className=\"mb-3 last:mb-0\">\n                  <label \n                    className=\"font-bold text-sm block mb-2\"\n                    style={{ color: category.color || '#3B82F6' }}\n                  >\n                    {category.title}\n                  </label>\n                  <div className=\"ml-4 space-y-1\">\n                    {(category.skills || []).map((skill) => {\n                      const isSelected = (formData.skillIds || []).includes(skill._id!)\n                      return (\n                        <div\n                          key={skill._id}\n                          onClick={() => handleSkillToggle(skill._id!)}\n                          className={`flex items-center gap-2 p-2 rounded cursor-pointer transition-all ${\n                            isSelected\n                              ? 'bg-blue-100 dark:bg-blue-900/30 font-medium'\n                              : 'hover:bg-gray-100 dark:hover:bg-gray-600'\n                          }`}\n                        >\n                          <input\n                            type=\"checkbox\"\n                            checked={isSelected}\n                            onChange={() => {}}\n                            className=\"w-4 h-4\"\n                          />\n                          <span className=\"text-sm\">{skill.name}</span>\n                        </div>\n                      )\n                    })}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </>\n        )}\n      </div>\n\n      <div className=\"flex gap-4 pt-4\">\n        <button\n          type=\"submit\"\n          disabled={isSaving || !isFormValid || !isValidUrl}\n          className=\"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium\"\n        >\n          <FaSave /> {isSaving ? 'ì €ì¥ ì¤‘...' : 'ì €ì¥'}\n        </button>\n        <button\n          type=\"button\"\n          onClick={onCancel}\n          className=\"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium\"\n        >\n          ì·¨ì†Œ\n        </button>\n      </div>\n    </form>\n  )\n}\n\nexport default VideoPlaylistForm\n\n","import React, { useState, useMemo } from 'react'\nimport { FaSave } from 'react-icons/fa'\nimport { PlaylistVideo, PlaylistVideoFormData } from '../../types'\nimport { extractYouTubeId, getYouTubeThumbnail } from '../../utils/videoUtils'\n\ninterface FormProps {\n  playlistId: string\n  data?: PlaylistVideo\n  onSave: (data: PlaylistVideoFormData) => void\n  onCancel: () => void\n  isSaving?: boolean\n}\n\nconst PlaylistVideoForm: React.FC<FormProps> = ({ \n  playlistId,\n  data, \n  onSave, \n  onCancel, \n  isSaving = false \n}) => {\n  // ğŸŒŸ ì˜ìƒ URL ì…ë ¥ (videoId ìë™ ì¶”ì¶œ)\n  const [videoUrlInput, setVideoUrlInput] = useState<string>(() => {\n    if (data?.videoId) return `https://www.youtube.com/watch?v=${data.videoId}`\n    return ''\n  })\n\n  const [formData, setFormData] = useState<Omit<PlaylistVideoFormData, 'playlistId' | 'videoId'>>(\n    data\n      ? { \n          title: data.title,\n          keyTakeaways: data.keyTakeaways || '',\n          order: data.order || 0,\n        } \n      : {\n          title: '',\n          keyTakeaways: '',\n          order: 0,\n        }\n  )\n\n  const videoId = useMemo(() => extractYouTubeId(videoUrlInput), [videoUrlInput])\n  const thumbnailUrl = useMemo(() => videoId ? getYouTubeThumbnail(videoId) : null, [videoId])\n  const isValidUrl = useMemo(() => videoId !== null, [videoId])\n\n  const handleFormSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    \n    if (!formData.title.trim() || !videoUrlInput.trim()) {\n      alert('í•„ìˆ˜ í•„ë“œ(ì œëª©, ì˜ìƒ URL)ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.')\n      return\n    }\n\n    if (!isValidUrl || !videoId) {\n      alert('âŒ ì˜¬ë°”ë¥¸ ìœ íŠœë¸Œ ì˜ìƒ URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”.')\n      return\n    }\n    \n    onSave({ \n      playlistId,\n      videoId: videoId!,\n      title: formData.title,\n      keyTakeaways: formData.keyTakeaways || '',\n      order: formData.order || 0,\n    })\n  }\n\n  const isFormValid = formData.title.trim() && videoUrlInput.trim() && isValidUrl\n\n  return (\n    <form onSubmit={handleFormSubmit} className=\"space-y-4\">\n      <div className=\"grid gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ì˜ìƒ URL <span className=\"text-red-500\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            value={videoUrlInput}\n            onChange={(e) => setVideoUrlInput(e.target.value)}\n            className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${\n              videoUrlInput && !isValidUrl\n                ? 'border-red-500'\n                : 'border-gray-300 dark:border-gray-600'\n            }`}\n            placeholder=\"https://www.youtube.com/watch?v=...\"\n            required\n          />\n          {videoUrlInput && !isValidUrl && (\n            <p className=\"text-red-500 text-sm mt-1\">ì˜¬ë°”ë¥¸ ìœ íŠœë¸Œ URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”</p>\n          )}\n          {videoId && (\n            <p className=\"text-green-600 text-sm mt-1\">âœ… ì˜ìƒ ID: <code className=\"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded\">{videoId}</code></p>\n          )}\n          {/* ğŸŒŸ ì¸ë„¤ì¼ ë¯¸ë¦¬ë³´ê¸° */}\n          {thumbnailUrl && isValidUrl && (\n            <div className=\"mt-3\">\n              <img \n                src={thumbnailUrl} \n                alt=\"ì˜ìƒ ì¸ë„¤ì¼\" \n                className=\"w-full max-w-xs rounded-lg shadow-md\"\n              />\n            </div>\n          )}\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ì˜ìƒ ì œëª© <span className=\"text-red-500\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            value={formData.title}\n            onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            placeholder=\"ì˜ìƒ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”\"\n            required\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            í•µì‹¬ ë°°ì›€ (ë§ˆí¬ë‹¤ìš´ ì§€ì›)\n          </label>\n          <textarea\n            value={formData.keyTakeaways}\n            onChange={(e) => setFormData({ ...formData, keyTakeaways: e.target.value })}\n            className=\"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-vertical font-mono text-sm\"\n            rows={6}\n            placeholder=\"ì˜ˆì‹œ:&#10;- [2:30] React Queryì˜ staleTime ì´í•´&#10;- [5:15] ìºì‹œ ë¬´íš¨í™” ì „ëµ&#10;- [8:45] Optimistic Updates\"\n          />\n          <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n            íƒ€ì„ìŠ¤íƒ¬í”„ í˜•ì‹: [MM:SS] ë˜ëŠ” [H:MM:SS]\n          </p>\n        </div>\n      </div>\n\n      <div className=\"flex gap-4 pt-4\">\n        <button\n          type=\"submit\"\n          disabled={isSaving || !isFormValid}\n          className=\"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium\"\n        >\n          <FaSave /> {isSaving ? 'ì €ì¥ ì¤‘...' : 'ì €ì¥'}\n        </button>\n        <button\n          type=\"button\"\n          onClick={onCancel}\n          className=\"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium\"\n        >\n          ì·¨ì†Œ\n        </button>\n      </div>\n    </form>\n  )\n}\n\nexport default PlaylistVideoForm\n\n","import React, { useState } from 'react'\nimport { \n  FaSave, \n  FaPlus, \n  FaTrash, \n  FaBriefcase, \n  FaCoffee, \n  FaGraduationCap, \n  FaChartLine, \n  FaCode, \n  FaCog, \n  FaRobot,\n  FaCar,           // ğŸš— ìë™ì°¨\n  FaShieldAlt,     // ğŸ›¡ï¸ êµ°ì¸\n  FaLaptopCode,    // ğŸ’» í”„ë¡œê·¸ë˜ë°\n  FaBars           // ğŸŒŸ ë“œë˜ê·¸ í•¸ë“¤ ì•„ì´ì½˜\n} from 'react-icons/fa'\nimport { Experience, ExperienceFormData, ExperienceDetail, Skill, SkillCategory } from '../../types'\nimport RichTextEditor from '../RichTextEditor'\nimport { DndContext, closestCenter, DragEndEvent } from '@dnd-kit/core'\nimport { SortableContext, verticalListSortingStrategy, useSortable } from '@dnd-kit/sortable'\nimport { CSS } from '@dnd-kit/utilities'\nimport { useSkills } from '../../hooks/useSkills'\nimport LanguageTabs, { AdminLanguage } from '../common/LanguageTabs'\n\n// ğŸŒŸ ì•„ì´ì½˜ ì˜µì…˜ ì •ì˜\nconst iconOptions = [\n  { key: 'FaBriefcase', icon: FaBriefcase, label: 'ğŸ’¼ ì¼ë°˜ ì—…ë¬´' },\n  { key: 'FaCoffee', icon: FaCoffee, label: 'â˜• ì„œë¹„ìŠ¤/ì¹´í˜' },\n  { key: 'FaGraduationCap', icon: FaGraduationCap, label: 'ğŸ“ êµìœ¡/í•™ìŠµ' },\n  { key: 'FaChartLine', icon: FaChartLine, label: 'ğŸ“ˆ ì„±ì¥/ë¶„ì„' },\n  { key: 'FaLaptopCode', icon: FaLaptopCode, label: 'ğŸ’» í”„ë¡œê·¸ë˜ë°' },\n  { key: 'FaCode', icon: FaCode, label: 'âŒ¨ï¸ ê°œë°œ/ì½”ë”©' },\n  { key: 'FaCog', icon: FaCog, label: 'âš™ï¸ ê¸°ìˆ /ì—”ì§€ë‹ˆì–´ë§' },\n  { key: 'FaRobot', icon: FaRobot, label: 'ğŸ¤– ìë™í™”/AI' },\n  { key: 'FaCar', icon: FaCar, label: 'ğŸš— ìë™ì°¨/ìš´ì „' },\n  { key: 'FaShieldAlt', icon: FaShieldAlt, label: 'ğŸ›¡ï¸ êµ°ëŒ€/ë³´ì•ˆ' },\n]\n\n// ğŸŒŸ Sortable ì¹´í…Œê³ ë¦¬ ì•„ì´í…œ ì»´í¬ë„ŒíŠ¸\ninterface SortableCategoryItemProps {\n  detail: ExperienceDetail\n  index: number\n  editingCategoryIndex: number | null\n  onEdit: (index: number) => void\n  onRemove: (index: number) => void\n}\n\nconst SortableCategoryItem: React.FC<SortableCategoryItemProps> = ({ \n  detail, \n  index, \n  editingCategoryIndex,\n  onEdit,\n  onRemove\n}) => {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({ id: index })\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n    opacity: isDragging ? 0.5 : 1,\n    zIndex: isDragging ? 1000 : 'auto',\n  }\n\n  return (\n    <div \n      ref={setNodeRef} \n      style={style}\n      className=\"bg-white dark:bg-gray-800 p-4 rounded-lg border-2 border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-600 transition-colors\"\n    >\n      <div className=\"flex items-center justify-between mb-2\">\n        <div className=\"flex items-center gap-2\">\n          {/* ğŸŒŸ ë“œë˜ê·¸ í•¸ë“¤ */}\n          <div\n            {...attributes}\n            {...listeners}\n            className=\"cursor-grab active:cursor-grabbing text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1\"\n            title=\"ë“œë˜ê·¸í•˜ì—¬ ìˆœì„œ ë³€ê²½\"\n          >\n            <FaBars />\n          </div>\n          <div className=\"w-2 h-2 rounded-full bg-blue-600\"></div>\n          <h5 className=\"font-bold text-gray-900 dark:text-white\">{detail.category}</h5>\n          <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n            ({detail.items.length}ê°œ í•­ëª©)\n          </span>\n        </div>\n        <div className=\"flex gap-2\">\n          <button\n            type=\"button\"\n            onClick={() => onEdit(index)}\n            disabled={editingCategoryIndex !== null}\n            className={`px-3 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors ${\n              editingCategoryIndex !== null ? 'opacity-50 cursor-not-allowed' : ''\n            }`}\n          >\n            ìˆ˜ì •\n          </button>\n          <button\n            type=\"button\"\n            onClick={() => onRemove(index)}\n            disabled={editingCategoryIndex !== null}\n            className={`p-1.5 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors ${\n              editingCategoryIndex !== null ? 'opacity-50 cursor-not-allowed' : ''\n            }`}\n            title=\"ì¹´í…Œê³ ë¦¬ ì‚­ì œ\"\n          >\n            <FaTrash className=\"text-xs\" />\n          </button>\n        </div>\n      </div>\n      <ul className=\"text-sm text-gray-700 dark:text-gray-300 pl-4\">\n        {detail.items.slice(0, 3).map((item, i) => (\n          <li key={i} className=\"list-disc\">{item}</li>\n        ))}\n        {detail.items.length > 3 && (\n          <li className=\"text-gray-500 dark:text-gray-400 italic\">\n            ì™¸ {detail.items.length - 3}ê°œ í•­ëª©...\n          </li>\n        )}\n      </ul>\n    </div>\n  )\n}\n\n// í¼ ì»´í¬ë„ŒíŠ¸ì˜ Props íƒ€ì… ì •ì˜\ninterface FormProps {\n  data: Experience | null\n  onSave: (data: ExperienceFormData) => Promise<void>\n  onCancel: () => void\n  isSaving?: boolean\n}\n\nconst ExperienceForm: React.FC<FormProps> = ({ data, onSave, onCancel, isSaving = false }) => {\n  const [currentLang, setCurrentLang] = useState<AdminLanguage>('ko')\n  \n  // ğŸŒŸ ìŠ¤í‚¬ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°\n  const { skillCategories, loading: skillsLoading } = useSkills()\n  \n  // ğŸŒŸ skillIds ì´ˆê¸°ê°’ ì²˜ë¦¬ (ê°ì²´ ë˜ëŠ” ë¬¸ìì—´ ëª¨ë‘ ì²˜ë¦¬)\n  const initialSkillIds = data?.skillIds \n    ? (data.skillIds as any[]).map((skillIdOrObj: any) => \n        typeof skillIdOrObj === 'string' ? skillIdOrObj : skillIdOrObj?._id\n      ).filter(Boolean) as string[]\n    : []\n  \n  // ì´ˆê¸° formData ì„¤ì • (iconKey í¬í•¨, detailsì— order í˜¸í™˜ì„± ì²˜ë¦¬)\n  const initialFormData: ExperienceFormData = data ? {\n    ...data,\n    iconKey: data.iconKey || 'FaBriefcase',\n    // ğŸŒŸ ê¸°ì¡´ ë°ì´í„° í˜¸í™˜ì„±: detailsì— orderê°€ ì—†ìœ¼ë©´ ì¸ë±ìŠ¤ë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •\n    details: (data.details || []).map((detail, index) => ({\n      ...detail,\n      order: detail.order ?? index\n    })),\n    skills: data.skills || [],\n    skillsEn: data.skillsEn || [],\n    skillsJa: data.skillsJa || [],\n    skillIds: initialSkillIds  // ğŸŒŸ ìŠ¤í‚¬ ID ë¬¸ìì—´ ë°°ì—´ë¡œ ì´ˆê¸°í™”\n  } : {\n    period: '',\n    title: '',\n    company: '',\n    description: '',\n    details: [],\n    skills: [],\n    skillsEn: [],\n    skillsJa: [],\n    skillIds: [],  // ğŸŒŸ ìŠ¤í‚¬ ID ì´ˆê¸°ê°’\n    order: 0,\n    iconKey: 'FaBriefcase'\n  }\n  \n  const [formData, setFormData] = useState<ExperienceFormData>(initialFormData)\n  \n  // ê¸°ìˆ  ì…ë ¥ì„ ìœ„í•œ ë³„ë„ ìƒíƒœ (ì…ë ¥ ì¤‘ì—ëŠ” ë¬¸ìì—´ë¡œ ìœ ì§€)\n  const [skillsInput, setSkillsInput] = useState<string>(\n    Array.isArray(formData.skills) ? formData.skills.join(', ') : ''\n  )\n  \n  // ğŸŒŸ ì¹´í…Œê³ ë¦¬ë³„ ìƒì„¸ ë‚´ìš© ê´€ë¦¬ ìƒíƒœ\n  const [editingCategoryIndex, setEditingCategoryIndex] = useState<number | null>(null)\n  const [categoryFormData, setCategoryFormData] = useState<{ \n    category: string\n    categoryEn: string\n    categoryJa: string\n    content: string\n    contentEn: string\n    contentJa: string\n  }>({\n    category: '',\n    categoryEn: '',\n    categoryJa: '',\n    content: '',\n    contentEn: '',\n    contentJa: ''\n  })\n  \n  // ğŸŒŸ ìŠ¤í‚¬ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬ (ì²´í¬ë°•ìŠ¤ìš©)\n  const handleSkillToggle = (skillId: string) => {\n    const currentSkillIds = formData.skillIds || []\n    const isSelected = currentSkillIds.includes(skillId)\n    \n    const newSkillIds = isSelected\n      ? currentSkillIds.filter((id: string) => id !== skillId)\n      : [...currentSkillIds, skillId]\n    \n    setFormData({ \n      ...formData, \n      skillIds: newSkillIds \n    })\n  }\n  \n  // ğŸŒŸ ìŠ¤í‚¬ ì¹´í…Œê³ ë¦¬ ì „ì²´ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬\n  const handleSkillCategoryToggle = (category: SkillCategory) => {\n    const categorySkillIds = (category.skills || []).map(skill => skill._id!).filter(Boolean)\n    const currentSkillIds = formData.skillIds || []\n    \n    const allSelected = categorySkillIds.every((id: string) => currentSkillIds.includes(id))\n    \n    let newSkillIds: string[]\n    if (allSelected) {\n      newSkillIds = currentSkillIds.filter((id: string) => !categorySkillIds.includes(id))\n    } else {\n      const uniqueIds = new Set([...currentSkillIds, ...categorySkillIds])\n      newSkillIds = Array.from(uniqueIds)\n    }\n    \n    setFormData({ \n      ...formData, \n      skillIds: newSkillIds \n    })\n  }\n  \n  // ğŸŒŸ ì¹´í…Œê³ ë¦¬ë³„ ìƒì„¸ ë‚´ìš© ê´€ë¦¬ í•¨ìˆ˜ë“¤\n  const addDetailCategory = () => {\n    setEditingCategoryIndex((formData.details || []).length)\n    setCategoryFormData({ \n      category: '', \n      categoryEn: '', \n      categoryJa: '', \n      content: '', \n      contentEn: '', \n      contentJa: '' \n    })\n  }\n  \n  const editDetailCategory = (index: number) => {\n    const detail = (formData.details || [])[index]\n    if (detail) {\n      setEditingCategoryIndex(index)\n      setCategoryFormData({\n        category: detail.category,\n        categoryEn: detail.categoryEn || '',\n        categoryJa: detail.categoryJa || '',\n        content: detail.items.join('\\n'),\n        contentEn: detail.itemsEn?.join('\\n') || '',\n        contentJa: detail.itemsJa?.join('\\n') || ''\n      })\n    }\n  }\n  \n  const saveDetailCategory = () => {\n    if (!categoryFormData.category.trim() || !categoryFormData.content.trim()) {\n      alert('ì¹´í…Œê³ ë¦¬ ì´ë¦„ê³¼ ë‚´ìš©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.')\n      return\n    }\n    \n    const items = categoryFormData.content.split('\\n').map(s => s.trim()).filter(s => s.length > 0)\n    const itemsEn = categoryFormData.contentEn.split('\\n').map(s => s.trim()).filter(s => s.length > 0)\n    const itemsJa = categoryFormData.contentJa.split('\\n').map(s => s.trim()).filter(s => s.length > 0)\n    \n    const newDetail: ExperienceDetail = {\n      category: categoryFormData.category.trim(),\n      categoryEn: categoryFormData.categoryEn.trim() || undefined,\n      categoryJa: categoryFormData.categoryJa.trim() || undefined,\n      items,\n      itemsEn: itemsEn.length > 0 ? itemsEn : undefined,\n      itemsJa: itemsJa.length > 0 ? itemsJa : undefined\n    }\n    \n    const newDetails = [...(formData.details || [])]\n    if (editingCategoryIndex !== null) {\n      newDetails[editingCategoryIndex] = newDetail\n    }\n    \n    setFormData({ ...formData, details: newDetails })\n    setEditingCategoryIndex(null)\n    setCategoryFormData({ \n      category: '', \n      categoryEn: '', \n      categoryJa: '', \n      content: '', \n      contentEn: '', \n      contentJa: '' \n    })\n  }\n  \n  const cancelDetailCategory = () => {\n    setEditingCategoryIndex(null)\n    setCategoryFormData({ \n      category: '', \n      categoryEn: '', \n      categoryJa: '', \n      content: '', \n      contentEn: '', \n      contentJa: '' \n    })\n  }\n  \n  const removeDetailCategory = (index: number) => {\n    if (!confirm('ì´ ì¹´í…Œê³ ë¦¬ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return\n    const newDetails = [...(formData.details || [])]\n    newDetails.splice(index, 1)\n    setFormData({ ...formData, details: newDetails })\n  }\n  \n  // ğŸŒŸ ë“œë˜ê·¸ ì•¤ ë“œë¡­ í•¸ë“¤ëŸ¬\n  const handleDragEnd = (event: DragEndEvent) => {\n    const { active, over } = event\n    \n    if (!over || active.id === over.id) return\n    \n    const oldIndex = (formData.details || []).findIndex((_, i) => i === active.id)\n    const newIndex = (formData.details || []).findIndex((_, i) => i === over.id)\n    \n    if (oldIndex === -1 || newIndex === -1) return\n    \n    // ë°°ì—´ ìˆœì„œ ë³€ê²½\n    const newDetails = [...(formData.details || [])]\n    const [movedItem] = newDetails.splice(oldIndex, 1)\n    \n    if (!movedItem) return  // ì•ˆì „ì„± ì²´í¬\n    \n    newDetails.splice(newIndex, 0, movedItem)\n    \n    // ğŸŒŸ ìˆœì„œ ë³€ê²½ í›„ ê° í•­ëª©ì— ìƒˆë¡œìš´ order ê°’ í• ë‹¹\n    const reorderedDetails = newDetails.map((detail, index) => ({\n      ...detail,\n      order: index\n    }))\n    \n    setFormData({ ...formData, details: reorderedDetails })\n  }\n\n  // í•„ìˆ˜ í•„ë“œ ê²€ì¦\n  const isFormValid = formData.title.trim() !== '' && \n                     formData.company.trim() !== '' && \n                     formData.period.trim() !== ''\n\n  const handleFormSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    \n    if (!isFormValid) {\n      alert('í•„ìˆ˜ í•„ë“œ(ê¸°ê°„, ì§ì±…, íšŒì‚¬/ê¸°ê´€)ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.')\n      return\n    }\n    \n    // ì œì¶œ ì‹œ ìµœì‹  ê¸°ìˆ  ë°°ì—´ì„ í¬í•¨í•˜ì—¬ ì €ì¥ (í˜¸í™˜ì„± ìœ ì§€)\n    const skillsArray = skillsInput.split(',').map((s) => s.trim()).filter(s => s.length > 0)\n    \n    // ğŸŒŸ skillIdsë¥¼ ë¬¸ìì—´ ë°°ì—´ë¡œ í™•ì‹¤í•˜ê²Œ ë³€í™˜ + ì¤‘ë³µ ì œê±°\n    const skillIds = Array.from(new Set(\n      (formData.skillIds || []).map((skillIdOrObj: any) => \n        typeof skillIdOrObj === 'string' ? skillIdOrObj : skillIdOrObj?._id\n      ).filter(Boolean)\n    ))\n    \n    // ğŸŒŸ details ë°°ì—´ì˜ ê° í•­ëª©ì— order ê°’ í• ë‹¹ (í˜„ì¬ ë°°ì—´ ìˆœì„œ ê¸°ì¤€)\n    const orderedDetails = (formData.details || []).map((detail, index) => ({\n      ...detail,\n      order: detail.order ?? index  // ê¸°ì¡´ orderê°€ ìˆìœ¼ë©´ ìœ ì§€, ì—†ìœ¼ë©´ ì¸ë±ìŠ¤ ì‚¬ìš©\n    }))\n    \n    const finalFormData = { \n      ...formData, \n      skills: skillsArray,  // ğŸ”„ í˜¸í™˜ì„± ìœ ì§€\n      skillIds,  // ğŸŒŸ ìŠ¤í‚¬ ID ë°°ì—´\n      details: orderedDetails\n    }\n    \n    console.log('ğŸ“¤ ê²½ë ¥ ì €ì¥ ë°ì´í„°:', finalFormData)\n    onSave(finalFormData)\n  }\n\n  return (\n    <form onSubmit={handleFormSubmit} className=\"space-y-4\">\n      <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-4\">\n        {data ? 'ê²½ë ¥ ìˆ˜ì •' : 'ê²½ë ¥ ì¶”ê°€'}\n      </h3>\n      <div className=\"grid md:grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ê¸°ê°„\n          </label>\n          <input\n            type=\"text\"\n            value={formData.period}\n            onChange={(e) => setFormData({ ...formData, period: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            placeholder=\"2018 - 2023\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ì§ì±…\n          </label>\n          <input\n            type=\"text\"\n            value={formData.title}\n            onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            íšŒì‚¬/ê¸°ê´€\n          </label>\n          <input\n            type=\"text\"\n            value={formData.company}\n            onChange={(e) => setFormData({ ...formData, company: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ìˆœì„œ\n          </label>\n          <input\n            type=\"number\"\n            value={formData.order}\n            onChange={(e) => {\n              const value = parseInt(e.target.value)\n              setFormData({ ...formData, order: isNaN(value) ? 0 : value })\n            }}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            min=\"0\"\n            placeholder=\"í‘œì‹œ ìˆœì„œ (ìˆ«ìê°€ ì‘ì„ìˆ˜ë¡ ë¨¼ì € í‘œì‹œ)\"\n          />\n        </div>\n        {/* ğŸŒŸ ì•„ì´ì½˜ ì„ íƒ í•„ë“œ (ì‹ ê·œ) */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ì•„ì´ì½˜\n          </label>\n          <select\n            value={formData.iconKey || 'FaBriefcase'}\n            onChange={(e) => setFormData({ ...formData, iconKey: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n          >\n            {iconOptions.map((option) => (\n              <option key={option.key} value={option.key}>\n                {option.label}\n              </option>\n            ))}\n          </select>\n          {/* ë¯¸ë¦¬ë³´ê¸° */}\n          <div className=\"mt-2 flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400\">\n            <span>ë¯¸ë¦¬ë³´ê¸°:</span>\n            {React.createElement(\n              iconOptions.find(opt => opt.key === (formData.iconKey || 'FaBriefcase'))?.icon || FaBriefcase,\n              { className: 'text-xl' }\n            )}\n          </div>\n        </div>\n      </div>\n      {/* ğŸŒŸ ì¹´í…Œê³ ë¦¬ë³„ ìƒì„¸ ë‚´ìš© ì…ë ¥ (ì‹ ê·œ) */}\n      <div className=\"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border-2 border-blue-200 dark:border-blue-800\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div>\n            <h4 className=\"text-md font-bold text-gray-900 dark:text-white\">\n              ğŸ“‹ ì¹´í…Œê³ ë¦¬ë³„ ìƒì„¸ ë‚´ìš©\n            </h4>\n            <p className=\"text-xs text-gray-600 dark:text-gray-400 mt-1\">\n              ê·¼ë¬´ê²½í—˜, êµìœ¡, ê·¼ë¬´ë§¤ì¥ ë“± ì¹´í…Œê³ ë¦¬ë³„ë¡œ êµ¬ì²´ì ì¸ ë‚´ìš©ì„ ì •ë¦¬í•˜ì„¸ìš”\n            </p>\n          </div>\n          <button\n            type=\"button\"\n            onClick={addDetailCategory}\n            disabled={editingCategoryIndex !== null}\n            className={`px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2 text-sm ${\n              editingCategoryIndex !== null ? 'opacity-50 cursor-not-allowed' : ''\n            }`}\n          >\n            <FaPlus className=\"text-xs\" />\n            ì¹´í…Œê³ ë¦¬ ì¶”ê°€\n          </button>\n        </div>\n        \n        {/* ì €ì¥ëœ ì¹´í…Œê³ ë¦¬ ëª©ë¡ - ğŸŒŸ ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì ìš© */}\n        {formData.details && formData.details.length > 0 && (\n          <DndContext collisionDetection={closestCenter} onDragEnd={handleDragEnd}>\n            <SortableContext items={formData.details.map((_, i) => i)} strategy={verticalListSortingStrategy}>\n              <div className=\"space-y-3 mb-4\">\n                {formData.details.map((detail, index) => (\n                  <SortableCategoryItem\n                    key={index}\n                    detail={detail}\n                    index={index}\n                    editingCategoryIndex={editingCategoryIndex}\n                    onEdit={editDetailCategory}\n                    onRemove={removeDetailCategory}\n                  />\n                ))}\n              </div>\n            </SortableContext>\n          </DndContext>\n        )}\n        \n        {/* ì¹´í…Œê³ ë¦¬ ì¶”ê°€/ìˆ˜ì • í¼ */}\n        {editingCategoryIndex !== null && (\n          <div className=\"bg-white dark:bg-gray-800 p-5 rounded-lg border-2 border-blue-400 dark:border-blue-600 shadow-lg\">\n            <h5 className=\"font-bold text-gray-900 dark:text-white mb-4\">\n              {editingCategoryIndex < (formData.details || []).length ? 'ì¹´í…Œê³ ë¦¬ ìˆ˜ì •' : 'ì¹´í…Œê³ ë¦¬ ì¶”ê°€'}\n            </h5>\n            \n            {/* Language Tabs for Detail Category */}\n            <div className=\"mb-4\">\n              <LanguageTabs activeLanguage={currentLang} onChange={setCurrentLang} />\n            </div>\n            \n            <div className=\"space-y-4\">\n              {/* Category Name (Multilingual) */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  ì¹´í…Œê³ ë¦¬ ì´ë¦„ {currentLang === 'ko' && <span className=\"text-red-500\">*</span>}\n                  <span className=\"text-xs text-gray-500 ml-2\">\n                    ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\n                  </span>\n                </label>\n                {currentLang === 'ko' && (\n                  <input\n                    type=\"text\"\n                    value={categoryFormData.category}\n                    onChange={(e) => setCategoryFormData({ ...categoryFormData, category: e.target.value })}\n                    placeholder=\"ì˜ˆ: ê·¼ë¬´ê²½í—˜, êµìœ¡, ê·¼ë¬´ë§¤ì¥\"\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-semibold\"\n                  />\n                )}\n                {currentLang === 'en' && (\n                  <input\n                    type=\"text\"\n                    value={categoryFormData.categoryEn}\n                    onChange={(e) => setCategoryFormData({ ...categoryFormData, categoryEn: e.target.value })}\n                    placeholder=\"e.g., Work Experience, Education, Store\"\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-semibold\"\n                  />\n                )}\n                {currentLang === 'ja' && (\n                  <input\n                    type=\"text\"\n                    value={categoryFormData.categoryJa}\n                    onChange={(e) => setCategoryFormData({ ...categoryFormData, categoryJa: e.target.value })}\n                    placeholder=\"ä¾‹: è·å‹™çµŒé¨“ã€æ•™è‚²ã€åº—èˆ—\"\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-semibold\"\n                  />\n                )}\n              </div>\n              \n              {/* Category Content (Multilingual) */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  ì¹´í…Œê³ ë¦¬ ë‚´ìš© {currentLang === 'ko' && <span className=\"text-red-500\">*</span>}\n                  <span className=\"text-xs text-gray-500 ml-2\">\n                    ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\n                  </span>\n                </label>\n                {currentLang === 'ko' && (\n                  <>\n                    <RichTextEditor\n                      value={categoryFormData.content}\n                      onChange={(value) => setCategoryFormData({ ...categoryFormData, content: value })}\n                      placeholder=\"í•­ëª©ë“¤ì„ í•œ ì¤„ì”© ì…ë ¥í•˜ì„¸ìš”&#10;ì˜ˆ:&#10;ë§¤ì¥ì¸ì› ê´€ë¦¬&#10;ì‹ ê·œíŒŒíŠ¸ë„ˆ êµìœ¡&#10;ë¼ë–¼ì•„íŠ¸ êµìœ¡\"\n                      rows={8}\n                      className=\"min-h-[200px]\"\n                    />\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">\n                      ğŸ’¡ í•œ ì¤„ì— í•˜ë‚˜ì”© í•­ëª©ì„ ì…ë ¥í•˜ì„¸ìš” (Enterë¡œ êµ¬ë¶„)\n                    </p>\n                  </>\n                )}\n                {currentLang === 'en' && (\n                  <>\n                    <RichTextEditor\n                      value={categoryFormData.contentEn}\n                      onChange={(value) => setCategoryFormData({ ...categoryFormData, contentEn: value })}\n                      placeholder=\"Enter items one per line&#10;e.g.&#10;Store Staff Management&#10;New Partner Training&#10;Latte Art Education\"\n                      rows={8}\n                      className=\"min-h-[200px]\"\n                    />\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">\n                      ğŸ’¡ Enter one item per line (separated by Enter)\n                    </p>\n                  </>\n                )}\n                {currentLang === 'ja' && (\n                  <>\n                    <RichTextEditor\n                      value={categoryFormData.contentJa}\n                      onChange={(value) => setCategoryFormData({ ...categoryFormData, contentJa: value })}\n                      placeholder=\"1è¡Œã«1é …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„&#10;ä¾‹:&#10;åº—èˆ—ã‚¹ã‚¿ãƒƒãƒ•ç®¡ç†&#10;æ–°è¦ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼æ•™è‚²&#10;ãƒ©ãƒ†ã‚¢ãƒ¼ãƒˆæ•™è‚²\"\n                      rows={8}\n                      className=\"min-h-[200px]\"\n                    />\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">\n                      ğŸ’¡ 1è¡Œã«1é …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ (Enterã§åŒºåˆ‡ã‚‹)\n                    </p>\n                  </>\n                )}\n              </div>\n              \n              <div className=\"flex gap-3\">\n                <button\n                  type=\"button\"\n                  onClick={saveDetailCategory}\n                  className=\"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2\"\n                >\n                  <FaSave />\n                  ì €ì¥\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={cancelDetailCategory}\n                  className=\"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors\"\n                >\n                  ì·¨ì†Œ\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n        \n        {/* ë¹ˆ ìƒíƒœ */}\n        {(!formData.details || formData.details.length === 0) && editingCategoryIndex === null && (\n          <div className=\"text-center py-6 bg-white dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600\">\n            <p className=\"text-gray-500 dark:text-gray-400 text-sm mb-2\">\n              ì•„ì§ ì¹´í…Œê³ ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤\n            </p>\n            <p className=\"text-xs text-gray-400 dark:text-gray-500\">\n              ìƒë‹¨ì˜ \"ì¹´í…Œê³ ë¦¬ ì¶”ê°€\" ë²„íŠ¼ì„ ëˆŒëŸ¬ ì‹œì‘í•˜ì„¸ìš”\n            </p>\n          </div>\n        )}\n      </div>\n      \n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n          ì„¤ëª… (ë¦¬ì¹˜í…ìŠ¤íŠ¸ ì—ë””í„°) - ì„ íƒì‚¬í•­\n        </label>\n        <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-2\">\n          ğŸ’¡ ìœ„ì˜ \"ì¹´í…Œê³ ë¦¬ë³„ ìƒì„¸ ë‚´ìš©\"ì„ ì‚¬ìš©í•˜ë©´ ë” ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬ë©ë‹ˆë‹¤. ì´ í•„ë“œëŠ” í•˜ìœ„ í˜¸í™˜ì„±ì„ ìœ„í•´ ìœ ì§€ë©ë‹ˆë‹¤.\n        </p>\n        <RichTextEditor\n          value={formData.description || ''}\n          onChange={(value) => setFormData({ ...formData, description: value })}\n          placeholder=\"(ì„ íƒì‚¬í•­) ì „ì²´ì ì¸ ì„¤ëª…ì„ ì‘ì„±í•˜ê±°ë‚˜, ìœ„ì˜ ì¹´í…Œê³ ë¦¬ë³„ ì…ë ¥ì„ ì‚¬ìš©í•˜ì„¸ìš”.\"\n          rows={4}\n          className=\"min-h-[150px]\"\n        />\n      </div>\n      {/* ğŸŒŸ ìŠ¤í‚¬ ì—°ê²° (ì²´í¬ë°•ìŠ¤) */}\n      <div className=\"md:col-span-2\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n            ì´ ê²½ë ¥ì—ì„œ ì‚¬ìš©í•œ ìŠ¤í‚¬ ğŸ”—\n          </label>\n          {formData.skillIds && formData.skillIds.length > 0 && (\n            <span className=\"text-xs font-semibold text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded\">\n              âœ“ {formData.skillIds.length}ê°œ ì„ íƒë¨\n            </span>\n          )}\n        </div>\n        \n        {skillsLoading ? (\n          <div className=\"text-sm text-gray-500 dark:text-gray-400 py-2\">\n            ìŠ¤í‚¬ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...\n          </div>\n        ) : skillCategories.length === 0 ? (\n          <div className=\"text-sm text-gray-500 dark:text-gray-400 py-4 text-center border border-gray-300 dark:border-gray-600 rounded-lg\">\n            ë“±ë¡ëœ ìŠ¤í‚¬ì´ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € ìŠ¤í‚¬ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.\n          </div>\n        ) : (\n          <div className=\"border border-gray-300 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-800 max-h-[400px] overflow-y-auto\">\n            {skillCategories.map((category: SkillCategory) => {\n              const categorySkillIds = (category.skills || []).map(skill => skill._id!).filter(Boolean)\n              const currentSkillIds = formData.skillIds || []\n              const selectedCount = categorySkillIds.filter(id => currentSkillIds.includes(id)).length\n              const allSelected = categorySkillIds.length > 0 && selectedCount === categorySkillIds.length\n              const someSelected = selectedCount > 0 && selectedCount < categorySkillIds.length\n              \n              return (\n                <div key={category._id} className=\"mb-4 last:mb-0\">\n                  {/* ì¹´í…Œê³ ë¦¬ í—¤ë” (ì „ì²´ ì„ íƒ/í•´ì œ) */}\n                  <div \n                    className=\"flex items-center gap-2 mb-2 pb-2 border-b border-gray-300 dark:border-gray-600 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded\"\n                    onClick={() => handleSkillCategoryToggle(category)}\n                  >\n                    <input\n                      type=\"checkbox\"\n                      checked={allSelected}\n                      ref={el => {\n                        if (el) {\n                          el.indeterminate = someSelected\n                        }\n                      }}\n                      onChange={() => handleSkillCategoryToggle(category)}\n                      className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n                      onClick={(e) => e.stopPropagation()}\n                    />\n                    <label \n                      className=\"font-semibold text-gray-900 dark:text-white flex-1 cursor-pointer\"\n                      style={{ color: category.color || '#3B82F6' }}\n                    >\n                      {category.title}\n                      {selectedCount > 0 && (\n                        <span className=\"ml-2 text-xs font-normal text-gray-500 dark:text-gray-400\">\n                          ({selectedCount}/{categorySkillIds.length})\n                        </span>\n                      )}\n                    </label>\n                  </div>\n                  \n                  {/* ìŠ¤í‚¬ ëª©ë¡ */}\n                  <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 pl-6\">\n                    {(category.skills || []).map((skill: Skill) => {\n                      const isSelected = (formData.skillIds || []).includes(skill._id!)\n                      \n                      return (\n                        <label\n                          key={skill._id}\n                          className={`flex items-center gap-2 p-2 rounded cursor-pointer transition-colors ${\n                            isSelected \n                              ? 'bg-blue-50 dark:bg-blue-900/20 border border-blue-300 dark:border-blue-700' \n                              : 'hover:bg-gray-100 dark:hover:bg-gray-700 border border-transparent'\n                          }`}\n                        >\n                          <input\n                            type=\"checkbox\"\n                            checked={isSelected}\n                            onChange={() => handleSkillToggle(skill._id!)}\n                            className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n                          />\n                          <span className={`text-sm ${isSelected ? 'font-semibold text-blue-700 dark:text-blue-300' : 'text-gray-700 dark:text-gray-300'}`}>\n                            {skill.name}\n                          </span>\n                        </label>\n                      )\n                    })}\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        )}\n        \n        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">\n          ğŸ’¡ ì²´í¬ë°•ìŠ¤ë¥¼ í´ë¦­í•˜ì—¬ ê²½ë ¥ì—ì„œ ì‚¬ìš©í•œ ìŠ¤í‚¬ì„ ì„ íƒí•˜ì„¸ìš”. ì¹´í…Œê³ ë¦¬ ì œëª©ì„ í´ë¦­í•˜ë©´ ì „ì²´ ì„ íƒ/í•´ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n        </p>\n      </div>\n      \n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n          ê¸°ìˆ  (ì‰¼í‘œë¡œ êµ¬ë¶„) - ì„ íƒì‚¬í•­\n        </label>\n        <input\n          type=\"text\"\n          value={skillsInput}\n          onChange={(e) => setSkillsInput(e.target.value)}\n          onBlur={() => {\n            // í¬ì»¤ìŠ¤ë¥¼ ìƒì„ ë•Œ ë°°ì—´ë¡œ ë³€í™˜í•˜ì—¬ formDataì— ì €ì¥\n            const skillsArray = skillsInput.split(',').map((s) => s.trim()).filter(s => s.length > 0)\n            setFormData({ ...formData, skills: skillsArray })\n          }}\n          className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n          placeholder=\"PLC í”„ë¡œê·¸ë˜ë°, Python, ë°ì´í„° ë¶„ì„\"\n        />\n        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n          ğŸ’¡ ìœ„ì˜ ìŠ¤í‚¬ ì²´í¬ë°•ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤. ì´ í•„ë“œëŠ” í•˜ìœ„ í˜¸í™˜ì„±ì„ ìœ„í•´ ìœ ì§€ë©ë‹ˆë‹¤.\n        </p>\n      </div>\n      {/* ğŸŒŸ ìµœì¢… ì €ì¥ ì•ˆë‚´ (ì¹´í…Œê³ ë¦¬ ì…ë ¥ ì¤‘ì¼ ë•Œ) */}\n      {editingCategoryIndex !== null && (\n        <div className=\"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border-2 border-yellow-300 dark:border-yellow-700\">\n          <p className=\"text-sm text-yellow-800 dark:text-yellow-300 font-medium\">\n            âš ï¸ ì¹´í…Œê³ ë¦¬ ì…ë ¥ ì¤‘ì…ë‹ˆë‹¤. ìœ„ì˜ \"ì €ì¥\" ë²„íŠ¼ì„ ë¨¼ì € ëˆŒëŸ¬ ì¹´í…Œê³ ë¦¬ë¥¼ ì €ì¥í•˜ì„¸ìš”.\n          </p>\n        </div>\n      )}\n      \n      {/* ğŸŒŸ ì €ì¥ëœ ì¹´í…Œê³ ë¦¬ ìš”ì•½ */}\n      {formData.details && formData.details.length > 0 && editingCategoryIndex === null && (\n        <div className=\"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border-2 border-green-300 dark:border-green-700\">\n          <p className=\"text-sm text-green-800 dark:text-green-300 font-medium mb-2\">\n            âœ… {formData.details.length}ê°œì˜ ì¹´í…Œê³ ë¦¬ê°€ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤\n          </p>\n          <p className=\"text-xs text-green-700 dark:text-green-400\">\n            ì•„ë˜ \"ì €ì¥\" ë²„íŠ¼ì„ ëˆŒëŸ¬ ê²½ë ¥ ë°ì´í„°ë¥¼ ìµœì¢… ì €ì¥í•˜ì„¸ìš”\n          </p>\n        </div>\n      )}\n      \n      <div className=\"flex gap-3 pt-4 border-t-2 border-gray-300 dark:border-gray-600\">\n        <button\n          type=\"submit\"\n          disabled={isSaving || !isFormValid || editingCategoryIndex !== null}\n          className={`flex-1 flex items-center justify-center gap-2 bg-primary-600 hover:bg-primary-700 text-white font-bold py-3 rounded-lg transition-colors text-lg ${\n            isSaving || !isFormValid || editingCategoryIndex !== null ? 'opacity-50 cursor-not-allowed' : 'shadow-lg'\n          }`}\n          title={editingCategoryIndex !== null ? 'ì¹´í…Œê³ ë¦¬ ì…ë ¥ì„ ë¨¼ì € ì™„ë£Œí•˜ì„¸ìš”' : ''}\n        >\n          {isSaving ? (\n            <>\n              <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n              ì €ì¥ ì¤‘...\n            </>\n          ) : (\n            <>\n              <FaSave className=\"text-xl\" /> ìµœì¢… ì €ì¥\n            </>\n          )}\n        </button>\n        <button\n          type=\"button\"\n          onClick={onCancel}\n          disabled={isSaving}\n          className={`flex-1 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white font-medium py-3 rounded-lg transition-colors ${\n            isSaving ? 'opacity-50 cursor-not-allowed' : ''\n          }`}\n        >\n          ì·¨ì†Œ\n        </button>\n      </div>\n    </form>\n  )\n}\n\nexport default ExperienceForm\n","import React from 'react'\nimport { FaSave, FaPlus, FaTrash, FaVideo, FaTimes } from 'react-icons/fa'\nimport { Project, ProjectFormData, Skill, SkillCategory } from '../../types'\nimport RichTextEditor from '../RichTextEditor'\nimport { useSkills } from '../../hooks/useSkills'\nimport { useCategories } from '../../hooks/useCategories'\nimport LanguageTabs from '../common/LanguageTabs'\nimport { useProjectForm } from '../../hooks/useProjectForm'\n\n// í¼ ì»´í¬ë„ŒíŠ¸ì˜ Props íƒ€ì… ì •ì˜\ninterface FormProps {\n  data: Project | null\n  onSave: (data: ProjectFormData) => Promise<void>\n  onCancel: () => void\n  isSaving?: boolean\n}\n\nconst ProjectForm: React.FC<FormProps> = ({ data, onSave, onCancel, isSaving = false }) => {\n  // Use custom hook for form logic\n  const {\n    formData,\n    videoItems,\n    currentLang,\n    setCurrentLang,\n    setFormData,\n    handleVideoUrlChange,\n    handleVideoDescriptionChange,\n    handleAddVideo,\n    handleRemoveVideo,\n    prepareDataForSubmit\n  } = useProjectForm(data)\n  \n  // ğŸŒŸ ëª¨ë“  ìŠ¤í‚¬ ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤\n  const { skillCategories, loading: skillsLoading } = useSkills()\n  \n  // ğŸŒŸ ì¹´í…Œê³ ë¦¬ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n  const { data: categories = [], isLoading: categoriesLoading } = useCategories()\n\n  // ğŸŒŸ ì¹´í…Œê³ ë¦¬ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬ (ì²´í¬ë°•ìŠ¤ìš©)\n  const handleCategoryToggle = (categoryId: string) => {\n    const currentCategoryIds = formData.categoryIds || []\n    const isSelected = currentCategoryIds.includes(categoryId)\n    \n    const newCategoryIds = isSelected\n      ? currentCategoryIds.filter((id: string) => id !== categoryId)\n      : [...currentCategoryIds, categoryId]\n    \n    setFormData({ \n      ...formData, \n      categoryIds: newCategoryIds \n    })\n  }\n\n  // ğŸŒŸ ìŠ¤í‚¬ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬ (ì²´í¬ë°•ìŠ¤ìš©)\n  const handleSkillToggle = (skillId: string) => {\n    const currentSkillIds = formData.skillIds || []\n    const isSelected = currentSkillIds.includes(skillId)\n    \n    const newSkillIds = isSelected\n      ? currentSkillIds.filter((id: string) => id !== skillId) // ì„ íƒ í•´ì œ\n      : [...currentSkillIds, skillId] // ì„ íƒ ì¶”ê°€\n    \n    console.log('ğŸ”§ ìŠ¤í‚¬ ë³€ê²½:', { skillId, isSelected: !isSelected, newSkillIds })\n    setFormData({ \n      ...formData, \n      skillIds: newSkillIds \n    })\n  }\n  \n  // ğŸŒŸ ìŠ¤í‚¬ ì¹´í…Œê³ ë¦¬ ì „ì²´ ì„ íƒ/í•´ì œ í•¸ë“¤ëŸ¬\n  const handleSkillCategoryToggle = (category: SkillCategory) => {\n    const categorySkillIds = (category.skills || []).map(skill => skill._id!).filter(Boolean)\n    const currentSkillIds = formData.skillIds || []\n    \n    // ì¹´í…Œê³ ë¦¬ì˜ ëª¨ë“  ìŠ¤í‚¬ì´ ì„ íƒë˜ì–´ ìˆëŠ”ì§€ í™•ì¸\n    const allSelected = categorySkillIds.every((id: string) => currentSkillIds.includes(id))\n    \n    let newSkillIds: string[]\n    if (allSelected) {\n      // ëª¨ë‘ ì„ íƒë˜ì–´ ìˆìœ¼ë©´ ì „ì²´ í•´ì œ\n      newSkillIds = currentSkillIds.filter((id: string) => !categorySkillIds.includes(id))\n    } else {\n      // ì¼ë¶€ë§Œ ì„ íƒë˜ì–´ ìˆê±°ë‚˜ ì—†ìœ¼ë©´ ì „ì²´ ì„ íƒ\n      const uniqueIds = new Set([...currentSkillIds, ...categorySkillIds])\n      newSkillIds = Array.from(uniqueIds)\n    }\n    \n    console.log('ğŸ“ ì¹´í…Œê³ ë¦¬ ì „ì²´ ë³€ê²½:', { category: category.title, allSelected: !allSelected, newSkillIds })\n    setFormData({ \n      ...formData, \n      skillIds: newSkillIds \n    })\n  }\n\n  const handleSaveClick = () => {\n    try {\n      console.log('ğŸ’¾ ì €ì¥ ì‹œì‘ - videoItems:', videoItems)\n      console.log('ğŸ”— ì„ íƒëœ ìŠ¤í‚¬ IDs:', formData.skillIds)\n      \n      // Use hook's prepare function to process all data\n      const processedData = prepareDataForSubmit()\n      \n      console.log('âœ… ìµœì¢… processedData:', processedData)\n      console.log('âœ… ìµœì¢… skillIds:', processedData.skillIds)\n      onSave(processedData)\n    } catch (error: any) {\n      console.error('âŒ ì €ì¥ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error)\n      alert(error.message || 'ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì½˜ì†”ì„ í™•ì¸í•´ì£¼ì„¸ìš”.')\n    }\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-4\">\n        {data ? 'í”„ë¡œì íŠ¸ ìˆ˜ì •' : 'í”„ë¡œì íŠ¸ ì¶”ê°€'}\n      </h3>\n      \n      {/* Language Tabs */}\n      <LanguageTabs activeLanguage={currentLang} onChange={setCurrentLang} />\n\n      <div className=\"grid md:grid-cols-2 gap-4\">\n        {/* Title Field (Multilingual) */}\n        <div className=\"md:col-span-2\">\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ì œëª© {currentLang === 'ko' && <span className=\"text-red-500\">*</span>}\n            <span className=\"text-xs text-gray-500 ml-2\">\n              ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\n            </span>\n          </label>\n          {currentLang === 'ko' && (\n            <input\n              type=\"text\"\n              value={formData.title}\n              onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n              placeholder=\"í”„ë¡œì íŠ¸ ì œëª©\"\n              required\n            />\n          )}\n          {currentLang === 'en' && (\n            <input\n              type=\"text\"\n              value={formData.titleEn || ''}\n              onChange={(e) => setFormData({ ...formData, titleEn: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n              placeholder=\"Project Title\"\n            />\n          )}\n          {currentLang === 'ja' && (\n            <input\n              type=\"text\"\n              value={formData.titleJa || ''}\n              onChange={(e) => setFormData({ ...formData, titleJa: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n              placeholder=\"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¿ã‚¤ãƒˆãƒ«\"\n            />\n          )}\n        </div>\n        <div className=\"md:col-span-2\">\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\n            ì¹´í…Œê³ ë¦¬ ì„ íƒ ğŸ“‚ (ë‹¤ì¤‘ ì„ íƒ ê°€ëŠ¥)\n          </label>\n\n          {/* ì„ íƒëœ ì¹´í…Œê³ ë¦¬ íƒœê·¸ í‘œì‹œ */}\n          {formData.categoryIds && formData.categoryIds.length > 0 && (\n            <div className=\"flex flex-wrap gap-2 mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\n              {formData.categoryIds.map((catId: string) => {\n                const category = categories.find(c => c._id === catId)\n                return category ? (\n                  <span\n                    key={catId}\n                    className=\"inline-flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded-full text-sm\"\n                  >\n                    {category.name}\n                    <button\n                      type=\"button\"\n                      onClick={() => handleCategoryToggle(catId)}\n                      className=\"hover:bg-blue-700 rounded-full p-0.5\"\n                    >\n                      <FaTimes className=\"text-xs\" />\n                    </button>\n                  </span>\n                ) : null\n              })}\n            </div>\n          )}\n\n          {/* ì¹´í…Œê³ ë¦¬ ì²´í¬ë°•ìŠ¤ ëª©ë¡ */}\n          {categoriesLoading ? (\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">ì¹´í…Œê³ ë¦¬ ë¡œë”© ì¤‘...</p>\n          ) : categories.length > 0 ? (\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n              {categories.map((category) => {\n                const isSelected = (formData.categoryIds || []).includes(category._id)\n                return (\n                  <label\n                    key={category._id}\n                    className={`flex items-center gap-2 p-3 border-2 rounded-lg cursor-pointer transition-all ${\n                      isSelected\n                        ? 'border-primary-600 bg-primary-50 dark:bg-primary-900/20'\n                        : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\n                    }`}\n                  >\n                    <input\n                      type=\"checkbox\"\n                      checked={isSelected}\n                      onChange={() => handleCategoryToggle(category._id)}\n                      className=\"w-4 h-4\"\n                    />\n                    <span className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                      {category.name}\n                    </span>\n                  </label>\n                )\n              })}\n            </div>\n          ) : (\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n              ë“±ë¡ëœ ì¹´í…Œê³ ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤. ê´€ë¦¬ì ë©”ë‰´ì˜ \"ì¹´í…Œê³ ë¦¬ ê´€ë¦¬\"ì—ì„œ ì¶”ê°€í•˜ì„¸ìš”.\n            </p>\n          )}\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ìƒíƒœ\n          </label>\n          <select\n            value={formData.status}\n            onChange={(e) => setFormData({ ...formData, status: e.target.value as 'preparing' | 'planning' | 'completed' })}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n          >\n            <option value=\"preparing\">ì¤€ë¹„ ì¤‘</option>\n            <option value=\"planning\">ê³„íš ì¤‘</option>\n            <option value=\"completed\">ì™„ë£Œ</option>\n          </select>\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            GitHub URL\n          </label>\n          <input\n            type=\"text\"\n            value={formData.githubLink || ''}\n            onChange={(e) => setFormData({ ...formData, githubLink: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            placeholder=\"https://github.com/...\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            Live URL\n          </label>\n          <input\n            type=\"text\"\n            value={formData.liveLink || ''}\n            onChange={(e) => setFormData({ ...formData, liveLink: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            placeholder=\"https://...\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ì´ë¯¸ì§€ URL\n          </label>\n          <input\n            type=\"text\"\n            value={formData.image}\n            onChange={(e) => setFormData({ ...formData, image: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            placeholder=\"https://...\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            ìˆœì„œ\n          </label>\n          <input\n            type=\"number\"\n            value={formData.order}\n            onChange={(e) => setFormData({ ...formData, order: parseInt(e.target.value) })}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n          />\n        </div>\n\n        {/* ğŸŒŸ ê°œì„ : ì‚¬ìš©ëœ ìŠ¤í‚¬ - ì²´í¬ë°•ìŠ¤ UI */}\n        <div className=\"md:col-span-2\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n              ì‚¬ìš©ëœ ìŠ¤í‚¬ (í”„ë¡œì íŠ¸ ì—°ë™) ğŸ”—\n            </label>\n            {formData.skillIds && formData.skillIds.length > 0 && (\n              <span className=\"text-xs font-semibold text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded\">\n                âœ“ {formData.skillIds.length}ê°œ ì„ íƒë¨\n              </span>\n            )}\n          </div>\n          \n          {skillsLoading ? (\n            <div className=\"text-sm text-gray-500 dark:text-gray-400 py-2\">\n              ìŠ¤í‚¬ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...\n            </div>\n          ) : skillCategories.length === 0 ? (\n            <div className=\"text-sm text-gray-500 dark:text-gray-400 py-4 text-center border border-gray-300 dark:border-gray-600 rounded-lg\">\n              ë“±ë¡ëœ ìŠ¤í‚¬ì´ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € ìŠ¤í‚¬ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.\n            </div>\n          ) : (\n            <div className=\"border border-gray-300 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-800 max-h-[400px] overflow-y-auto\">\n              {skillCategories.map((category: SkillCategory) => {\n                const categorySkillIds = (category.skills || []).map(skill => skill._id!).filter(Boolean)\n                const selectedCount = categorySkillIds.filter(id => (formData.skillIds || []).includes(id)).length\n                const allSelected = categorySkillIds.length > 0 && selectedCount === categorySkillIds.length\n                const someSelected = selectedCount > 0 && selectedCount < categorySkillIds.length\n                \n                return (\n                  <div key={category._id} className=\"mb-4 last:mb-0\">\n                    {/* ì¹´í…Œê³ ë¦¬ í—¤ë” (ì „ì²´ ì„ íƒ/í•´ì œ) */}\n                    <div \n                      className=\"flex items-center gap-2 mb-2 pb-2 border-b border-gray-300 dark:border-gray-600 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded\"\n                      onClick={() => handleSkillCategoryToggle(category)}\n                    >\n                      <input\n                        type=\"checkbox\"\n                        checked={allSelected}\n                        ref={el => {\n                          if (el) {\n                            el.indeterminate = someSelected\n                          }\n                        }}\n                        onChange={() => handleSkillCategoryToggle(category)}\n                        className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n                        onClick={(e) => e.stopPropagation()}\n                      />\n                      <label \n                        className=\"font-semibold text-gray-900 dark:text-white flex-1 cursor-pointer\"\n                        style={{ color: category.color || '#3B82F6' }}\n                      >\n                        {category.title}\n                        {selectedCount > 0 && (\n                          <span className=\"ml-2 text-xs font-normal text-gray-500 dark:text-gray-400\">\n                            ({selectedCount}/{categorySkillIds.length})\n                          </span>\n                        )}\n                      </label>\n                    </div>\n                    \n                    {/* ìŠ¤í‚¬ ëª©ë¡ */}\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 pl-6\">\n                      {(category.skills || []).map((skill: Skill) => {\n                        const isSelected = (formData.skillIds || []).includes(skill._id!)\n                        \n                        return (\n                          <label\n                            key={skill._id}\n                            className={`flex items-center gap-2 p-2 rounded cursor-pointer transition-colors ${\n                              isSelected \n                                ? 'bg-blue-50 dark:bg-blue-900/20 border border-blue-300 dark:border-blue-700' \n                                : 'hover:bg-gray-100 dark:hover:bg-gray-700 border border-transparent'\n                            }`}\n                          >\n                            <input\n                              type=\"checkbox\"\n                              checked={isSelected}\n                              onChange={() => handleSkillToggle(skill._id!)}\n                              className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n                            />\n                            <span className={`text-sm ${isSelected ? 'font-semibold text-blue-700 dark:text-blue-300' : 'text-gray-700 dark:text-gray-300'}`}>\n                              {skill.name}\n                            </span>\n                          </label>\n                        )\n                      })}\n                    </div>\n                  </div>\n                )\n              })}\n            </div>\n          )}\n          \n          <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">\n            ğŸ’¡ ì²´í¬ë°•ìŠ¤ë¥¼ í´ë¦­í•˜ì—¬ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•œ ìŠ¤í‚¬ì„ ì„ íƒí•˜ì„¸ìš”. ì¹´í…Œê³ ë¦¬ ì œëª©ì„ í´ë¦­í•˜ë©´ ì „ì²´ ì„ íƒ/í•´ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n          </p>\n        </div>\n      </div>\n      {/* Description Field (Multilingual) */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n          ì„¤ëª… (ë¦¬ì¹˜í…ìŠ¤íŠ¸ ì—ë””í„°)\n          <span className=\"text-xs text-gray-500 ml-2\">\n            ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\n          </span>\n        </label>\n        {currentLang === 'ko' && (\n          <RichTextEditor\n            value={formData.description || ''}\n            onChange={(value) => setFormData({ ...formData, description: value })}\n            placeholder=\"í”„ë¡œì íŠ¸ì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…ì„ ì‘ì„±í•˜ì„¸ìš”.\"\n            rows={4}\n            className=\"min-h-[150px]\"\n          />\n        )}\n        {currentLang === 'en' && (\n          <RichTextEditor\n            value={formData.descriptionEn || ''}\n            onChange={(value) => setFormData({ ...formData, descriptionEn: value })}\n            placeholder=\"Write a brief description of the project.\"\n            rows={4}\n            className=\"min-h-[150px]\"\n          />\n        )}\n        {currentLang === 'ja' && (\n          <RichTextEditor\n            value={formData.descriptionJa || ''}\n            onChange={(value) => setFormData({ ...formData, descriptionJa: value })}\n            placeholder=\"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç°¡å˜ãªèª¬æ˜ã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚\"\n            rows={4}\n            className=\"min-h-[150px]\"\n          />\n        )}\n      </div>\n      {/* Technologies Field (Multilingual) */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n          ê¸°ìˆ  ìŠ¤íƒ (ì‰¼í‘œ ë˜ëŠ” ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„)\n          <span className=\"text-xs text-gray-500 ml-2\">\n            ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\n          </span>\n        </label>\n        {currentLang === 'ko' && (\n          <textarea\n            value={typeof formData.technologies === 'string' ? formData.technologies : (Array.isArray(formData.technologies) ? formData.technologies.join('\\n') : '')}\n            onChange={(e) => setFormData({ ...formData, technologies: e.target.value })}\n            rows={3}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y\"\n            placeholder=\"PLC, Python, Arduino\"\n          />\n        )}\n        {currentLang === 'en' && (\n          <textarea\n            value={typeof formData.technologiesEn === 'string' ? formData.technologiesEn : (Array.isArray(formData.technologiesEn) ? formData.technologiesEn.join('\\n') : '')}\n            onChange={(e) => setFormData({ ...formData, technologiesEn: e.target.value })}\n            rows={3}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y\"\n            placeholder=\"PLC, Python, Arduino\"\n          />\n        )}\n        {currentLang === 'ja' && (\n          <textarea\n            value={typeof formData.technologiesJa === 'string' ? formData.technologiesJa : (Array.isArray(formData.technologiesJa) ? formData.technologiesJa.join('\\n') : '')}\n            onChange={(e) => setFormData({ ...formData, technologiesJa: e.target.value })}\n            rows={3}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y\"\n            placeholder=\"PLC, Python, Arduino\"\n          />\n        )}\n      </div>\n      \n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n          ì¶”ê°€ ì´ë¯¸ì§€ URLs (ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„)\n        </label>\n        <textarea\n          value={typeof formData.images === 'string' ? formData.images : (Array.isArray(formData.images) ? formData.images.join('\\n') : '')}\n          onChange={(e) => {\n            const value = e.target.value\n            setFormData({\n              ...formData,\n              images: value, // ì›ë³¸ í…ìŠ¤íŠ¸ë¥¼ ê·¸ëŒ€ë¡œ ì €ì¥\n            })\n          }}\n          rows={3}\n          className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y\"\n          placeholder=\"https://example.com/image1.jpg\nhttps://example.com/image2.jpg\"\n        />\n      </div>\n\n      {/* ğŸŒŸ ì˜ìƒ ê´€ë¦¬ ì„¹ì…˜ (ê°œì„ ëœ UI) */}\n      <div className=\"border border-gray-300 dark:border-gray-600 rounded-lg p-6 space-y-4 bg-gray-50 dark:bg-gray-800\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <label className=\"block text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2\">\n            <FaVideo className=\"text-blue-600 dark:text-blue-400\" />\n            ë™ì˜ìƒ ê´€ë¦¬\n          </label>\n          <button\n            type=\"button\"\n            onClick={handleAddVideo}\n            className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium\"\n          >\n            <FaPlus /> ì˜ìƒ ì¶”ê°€\n          </button>\n        </div>\n\n        {videoItems.length === 0 ? (\n          <div className=\"text-center py-8 text-gray-500 dark:text-gray-400\">\n            <FaVideo className=\"text-4xl mx-auto mb-2 opacity-50\" />\n            <p>ì•„ì§ ì¶”ê°€ëœ ì˜ìƒì´ ì—†ìŠµë‹ˆë‹¤.</p>\n            <p className=\"text-sm mt-1\">ìœ„ì˜ \"ì˜ìƒ ì¶”ê°€\" ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì˜ìƒì„ ì¶”ê°€í•˜ì„¸ìš”.</p>\n          </div>\n        ) : (\n          <div className=\"space-y-6\">\n            {videoItems.map((item, index) => (\n              <div key={index} className=\"border border-gray-200 dark:border-gray-700 rounded-lg p-4 bg-white dark:bg-gray-900 space-y-4\">\n                {/* í—¤ë” */}\n                <div className=\"flex items-center justify-between\">\n                  <h4 className=\"text-md font-semibold text-gray-900 dark:text-white flex items-center gap-2\">\n                    <span className=\"flex items-center justify-center w-8 h-8 bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 rounded-full text-sm font-bold\">\n                      {index + 1}\n                    </span>\n                    ì˜ìƒ {index + 1}\n                  </h4>\n                  <button\n                    type=\"button\"\n                    onClick={() => handleRemoveVideo(index)}\n                    className=\"flex items-center gap-1 px-3 py-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors text-sm\"\n                  >\n                    <FaTrash /> ì‚­ì œ\n                  </button>\n                </div>\n\n                {/* ì˜ìƒ URL ì…ë ¥ */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                    ì˜ìƒ URL *\n                  </label>\n                  <input\n                    type=\"url\"\n                    value={item.url}\n                    onChange={(e) => handleVideoUrlChange(index, e.target.value)}\n                    placeholder=\"https://youtube.com/watch?v=... ë˜ëŠ” https://youtube.com/shorts/...\"\n                    className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n                  />\n                </div>\n\n                {/* ì˜ìƒ ì„¤ëª… (RichTextEditor - ë‹¤êµ­ì–´) */}\n                <div>\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                      ì˜ìƒ ì„¤ëª… (ë¦¬ì¹˜í…ìŠ¤íŠ¸)\n                      <span className=\"text-xs text-gray-500 ml-2\">\n                        ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\n                      </span>\n                    </label>\n                    <span className={`text-xs ${\n                      (currentLang === 'ko' ? item.description.length : currentLang === 'en' ? item.descriptionEn.length : item.descriptionJa.length) > 5000 \n                        ? 'text-red-600 dark:text-red-400 font-bold' \n                        : (currentLang === 'ko' ? item.description.length : currentLang === 'en' ? item.descriptionEn.length : item.descriptionJa.length) > 4000\n                        ? 'text-orange-600 dark:text-orange-400'\n                        : 'text-gray-500 dark:text-gray-400'\n                    }`}>\n                      {currentLang === 'ko' ? item.description.length : currentLang === 'en' ? item.descriptionEn.length : item.descriptionJa.length} / 5000ì\n                    </span>\n                  </div>\n                  \n                  {currentLang === 'ko' && (\n                    <RichTextEditor\n                      value={item.description}\n                      onChange={(value) => handleVideoDescriptionChange(index, value, 'ko')}\n                      placeholder=\"ì´ ì˜ìƒì— ëŒ€í•œ ìƒì„¸í•œ ì„¤ëª…ì„ ì‘ì„±í•˜ì„¸ìš”. êµµê²Œ, ê¸°ìš¸ì„, ë¦¬ìŠ¤íŠ¸ ë“± ë‹¤ì–‘í•œ ì„œì‹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"\n                      rows={4}\n                      className=\"min-h-[150px]\"\n                    />\n                  )}\n                  \n                  {currentLang === 'en' && (\n                    <RichTextEditor\n                      value={item.descriptionEn}\n                      onChange={(value) => handleVideoDescriptionChange(index, value, 'en')}\n                      placeholder=\"Write a detailed description of this video. You can use bold, italic, lists, and other formatting.\"\n                      rows={4}\n                      className=\"min-h-[150px]\"\n                    />\n                  )}\n                  \n                  {currentLang === 'ja' && (\n                    <RichTextEditor\n                      value={item.descriptionJa}\n                      onChange={(value) => handleVideoDescriptionChange(index, value, 'ja')}\n                      placeholder=\"ã“ã®å‹•ç”»ã®è©³ç´°ãªèª¬æ˜ã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚å¤ªå­—ã€æ–œä½“ã€ãƒªã‚¹ãƒˆãªã©ã®æ›¸å¼ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚\"\n                      rows={4}\n                      className=\"min-h-[150px]\"\n                    />\n                  )}\n                  \n                  <div className=\"flex items-center justify-between mt-1\">\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                      ğŸ’¡ ì´ ì„¤ëª…ì€ í”„ë¡œì íŠ¸ ìƒì„¸ í˜ì´ì§€ì—ì„œ ì˜ìƒ í•˜ë‹¨ì— í‘œì‹œë©ë‹ˆë‹¤.\n                    </p>\n                    {(currentLang === 'ko' ? item.description.length : currentLang === 'en' ? item.descriptionEn.length : item.descriptionJa.length) > 4000 && (\n                      <p className=\"text-xs text-orange-600 dark:text-orange-400\">\n                        âš ï¸ ê¸€ì ìˆ˜ê°€ ë§ìŠµë‹ˆë‹¤. ê°„ê²°í•˜ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”.\n                      </p>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Detailed Description Field (Multilingual) */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n          ìƒì„¸ ì„¤ëª… (ë¦¬ì¹˜í…ìŠ¤íŠ¸ ì—ë””í„°)\n          <span className=\"text-xs text-gray-500 ml-2\">\n            ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\n          </span>\n        </label>\n        {currentLang === 'ko' && (\n          <RichTextEditor\n            value={formData.detailedDescription || ''}\n            onChange={(value) => setFormData({ ...formData, detailedDescription: value })}\n            placeholder=\"í”„ë¡œì íŠ¸ì˜ ìƒì„¸í•œ ì„¤ëª…ì„ ì‘ì„±í•´ì£¼ì„¸ìš”.\"\n            rows={6}\n            className=\"min-h-[200px]\"\n          />\n        )}\n        {currentLang === 'en' && (\n          <RichTextEditor\n            value={formData.detailedDescriptionEn || ''}\n            onChange={(value) => setFormData({ ...formData, detailedDescriptionEn: value })}\n            placeholder=\"Write a detailed description of the project.\"\n            rows={6}\n            className=\"min-h-[200px]\"\n          />\n        )}\n        {currentLang === 'ja' && (\n          <RichTextEditor\n            value={formData.detailedDescriptionJa || ''}\n            onChange={(value) => setFormData({ ...formData, detailedDescriptionJa: value })}\n            placeholder=\"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è©³ç´°ãªèª¬æ˜ã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚\"\n            rows={6}\n            className=\"min-h-[200px]\"\n          />\n        )}\n      </div>\n\n      {/* Features Field (Multilingual) */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n          ì£¼ìš” ê¸°ëŠ¥ (ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„)\n          <span className=\"text-xs text-gray-500 ml-2\">\n            ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\n          </span>\n        </label>\n        {currentLang === 'ko' && (\n          <textarea\n            value={typeof formData.features === 'string' ? formData.features : (Array.isArray(formData.features) ? formData.features.join('\\n') : '')}\n            onChange={(e) => setFormData({ ...formData, features: e.target.value })}\n            rows={4}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y\"\n            placeholder=\"ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§&#10;ë°ì´í„° ìˆ˜ì§‘ ë° ë¶„ì„&#10;ì•Œë¦¼ ì‹œìŠ¤í…œ\"\n          />\n        )}\n        {currentLang === 'en' && (\n          <textarea\n            value={typeof formData.featuresEn === 'string' ? formData.featuresEn : (Array.isArray(formData.featuresEn) ? formData.featuresEn.join('\\n') : '')}\n            onChange={(e) => setFormData({ ...formData, featuresEn: e.target.value })}\n            rows={4}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y\"\n            placeholder=\"Real-time monitoring&#10;Data collection and analysis&#10;Alert system\"\n          />\n        )}\n        {currentLang === 'ja' && (\n          <textarea\n            value={typeof formData.featuresJa === 'string' ? formData.featuresJa : (Array.isArray(formData.featuresJa) ? formData.featuresJa.join('\\n') : '')}\n            onChange={(e) => setFormData({ ...formData, featuresJa: e.target.value })}\n            rows={4}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y\"\n            placeholder=\"ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–&#10;ãƒ‡ãƒ¼ã‚¿åé›†ã¨åˆ†æ&#10;é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ \"\n          />\n        )}\n      </div>\n\n      {/* Learnings Field (Multilingual) */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n          í•™ìŠµ ë‚´ìš© (ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„)\n          <span className=\"text-xs text-gray-500 ml-2\">\n            ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\n          </span>\n        </label>\n        {currentLang === 'ko' && (\n          <textarea\n            value={typeof formData.learnings === 'string' ? formData.learnings : (Array.isArray(formData.learnings) ? formData.learnings.join('\\n') : '')}\n            onChange={(e) => setFormData({ ...formData, learnings: e.target.value })}\n            rows={4}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y\"\n            placeholder=\"PLC í”„ë¡œê·¸ë˜ë° ê¸°ë²•&#10;ì‹¤ì‹œê°„ ë°ì´í„° ì²˜ë¦¬&#10;ì›¹ ê¸°ë°˜ ëŒ€ì‹œë³´ë“œ êµ¬ì¶•\"\n          />\n        )}\n        {currentLang === 'en' && (\n          <textarea\n            value={typeof formData.learningsEn === 'string' ? formData.learningsEn : (Array.isArray(formData.learningsEn) ? formData.learningsEn.join('\\n') : '')}\n            onChange={(e) => setFormData({ ...formData, learningsEn: e.target.value })}\n            rows={4}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y\"\n            placeholder=\"PLC programming techniques&#10;Real-time data processing&#10;Web-based dashboard development\"\n          />\n        )}\n        {currentLang === 'ja' && (\n          <textarea\n            value={typeof formData.learningsJa === 'string' ? formData.learningsJa : (Array.isArray(formData.learningsJa) ? formData.learningsJa.join('\\n') : '')}\n            onChange={(e) => setFormData({ ...formData, learningsJa: e.target.value })}\n            rows={4}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-y\"\n            placeholder=\"PLCãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æŠ€è¡“&#10;ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿å‡¦ç†&#10;Webãƒ™ãƒ¼ã‚¹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰é–‹ç™º\"\n          />\n        )}\n      </div>\n      <div className=\"flex gap-3 pt-4\">\n        <button\n          type=\"button\"\n          onClick={handleSaveClick}\n          disabled={isSaving}\n          className={`flex-1 flex items-center justify-center gap-2 bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 rounded-lg transition-colors ${\n            isSaving ? 'opacity-50 cursor-not-allowed' : ''\n          }`}\n        >\n          {isSaving ? (\n            <>\n              <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n              ì €ì¥ ì¤‘...\n            </>\n          ) : (\n            <>\n              <FaSave /> ì €ì¥\n            </>\n          )}\n        </button>\n        <button\n          type=\"button\"\n          onClick={onCancel}\n          className=\"flex-1 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white font-medium py-2 rounded-lg transition-colors\"\n        >\n          ì·¨ì†Œ\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default ProjectForm\n","import React, { useState, useEffect } from 'react'\nimport { SkillCategory, SkillCategoryFormData } from '../../types'\nimport LanguageTabs, { AdminLanguage } from '../common/LanguageTabs'\n\ninterface SkillCategoryFormProps {\n  initialData?: SkillCategory | null\n  onSave: (data: SkillCategoryFormData) => void\n  onCancel: () => void\n  isSaving?: boolean\n}\n\nconst SkillCategoryForm: React.FC<SkillCategoryFormProps> = ({\n  initialData,\n  onSave,\n  onCancel,\n  isSaving = false\n}) => {\n  const [currentLang, setCurrentLang] = useState<AdminLanguage>('ko')\n  const [formData, setFormData] = useState<SkillCategoryFormData>({\n    title: '',\n    titleEn: '',\n    titleJa: '',\n    description: '',\n    descriptionEn: '',\n    descriptionJa: '',\n    color: '#3B82F6',\n    order: 0\n  })\n\n  useEffect(() => {\n    if (initialData) {\n      setFormData({\n        title: initialData.title,\n        titleEn: initialData.titleEn || '',\n        titleJa: initialData.titleJa || '',\n        description: initialData.description || '',\n        descriptionEn: initialData.descriptionEn || '',\n        descriptionJa: initialData.descriptionJa || '',\n        color: initialData.color,\n        order: initialData.order\n      })\n    }\n  }, [initialData])\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    console.log('ğŸ“‹ í¼ ì œì¶œ:', formData)\n    onSave(formData)\n  }\n\n  const handleChange = (field: keyof SkillCategoryFormData, value: string | number) => {\n    setFormData(prev => ({ ...prev, [field]: value }))\n  }\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 mb-6\">\n      <h3 className=\"text-lg font-semibold mb-4\">\n        {initialData ? 'ì¹´í…Œê³ ë¦¬ ìˆ˜ì •' : 'ìƒˆ ì¹´í…Œê³ ë¦¬ ì¶”ê°€'}\n      </h3>\n      \n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        {/* Language Tabs */}\n        <LanguageTabs activeLanguage={currentLang} onChange={setCurrentLang} />\n\n        {/* Title Field (Multilingual) */}\n        <div>\n          <label className=\"block text-sm font-medium mb-2\">\n            ì œëª© {currentLang === 'ko' && <span className=\"text-red-500\">*</span>}\n            <span className=\"text-xs text-gray-500 ml-2\">\n              ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\n            </span>\n          </label>\n          {currentLang === 'ko' && (\n            <input\n              type=\"text\"\n              value={formData.title}\n              onChange={(e) => handleChange('title', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n              placeholder=\"ì˜ˆ: í”„ë¡œê·¸ë˜ë° ì–¸ì–´\"\n              required\n            />\n          )}\n          {currentLang === 'en' && (\n            <input\n              type=\"text\"\n              value={formData.titleEn || ''}\n              onChange={(e) => handleChange('titleEn', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n              placeholder=\"e.g., Programming Languages\"\n            />\n          )}\n          {currentLang === 'ja' && (\n            <input\n              type=\"text\"\n              value={formData.titleJa || ''}\n              onChange={(e) => handleChange('titleJa', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n              placeholder=\"ä¾‹: ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª\"\n            />\n          )}\n        </div>\n        \n        {/* Description Field (Multilingual) */}\n        <div>\n          <label className=\"block text-sm font-medium mb-2\">\n            ì„¤ëª…\n            <span className=\"text-xs text-gray-500 ml-2\">\n              ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\n            </span>\n          </label>\n          {currentLang === 'ko' && (\n            <textarea\n              value={formData.description}\n              onChange={(e) => handleChange('description', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n              rows={3}\n              placeholder=\"ì¹´í…Œê³ ë¦¬ì— ëŒ€í•œ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”\"\n            />\n          )}\n          {currentLang === 'en' && (\n            <textarea\n              value={formData.descriptionEn || ''}\n              onChange={(e) => handleChange('descriptionEn', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n              rows={3}\n              placeholder=\"Enter description for this category\"\n            />\n          )}\n          {currentLang === 'ja' && (\n            <textarea\n              value={formData.descriptionJa || ''}\n              onChange={(e) => handleChange('descriptionJa', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n              rows={3}\n              placeholder=\"ã“ã®ã‚«ãƒ†ã‚´ãƒªã®èª¬æ˜ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\"\n            />\n          )}\n        </div>\n        \n        <div>\n          <label className=\"block text-sm font-medium mb-2\">ìƒ‰ìƒ</label>\n          <input\n            type=\"color\"\n            value={formData.color}\n            onChange={(e) => handleChange('color', e.target.value)}\n            className=\"w-12 h-10 border border-gray-300 dark:border-gray-600 rounded-md\"\n          />\n        </div>\n        \n        <div>\n          <label className=\"block text-sm font-medium mb-2\">ìˆœì„œ (ê³ ê¸‰ ì˜µì…˜)</label>\n          <input\n            type=\"number\"\n            value={formData.order}\n            onChange={(e) => handleChange('order', parseInt(e.target.value) || 0)}\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            min=\"0\"\n          />\n          <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n            ğŸ’¡ ì¹´í…Œê³ ë¦¬ ëª©ë¡ì—ì„œ ë“œë˜ê·¸í•˜ì—¬ ìˆœì„œë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤\n          </p>\n        </div>\n        \n        <div className=\"flex gap-2\">\n          <button\n            type=\"submit\"\n            disabled={isSaving}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50\"\n          >\n            {isSaving ? 'ì €ì¥ ì¤‘...' : 'ì €ì¥'}\n          </button>\n          <button\n            type=\"button\"\n            onClick={onCancel}\n            className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\"\n          >\n            ì·¨ì†Œ\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default SkillCategoryForm\n","import React, { useState, useEffect } from 'react'\nimport { Skill, SkillFormData } from '../../types'\nimport DynamicIcon from '../common/DynamicIcon'\nimport LanguageTabs, { AdminLanguage } from '../common/LanguageTabs'\n\ninterface SkillFormProps {\n  initialData?: Skill | null\n  categoryId?: string | undefined\n  onSave: (data: SkillFormData) => void\n  onCancel: () => void\n  isSaving?: boolean\n}\n\nconst SkillForm: React.FC<SkillFormProps> = ({\n  initialData,\n  onSave,\n  onCancel,\n  isSaving = false\n}) => {\n  const [currentLang, setCurrentLang] = useState<AdminLanguage>('ko')\n  const [formData, setFormData] = useState<SkillFormData>({\n    name: '',\n    nameEn: '',\n    nameJa: '',\n    level: 50, // ìƒˆ ìŠ¤í‚¬ ìƒì„± ì‹œ ê¸°ë³¸ ìˆ™ë ¨ë„\n    icon: 'FaMicrochip',\n    description: '',\n    descriptionEn: '',\n    descriptionJa: '',\n    order: 0\n  })\n\n  useEffect(() => {\n    if (initialData) {\n      setFormData({\n        name: initialData.name,\n        nameEn: initialData.nameEn || '',\n        nameJa: initialData.nameJa || '',\n        level: initialData.level, // ê¸°ì¡´ ìŠ¤í‚¬ì˜ ìˆ™ë ¨ë„ ìœ ì§€ (ëª©ë¡ì—ì„œ ì¡°ì ˆ)\n        icon: initialData.icon,\n        description: initialData.description || '',\n        descriptionEn: initialData.descriptionEn || '',\n        descriptionJa: initialData.descriptionJa || '',\n        order: initialData.order\n      })\n    }\n  }, [initialData])\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    onSave(formData)\n  }\n\n  const handleChange = (field: keyof SkillFormData, value: string | number) => {\n    setFormData(prev => ({ ...prev, [field]: value }))\n  }\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 mb-6\">\n      <h3 className=\"text-lg font-semibold mb-4\">\n        {initialData ? 'ìŠ¤í‚¬ ìˆ˜ì •' : 'ìƒˆ ìŠ¤í‚¬ ì¶”ê°€'}\n      </h3>\n      \n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        {/* Language Tabs */}\n        <LanguageTabs activeLanguage={currentLang} onChange={setCurrentLang} />\n\n        {/* Name Field (Multilingual) */}\n        <div>\n          <label className=\"block text-sm font-medium mb-2\">\n            ì´ë¦„ {currentLang === 'ko' && <span className=\"text-red-500\">*</span>}\n            <span className=\"text-xs text-gray-500 ml-2\">\n              ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\n            </span>\n          </label>\n          {currentLang === 'ko' && (\n            <input\n              type=\"text\"\n              value={formData.name}\n              onChange={(e) => handleChange('name', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n              placeholder=\"ì˜ˆ: Python, React, PLC\"\n              required\n            />\n          )}\n          {currentLang === 'en' && (\n            <input\n              type=\"text\"\n              value={formData.nameEn || ''}\n              onChange={(e) => handleChange('nameEn', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n              placeholder=\"e.g., Python, React, PLC\"\n            />\n          )}\n          {currentLang === 'ja' && (\n            <input\n              type=\"text\"\n              value={formData.nameJa || ''}\n              onChange={(e) => handleChange('nameJa', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n              placeholder=\"ä¾‹: Python, React, PLC\"\n            />\n          )}\n        </div>\n\n        {/* Description Field (Multilingual) */}\n        <div>\n          <label className=\"block text-sm font-medium mb-2\">\n            ì„¤ëª… (ì„ íƒì‚¬í•­)\n            <span className=\"text-xs text-gray-500 ml-2\">\n              ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\n            </span>\n          </label>\n          {currentLang === 'ko' && (\n            <textarea\n              value={formData.description || ''}\n              onChange={(e) => handleChange('description', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n              rows={3}\n              placeholder=\"ìŠ¤í‚¬ì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…\"\n            />\n          )}\n          {currentLang === 'en' && (\n            <textarea\n              value={formData.descriptionEn || ''}\n              onChange={(e) => handleChange('descriptionEn', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n              rows={3}\n              placeholder=\"Brief description of this skill\"\n            />\n          )}\n          {currentLang === 'ja' && (\n            <textarea\n              value={formData.descriptionJa || ''}\n              onChange={(e) => handleChange('descriptionJa', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n              rows={3}\n              placeholder=\"ã“ã®ã‚¹ã‚­ãƒ«ã®ç°¡å˜ãªèª¬æ˜\"\n            />\n          )}\n        </div>\n        \n        {/* ğŸŒŸ ìˆ™ë ¨ë„ëŠ” ê¸°ìˆ  ê´€ë¦¬ ëª©ë¡ì˜ ì¸ë¼ì¸ ìŠ¬ë¼ì´ë”ë¡œ ì¡°ì ˆí•©ë‹ˆë‹¤ */}\n        \n        <div>\n          <label className=\"block text-sm font-medium mb-2\">ì•„ì´ì½˜</label>\n          <div className=\"flex items-center gap-3 mb-2\">\n            <div className=\"text-lg text-blue-600 dark:text-blue-400\">\n              <DynamicIcon iconName={formData.icon} size={20} />\n            </div>\n            <span className=\"text-sm text-gray-600 dark:text-gray-400\">ë¯¸ë¦¬ë³´ê¸°</span>\n          </div>\n          <select\n            value={formData.icon}\n            onChange={(e) => handleChange('icon', e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n          >\n            <optgroup label=\"í”„ë¡œê·¸ë˜ë° ì–¸ì–´\">\n              <option value=\"FaPython\">Python</option>\n              <option value=\"SiJavascript\">JavaScript</option>\n              <option value=\"SiTypescript\">TypeScript</option>\n              <option value=\"SiC\">C</option>\n              <option value=\"SiCplusplus\">C++</option>\n              <option value=\"SiCsharp\">C#</option>\n              <option value=\"SiGo\">Go</option>\n              <option value=\"SiRust\">Rust</option>\n              <option value=\"SiJava\">Java</option>\n              <option value=\"SiPhp\">PHP</option>\n              <option value=\"SiRuby\">Ruby</option>\n              <option value=\"SiSwift\">Swift</option>\n              <option value=\"SiKotlin\">Kotlin</option>\n            </optgroup>\n            <optgroup label=\"í”„ë ˆì„ì›Œí¬ & ë¼ì´ë¸ŒëŸ¬ë¦¬\">\n              <option value=\"SiReact\">React</option>\n              <option value=\"SiNodedotjs\">Node.js</option>\n              <option value=\"SiVuedotjs\">Vue.js</option>\n              <option value=\"SiAngular\">Angular</option>\n              <option value=\"SiNextdotjs\">Next.js</option>\n              <option value=\"SiExpress\">Express</option>\n              <option value=\"SiDjango\">Django</option>\n              <option value=\"SiFlask\">Flask</option>\n              <option value=\"SiSpring\">Spring</option>\n            </optgroup>\n            <optgroup label=\"ë°ì´í„°ë² ì´ìŠ¤\">\n              <option value=\"FaDatabase\">Database</option>\n              <option value=\"SiMysql\">MySQL</option>\n              <option value=\"SiMongodb\">MongoDB</option>\n              <option value=\"SiPostgresql\">PostgreSQL</option>\n              <option value=\"SiRedis\">Redis</option>\n              <option value=\"SiSqlite\">SQLite</option>\n            </optgroup>\n            <optgroup label=\"ìë™í™” & í•˜ë“œì›¨ì–´\">\n              <option value=\"FaMicrochip\">Microchip</option>\n              <option value=\"FaRobot\">Robot</option>\n              <option value=\"SiArduino\">Arduino</option>\n              <option value=\"SiRaspberrypi\">Raspberry Pi</option>\n              <option value=\"SiSiemens\">Siemens</option>\n              <option value=\"SiMitsubishi\">Mitsubishi</option>\n            </optgroup>\n            <optgroup label=\"ê°œë°œ ë„êµ¬\">\n              <option value=\"FaCode\">Code</option>\n              <option value=\"FaServer\">Server</option>\n              <option value=\"SiDocker\">Docker</option>\n              <option value=\"SiGit\">Git</option>\n              <option value=\"SiLinux\">Linux</option>\n              <option value=\"SiGithub\">GitHub</option>\n              <option value=\"SiGitlab\">GitLab</option>\n              <option value=\"SiVisualstudiocode\">VS Code</option>\n            </optgroup>\n            <optgroup label=\"ì–¸ì–´\">\n              <option value=\"FaLanguage\">ì–¸ì–´ ì¼ë°˜</option>\n              <option value=\"FaGlobeAsia\">ì¼ë³¸ì–´</option>\n              <option value=\"FaGlobeEurope\">ë…ì¼ì–´</option>\n              <option value=\"FaFlag\">ëŸ¬ì‹œì•„ì–´</option>\n              <option value=\"FaFlagCheckered\">í•œêµ­ì–´</option>\n              <option value=\"FaGlobe\">ì—ìŠ¤í† ë‹ˆì•„ì–´</option>\n              <option value=\"FaFont\">ì¤‘êµ­ì–´</option>\n              <option value=\"FaComment\">ì˜ì–´</option>\n            </optgroup>\n            <optgroup label=\"í•™ë¬¸ & ì „ê³µ\">\n              <option value=\"FaLaptopCode\">ì»´í“¨í„°ê³µí•™</option>\n              <option value=\"FaChartBar\">í†µê³„í•™</option>\n              <option value=\"FaCalculator\">ìˆ˜í•™</option>\n              <option value=\"FaSquareRootAlt\">ìˆ˜í•™ (ê³ ê¸‰)</option>\n              <option value=\"FaUniversity\">ëŒ€í•™/í•™ìˆ </option>\n              <option value=\"FaGraduationCap\">ì¡¸ì—…/í•™ìœ„</option>\n            </optgroup>\n            <optgroup label=\"ê³µí•™\">\n              <option value=\"FaCogs\">ê³µí•™ ì¼ë°˜</option>\n              <option value=\"FaTools\">ê¸°ê³„ê³µí•™</option>\n              <option value=\"FaWrench\">ê¸°ê³„ì„¤ê³„</option>\n              <option value=\"FaBolt\">ì „ê¸°ê³µí•™</option>\n              <option value=\"FaPlug\">ì „ë ¥ê³µí•™</option>\n              <option value=\"FaMicrochip\">ì „ìê³µí•™</option>\n              <option value=\"FaHardHat\">í† ëª©ê³µí•™</option>\n              <option value=\"FaBuilding\">ê±´ì¶•ê³µí•™</option>\n              <option value=\"FaIndustry\">ì‚°ì—…ê³µí•™</option>\n              <option value=\"FaChartLine\">ê²½ì˜ê³µí•™</option>\n              <option value=\"FaFlask\">í™”í•™ê³µí•™</option>\n              <option value=\"FaCubes\">ì¬ë£Œê³µí•™</option>\n              <option value=\"FaPlane\">í•­ê³µê³µí•™</option>\n              <option value=\"FaRocket\">ìš°ì£¼ê³µí•™</option>\n              <option value=\"FaLeaf\">í™˜ê²½ê³µí•™</option>\n              <option value=\"FaRecycle\">ìì›ê³µí•™</option>\n              <option value=\"FaDna\">ìƒëª…ê³µí•™</option>\n              <option value=\"FaOilCan\">ì„ìœ ê³µí•™</option>\n              <option value=\"FaFire\">ì—ë„ˆì§€ê³µí•™</option>\n              <option value=\"FaShieldAlt\">ì•ˆì „ê³µí•™</option>\n            </optgroup>\n            <optgroup label=\"ê³¼í•™\">\n              <option value=\"FaAtom\">ì›ì/ë¬¼ë¦¬í•™</option>\n              <option value=\"FaFlask\">í™”í•™/ì‹¤í—˜</option>\n              <option value=\"FaMicroscope\">ìƒë¬¼í•™/ì—°êµ¬</option>\n              <option value=\"FaDna\">DNA/ìœ ì „í•™</option>\n              <option value=\"FaRocket\">ìš°ì£¼/í•­ê³µ</option>\n              <option value=\"FaSatellite\">ìœ„ì„±/í†µì‹ </option>\n              <option value=\"FaBrain\">ë‡Œê³¼í•™/ì‹¬ë¦¬í•™</option>\n              <option value=\"FaLightbulb\">ë°œëª…/í˜ì‹ </option>\n              <option value=\"FaWaveSquare\">ì „ì/ì „ê¸°ê³µí•™</option>\n              <option value=\"FaMagnet\">ìê¸°í•™/ë¬¼ë¦¬</option>\n            </optgroup>\n            <optgroup label=\"ì˜ˆìˆ  & ì·¨ë¯¸\">\n              <option value=\"FaPalette\">ë¯¸ìˆ </option>\n              <option value=\"FaPaintBrush\">ê·¸ë¦¼</option>\n              <option value=\"FaCamera\">ì‚¬ì§„</option>\n              <option value=\"FaCameraRetro\">ì‚¬ì§„ (ë ˆíŠ¸ë¡œ)</option>\n              <option value=\"FaCoffee\">ì»¤í”¼</option>\n              <option value=\"FaMugHot\">ì»¤í”¼ (ë¨¸ê·¸)</option>\n              <option value=\"FaMusic\">ìŒì•…</option>\n              <option value=\"FaGuitar\">ì•…ê¸°</option>\n              <option value=\"FaFilm\">ì˜í™”/ì˜ìƒ</option>\n            </optgroup>\n            <optgroup label=\"ê²½ë ¥ & ê²½í—˜\">\n              <option value=\"FaUserShield\">êµ°ì¸</option>\n              <option value=\"FaShieldAlt\">ë°©ì–´/ë³´ì•ˆ</option>\n              <option value=\"FaCar\">ìš´ì „</option>\n              <option value=\"FaTruck\">íŠ¸ëŸ­ ìš´ì „</option>\n              <option value=\"FaShippingFast\">ë¬¼ë¥˜</option>\n              <option value=\"FaBriefcase\">ë¹„ì¦ˆë‹ˆìŠ¤</option>\n              <option value=\"FaHandshake\">í˜‘ì—…</option>\n            </optgroup>\n            <optgroup label=\"ê¸°íƒ€\">\n              <option value=\"FaChartLine\">Chart</option>\n              <option value=\"FaCubes\">Cubes</option>\n              <option value=\"FaCog\">Settings</option>\n              <option value=\"FaMobile\">Mobile</option>\n              <option value=\"FaDesktop\">Desktop</option>\n              <option value=\"FaCloud\">Cloud</option>\n              <option value=\"FaNetworkWired\">Network</option>\n            </optgroup>\n          </select>\n        </div>\n        \n        <div>\n          <label className=\"block text-sm font-medium mb-2\">ìˆœì„œ (ê³ ê¸‰ ì˜µì…˜)</label>\n          <input\n            type=\"number\"\n            value={formData.order}\n            onChange={(e) => handleChange('order', parseInt(e.target.value) || 0)}\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            min=\"0\"\n          />\n          <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n            ğŸ’¡ ìŠ¤í‚¬ ëª©ë¡ì—ì„œ ë“œë˜ê·¸í•˜ì—¬ ìˆœì„œë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤\n          </p>\n        </div>\n        \n        <div className=\"flex gap-2\">\n          <button\n            type=\"submit\"\n            disabled={isSaving}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50\"\n          >\n            {isSaving ? 'ì €ì¥ ì¤‘...' : 'ì €ì¥'}\n          </button>\n          <button\n            type=\"button\"\n            onClick={onCancel}\n            className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\"\n          >\n            ì·¨ì†Œ\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default SkillForm\n","import React, { useState } from 'react'\nimport { FaSave } from 'react-icons/fa'\nimport { Category, CategoryFormData } from '../../types'\nimport LanguageTabs, { AdminLanguage } from '../common/LanguageTabs'\n\ninterface FormProps {\n  data?: Category\n  onSave: (data: CategoryFormData) => void\n  onCancel: () => void\n  isSaving?: boolean\n}\n\nconst CategoryForm: React.FC<FormProps> = ({ \n  data, \n  onSave, \n  onCancel, \n  isSaving = false \n}) => {\n  const [currentLang, setCurrentLang] = useState<AdminLanguage>('ko')\n  const [formData, setFormData] = useState<CategoryFormData>(\n    data\n      ? { \n          name: data.name,\n          nameEn: data.nameEn,\n          nameJa: data.nameJa,\n          order: data.order || 0,\n        } \n      : {\n          name: '',\n          nameEn: '',\n          nameJa: '',\n          order: 0,\n        }\n  )\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    \n    if (!formData.name.trim()) {\n      alert('ì¹´í…Œê³ ë¦¬ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”')\n      return\n    }\n\n    onSave(formData)\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      {/* Language Tabs */}\n      <LanguageTabs activeLanguage={currentLang} onChange={setCurrentLang} />\n\n      {/* Name Field (Multilingual) */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n          ì¹´í…Œê³ ë¦¬ ì´ë¦„ {currentLang === 'ko' && <span className=\"text-red-500\">*</span>}\n          <span className=\"text-xs text-gray-500 ml-2\">\n            ({currentLang === 'ko' ? 'ğŸ‡°ğŸ‡· í•œêµ­ì–´' : currentLang === 'en' ? 'ğŸ‡ºğŸ‡¸ English' : 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª'})\n          </span>\n        </label>\n        {currentLang === 'ko' && (\n          <input\n            type=\"text\"\n            value={formData.name}\n            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            placeholder=\"ì˜ˆ: PLC, ì›¹ê°œë°œ, AI/ML\"\n            required\n          />\n        )}\n        {currentLang === 'en' && (\n          <input\n            type=\"text\"\n            value={formData.nameEn || ''}\n            onChange={(e) => setFormData({ ...formData, nameEn: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            placeholder=\"e.g., PLC, Web Development, AI/ML\"\n          />\n        )}\n        {currentLang === 'ja' && (\n          <input\n            type=\"text\"\n            value={formData.nameJa || ''}\n            onChange={(e) => setFormData({ ...formData, nameJa: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            placeholder=\"ä¾‹: PLC, ã‚¦ã‚§ãƒ–é–‹ç™º, AI/ML\"\n          />\n        )}\n      </div>\n\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n          ìˆœì„œ (ê³ ê¸‰ ì˜µì…˜)\n        </label>\n        <input\n          type=\"number\"\n          value={formData.order}\n          onChange={(e) => setFormData({ ...formData, order: parseInt(e.target.value) || 0 })}\n          className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n          min=\"0\"\n        />\n        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n          ğŸ’¡ ì¹´í…Œê³ ë¦¬ ëª©ë¡ì—ì„œ ë“œë˜ê·¸ ì•¤ ë“œë¡­ìœ¼ë¡œ ìˆœì„œë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤\n        </p>\n      </div>\n\n      <div className=\"flex gap-3 pt-4\">\n        <button\n          type=\"submit\"\n          disabled={isSaving || !formData.name.trim()}\n          className=\"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium\"\n        >\n          <FaSave />\n          {isSaving ? 'ì €ì¥ ì¤‘...' : 'ì €ì¥'}\n        </button>\n        <button\n          type=\"button\"\n          onClick={onCancel}\n          disabled={isSaving}\n          className=\"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium\"\n        >\n          ì·¨ì†Œ\n        </button>\n      </div>\n    </form>\n  )\n}\n\nexport default CategoryForm\n"],"names":["extractYouTubeId","url","patterns","pattern","match","getYouTubeThumbnail","videoId","quality","BookForm","data","onSave","onCancel","isSaving","availableCategories","skillCategories","loading","skillsLoading","useSkills","categories","isLoading","categoriesLoading","useCategories","initialReadDate","readDate","isNaN","Date","getTime","toISOString","split","initialCategoryIds","categoryIds","map","catIdOrObj","_id","filter","Boolean","initialSkillIds","skillIds","skillIdOrObj","formData","setFormData","useState","title","author","category","coverImage","rating","handleCategoryToggle","categoryId","currentCategoryIds","newCategoryIds","includes","id","handleSkillCategoryToggle","categorySkillIds","skills","skill","currentSkillIds","newSkillIds","every","uniqueIds","Set","Array","from","isFormValid","trim","jsxs","onSubmit","e","preventDefault","alert","className","children","jsx","jsxRuntimeExports","type","value","onChange","target","length","catId","find","c","name","onClick","FaTimes","isSelected","checked","star","FaStar","min","max","step","newRating","parseFloat","Math","placeholder","selectedCount","allSelected","someSelected","ref","el","indeterminate","stopPropagation","style","color","skillId","handleSkillToggle","disabled","Fragment","FaSave","ChapterForm","chapter","maxOrder","setTitle","order","setOrder","setIsSaving","useEffect","async","error","htmlFor","required","parseInt","LearningForm","learning","topic","setTopic","content","setContent","stripHtml","html","tmp","document","createElement","innerHTML","textContent","innerText","ReactQuill","theme","modules","toolbar","header","list","indent","background","formats","VideoLearningForm","initialWatchDate","watchDate","videoUrlInput","setVideoUrlInput","videoUrl","purpose","keyTakeaways","root","direction","format","version","parsed","JSON","parse","parseKeyTakeaways","application","blocks","useMemo","thumbnailUrl","isValidUrl","stringify","src","alt","onError","_","i","starValue","rows","LexicalEditor","categorySkills","s","selectedInCategory","input","VideoPlaylistForm","playlistUrlInput","setPlaylistUrlInput","playlistId","extractYouTubePlaylistId","reactExports","saveData","PlaylistVideoForm","iconOptions","key","icon","FaBriefcase","label","FaCoffee","FaGraduationCap","FaChartLine","FaLaptopCode","FaCode","FaCog","FaRobot","FaCar","FaShieldAlt","SortableCategoryItem","detail","index","editingCategoryIndex","onEdit","onRemove","attributes","listeners","setNodeRef","transform","transition","isDragging","useSortable","CSS","Transform","toString","opacity","zIndex","FaBars","items","FaTrash","slice","item","ExperienceForm","currentLang","setCurrentLang","initialFormData","iconKey","details","skillsEn","skillsJa","period","company","description","skillsInput","setSkillsInput","isArray","join","setEditingCategoryIndex","categoryFormData","setCategoryFormData","categoryEn","categoryJa","contentEn","contentJa","editDetailCategory","_a","itemsEn","_b","itemsJa","removeDetailCategory","confirm","newDetails","splice","skillsArray","orderedDetails","finalFormData","option","React","opt","FaPlus","DndContext","collisionDetection","closestCenter","onDragEnd","event","active","over","oldIndex","findIndex","newIndex","movedItem","reorderedDetails","SortableContext","strategy","verticalListSortingStrategy","LanguageTabs","activeLanguage","RichTextEditor","newDetail","onBlur","ProjectForm","videoItems","handleVideoUrlChange","handleVideoDescriptionChange","handleAddVideo","handleRemoveVideo","prepareDataForSubmit","useProjectForm","titleEn","titleJa","status","githubLink","liveLink","image","descriptionEn","descriptionJa","technologies","technologiesEn","technologiesJa","images","FaVideo","detailedDescription","detailedDescriptionEn","detailedDescriptionJa","features","featuresEn","featuresJa","learnings","learningsEn","learningsJa","processedData","message","SkillCategoryForm","initialData","handleChange","field","prev","SkillForm","nameEn","nameJa","level","DynamicIcon","iconName","size","CategoryForm"],"mappings":"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"}