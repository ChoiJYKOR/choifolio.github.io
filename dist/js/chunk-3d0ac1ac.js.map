{"version":3,"file":"chunk-3d0ac1ac.js","sources":["../../src/contexts/AuthContext.tsx","../../src/hooks/useSiteSettings.tsx","../../src/hooks/useScrollSpy.ts","../../src/hooks/useSidebarSkills.ts","../../src/hooks/useBooks.ts","../../src/hooks/useCategories.ts","../../src/hooks/useLearningManager.ts","../../src/hooks/useSkills.ts","../../src/hooks/useVideoLearnings.ts","../../src/hooks/useVideoPlaylists.ts","../../src/hooks/useToast.ts","../../src/hooks/useProjects.ts","../../src/hooks/useProjectDetail.ts","../../src/hooks/useExperiences.ts","../../src/hooks/useAbortController.ts","../../src/hooks/useOptimisticUpdate.ts","../../src/hooks/useBookManagerData.ts","../../src/hooks/useCRUDManager.ts","../../src/hooks/useExperienceManagerData.ts","../../src/hooks/useProjectForm.ts","../../src/hooks/useProjectManagerData.ts","../../src/hooks/useMessageManagerData.ts","../../src/hooks/useMessageDetail.ts","../../src/hooks/useSkillMutations.ts","../../src/hooks/useSkillsManagerData.ts","../../src/admin/settings/hooks/useSettingsForm.ts","../../src/hooks/useDataCounts.ts","../../src/hooks/useAdminSidebarState.ts"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, useCallback, useMemo } from 'react';\nimport { authAPI } from '../services/api';\n\ninterface User {\n  username: string;\n  isAdmin: boolean;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  login: (username: string, password: string) => Promise<void>;\n  logout: () => void;\n  isAuthenticated: boolean;\n  isLoading: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [user, setUser] = useState<User | null>(null);\n  // token ìƒíƒœ ì œê±°: HttpOnly ì¿ í‚¤ ì‚¬ìš© ê°€ì •\n  const [isLoading, setIsLoading] = useState(false); // ì´ˆê¸° ë¡œë”© ìƒíƒœë¥¼ falseë¡œ ì„¤ì •\n\n  // useEffectì—ì„œ ì‚¬ìš©ì ì •ë³´ë¥¼ ë¡œë“œ (í† í°ì´ ì¿ í‚¤ì— ìˆì„ ê²½ìš°)\n  useEffect(() => {\n    const loadUser = async () => {\n      try {\n        // verify APIê°€ HttpOnly ì¿ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ì¦í•˜ê³  ì‚¬ìš©ì ì •ë³´ë¥¼ ë°˜í™˜í•œë‹¤ê³  ê°€ì •\n        const response = await authAPI.verify();\n        setUser(response.data.user);\n      } catch (error) {\n        // í† í°ì´ ì—†ê±°ë‚˜ ìœ íš¨í•˜ì§€ ì•Šìœ¼ë©´ userë¥¼ nullë¡œ ì„¤ì •\n        setUser(null);\n      }\n    };\n    \n    // ì•± ë¡œë“œ ì‹œ verify APIë¥¼ í˜¸ì¶œí•˜ì—¬ ê¸°ì¡´ ì„¸ì…˜ í™•ì¸\n    loadUser();\n  }, []); // ì•± ë¡œë“œ ì‹œ í•œ ë²ˆë§Œ ì‹¤í–‰\n\n  const login = useCallback(async (username: string, password: string) => {\n    try {\n      setIsLoading(true);\n      // ë¡œê·¸ì¸ API í˜¸ì¶œ: ì„œë²„ëŠ” ì„±ê³µ ì‹œ HttpOnly ì¿ í‚¤ì— í† í°ì„ ì„¤ì •í•˜ê³  ì‚¬ìš©ì ì •ë³´ë¥¼ ë°˜í™˜\n      const response = await authAPI.login(username, password);\n      setUser(response.data.user);\n      setIsLoading(false);\n    } catch (error: any) {\n      setIsLoading(false);\n      // setUser(null); // ë¡œê·¸ì¸ ì‹¤íŒ¨ ì‹œ user ì´ˆê¸°í™”\n      throw new Error(error.response?.data?.message || 'ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');\n    }\n  }, []);\n\n  const logout = useCallback(async () => {\n    // ë¡œê·¸ì•„ì›ƒ API í˜¸ì¶œ: ì„œë²„ëŠ” ì¿ í‚¤ë¥¼ ì œê±°\n    try {\n      await authAPI.logout(); \n    } catch (error) {\n      // ì„œë²„ ì¸¡ ë¡œê·¸ì•„ì›ƒ ì‹¤íŒ¨ ì‹œì—ë„ í´ë¼ì´ì–¸íŠ¸ ìƒíƒœëŠ” ì´ˆê¸°í™”\n      console.error('ì„œë²„ ë¡œê·¸ì•„ì›ƒ ì˜¤ë¥˜:', error);\n    }\n    setUser(null);\n  }, []);\n\n  // Context valueë¥¼ useMemoë¡œ ë©”ëª¨ì´ì œì´ì…˜í•˜ì—¬ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€\n  const value = useMemo(() => ({\n    user,\n    login,\n    logout,\n    // isAuthenticatedëŠ” user ê°ì²´ì˜ ìœ ë¬´ë¡œ íŒë‹¨\n    isAuthenticated: !!user,\n    isLoading,\n  }), [user, login, logout, isLoading]);\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n\n\n","import React, { createContext, useState, useEffect, useCallback, useMemo, ReactNode, useContext } from 'react'\nimport { settingsAPI } from '../services/api'\nimport { SettingsFormData } from '../types'\n\n// =================================================================\n// ì´ˆê¸° ì„¤ì •ê°’ ì •ì˜ (ê¸°ë³¸ê°’ ì œê³µ) - ìƒìˆ˜ë¡œ í•œ ë²ˆë§Œ ìƒì„±\n// =================================================================\n\nconst INITIAL_SETTINGS: Partial<SettingsFormData> = {\n  // GeneralInfo ê¸°ë³¸ê°’\n  fullName: '',\n  firstName: '',\n  role: '',\n  subtitle: '',\n  location: '',\n  education: '',\n  yearsOfExperience: '',\n  \n  // ContactInfo ê¸°ë³¸ê°’\n  email: '',\n  phone: '',\n  githubUrl: '',\n  linkedinUrl: '',\n  \n  // ContentText ê¸°ë³¸ê°’\n  heroTitle: '',\n  heroSubtitle: '',\n  heroTag: '',\n  heroCtaLink1: '',\n  heroCtaLink2: '',\n  aboutTitle: '',\n  aboutSubtitle: '',\n  aboutDescription1: '',\n  aboutDescription2: '',\n  skillsTitle: '',\n  skillsSubtitle: '',\n  projectsTitle: '',\n  projectsSubtitle: '',\n  // ğŸŒŸ í”„ë¡œì íŠ¸ ì—…ë°ì´íŠ¸ ì¹´ë“œ ê¸°ë³¸ê°’ (ë¹ˆ ê°’ìœ¼ë¡œ ì„¤ì • - ê´€ë¦¬ìê°€ ì§ì ‘ ì…ë ¥)\n  projectsUpdateTitle: '',\n  projectsUpdateDescription: '',\n  projectsUpdateTechList: [],\n  booksTitle: '',\n  booksSubtitle: '',\n  contactTitle: '',\n  contactSubtitle: '',\n  experienceTitle: '',\n  experienceSubtitle: '',\n  \n  // ğŸŒŸ í•™ìŠµ ëª©í‘œ ê¸°ë³¸ê°’\n  learningGoalsTitle: 'ì•ìœ¼ë¡œì˜ í•™ìŠµ ëª©í‘œ',\n  learningGoalsDescription: '4ì°¨ ì‚°ì—…í˜ëª… ì‹œëŒ€ì— ë°œë§ì¶° **ì§€ëŠ¥í˜• ê³µì¥(Smart Factory) êµ¬í˜„**ì„ ìœ„í•´ ë‹¤ìŒ ê¸°ìˆ ë“¤ì„ ì§‘ì¤‘ì ìœ¼ë¡œ íƒêµ¬í•˜ì—¬ ì „ë¬¸ì„±ì„ í™•ëŒ€í•´ ë‚˜ê°€ê² ìŠµë‹ˆë‹¤.',\n  learningGoalsList: ['ì²¨ë‹¨ ë¡œë´‡ ì œì–´', 'ë”¥ëŸ¬ë‹ ê¸°ë°˜ ë¹„ì „ ì‹œìŠ¤í…œ', 'ì—£ì§€ ì»´í“¨íŒ…', 'í´ë¼ìš°ë“œ ì—°ë™', 'MES/ERP ì—°ë™ ê¸°ìˆ '],\n  \n  // Stats ê¸°ë³¸ê°’\n  stat1Number: '',\n  stat1Label: '',\n  stat2Number: '',\n  stat2Label: '',\n  stat3Number: '',\n  stat3Label: '',\n  \n  // MainSkills ê¸°ë³¸ê°’\n  mainSkills: [],\n}\n\n// =================================================================\n// Context íƒ€ì… ì •ì˜ ë° ìƒì„±\n// =================================================================\n\ninterface SiteSettingsContextType {\n  settings: SettingsFormData;\n  loading: boolean;\n  error: string | null;\n  refetchSettings: () => Promise<void>; // ê´€ë¦¬ì í˜ì´ì§€ë¥¼ ìœ„í•œ ìˆ˜ë™ ìƒˆë¡œê³ ì¹¨ í•¨ìˆ˜\n}\n\nconst SiteSettingsContext = createContext<SiteSettingsContextType | undefined>(undefined);\n\n// =================================================================\n// Provider ì»´í¬ë„ŒíŠ¸\n// =================================================================\n\ninterface SiteSettingsProviderProps {\n  children: ReactNode;\n}\n\nexport const SiteSettingsProvider: React.FC<SiteSettingsProviderProps> = ({ children }) => {\n  const [settings, setSettings] = useState<SettingsFormData>(INITIAL_SETTINGS as SettingsFormData);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // ì„¤ì • ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜\n  const fetchSettings = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await settingsAPI.get();\n      \n      const mergedSettings = {\n        ...INITIAL_SETTINGS,\n        ...response.data\n      };\n      \n      setSettings(mergedSettings);\n    } catch (err) {\n      console.error('Failed to fetch settings:', err);\n      setError('ì„¤ì •ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');\n      setSettings(INITIAL_SETTINGS as SettingsFormData);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Providerê°€ ë§ˆìš´íŠ¸ë  ë•Œ *ë‹¨ í•œ ë²ˆë§Œ* ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. (ìºì‹±)\n  useEffect(() => {\n    fetchSettings();\n  }, [fetchSettings]);\n\n  const refetchSettings = useCallback(async () => {\n      await fetchSettings();\n  }, [fetchSettings]);\n\n  // Context valueë¥¼ useMemoë¡œ ë©”ëª¨ì´ì œì´ì…˜í•˜ì—¬ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€\n  const value = useMemo(() => ({\n    settings,\n    loading,\n    error,\n    refetchSettings\n  }), [settings, loading, error, refetchSettings]);\n\n  return (\n    <SiteSettingsContext.Provider value={value}>\n      {children}\n    </SiteSettingsContext.Provider>\n  );\n};\n\n// =================================================================\n// Custom Hook: ì´ì œ Contextë¥¼ ì†Œë¹„í•©ë‹ˆë‹¤.\n// =================================================================\n\nexport const useSiteSettings = () => {\n  const context = useContext(SiteSettingsContext);\n  if (context === undefined) {\n    throw new Error('useSiteSettings must be used within a SiteSettingsProvider');\n  }\n  return context;\n};\n","import { useEffect, useState, useCallback, useRef } from 'react'\n\n// ì„¹ì…˜ ID ëª©ë¡ ì •ì˜\nexport const SECTION_IDS = [\n  'hero',\n  'about', \n  'experience',\n  'skills',\n  'projects',\n  'contact',\n  'books', // Books í˜ì´ì§€ ì¶”ê°€\n  'projects-page', // Projects í˜ì´ì§€ ì¶”ê°€\n  'experience-page', // Experience í˜ì´ì§€ ì¶”ê°€\n  'about-page', // About í˜ì´ì§€ ì¶”ê°€\n  'contact-page', // Contact í˜ì´ì§€ ì¶”ê°€\n  'skills-page' // Skills í˜ì´ì§€ ì¶”ê°€\n] as const\n\nexport type SectionId = typeof SECTION_IDS[number]\n\n// ìŠ¤í¬ë¡¤ ìŠ¤íŒŒì´ í›… ì˜µì…˜ ì¸í„°í˜ì´ìŠ¤\ninterface UseScrollSpyOptions {\n  /** í™œì„±í™” ê¸°ì¤€ì  ì˜¤í”„ì…‹ (í”½ì…€) - ê¸°ë³¸ê°’: 80px */\n  offset?: number\n  /** ë””ë°”ìš´ìŠ¤ ì§€ì—° ì‹œê°„ (ë°€ë¦¬ì´ˆ) - ê¸°ë³¸ê°’: 100ms */\n  debounceDelay?: number\n}\n\n// ê¸°ë³¸ ì˜µì…˜\nconst DEFAULT_OPTIONS: Required<UseScrollSpyOptions> = {\n  offset: 80,\n  debounceDelay: 100\n}\n\n// ë””ë°”ìš´ìŠ¤ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜\nconst debounce = <T extends (...args: any[]) => any>(\n  func: T,\n  delay: number\n): ((...args: Parameters<T>) => void) => {\n  let timeoutId: number | null = null\n  \n  return (...args: Parameters<T>) => {\n    if (timeoutId) {\n      clearTimeout(timeoutId)\n    }\n    \n    timeoutId = setTimeout(() => {\n      func(...args)\n    }, delay)\n  }\n}\n\n// ìŠ¤í¬ë¡¤ ìŠ¤íŒŒì´ í›…\nexport const useScrollSpy = (options: UseScrollSpyOptions = {}) => {\n  const { offset, debounceDelay } = { ...DEFAULT_OPTIONS, ...options }\n  const [activeSection, setActiveSection] = useState<SectionId>('hero')\n  const timeoutRef = useRef<number | null>(null)\n\n  const handleScroll = useCallback(() => {\n    // í˜„ì¬ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ + ì˜¤í”„ì…‹ì„ í™œì„±í™” ê¸°ì¤€ì ìœ¼ë¡œ ì„¤ì •\n    const activationPoint = window.scrollY + offset\n    let newActiveSection: SectionId = 'hero' // ê¸°ë³¸ê°’\n\n    // ì„¹ì…˜ë“¤ì„ ìˆœíšŒí•˜ë©° activationPointë¥¼ ì§€ë‚œ ê°€ì¥ ë§ˆì§€ë§‰ ì„¹ì…˜ì„ ì°¾ê¸°\n    for (const sectionId of SECTION_IDS) {\n      const element = document.getElementById(sectionId)\n      if (!element) continue\n\n      // ìš”ì†Œì˜ ë¬¸ì„œ ìƒë‹¨ìœ¼ë¡œë¶€í„°ì˜ ìœ„ì¹˜ (ì˜¤í”„ì…‹ ë°˜ì˜)\n      const elementTop = element.offsetTop - offset\n      \n      // í˜„ì¬ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ê°€ ì„¹ì…˜ ìƒë‹¨ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ë‹¤ë©´, í•´ë‹¹ ì„¹ì…˜ì„ í™œì„±í™”\n      if (activationPoint >= elementTop) {\n        newActiveSection = sectionId\n      }\n    }\n    \n    setActiveSection(newActiveSection)\n  }, [offset])\n\n  // ë””ë°”ìš´ìŠ¤ëœ ìŠ¤í¬ë¡¤ í•¸ë“¤ëŸ¬\n  const debouncedHandleScroll = useCallback(\n    debounce(handleScroll, debounceDelay),\n    [handleScroll, debounceDelay]\n  )\n\n  useEffect(() => {\n    // ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡\n    window.addEventListener('scroll', debouncedHandleScroll, { passive: true })\n    \n    // ì´ˆê¸° ì‹¤í–‰ (ë””ë°”ìš´ìŠ¤ ì—†ì´ ì¦‰ì‹œ ì‹¤í–‰)\n    handleScroll()\n\n    // í´ë¦°ì—…\n    return () => {\n      window.removeEventListener('scroll', debouncedHandleScroll)\n      // ë””ë°”ìš´ìŠ¤ íƒ€ì´ë¨¸ ì •ë¦¬\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current)\n      }\n    }\n  }, [handleScroll, debouncedHandleScroll])\n\n  return activeSection\n}\n\n// ë¶€ë“œëŸ¬ìš´ ìŠ¤í¬ë¡¤ í•¨ìˆ˜ (ì˜¤í”„ì…‹ ì§€ì›)\nexport const scrollToSection = (sectionId: SectionId, offset: number = 80) => {\n  const element = document.getElementById(sectionId)\n  if (element) {\n    const elementTop = element.offsetTop - offset\n    \n    window.scrollTo({\n      top: elementTop,\n      behavior: 'smooth'\n    })\n  }\n}\n","import { useState, useEffect, useCallback, useMemo } from 'react'\nimport { skillsAPI } from '../services/api'\nimport { Skill } from '../types'\nimport { useSiteSettings } from './useSiteSettings'\n\n/**\n * ì‚¬ì´ë“œë°”ì— í‘œì‹œí•  ìŠ¤í‚¬ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ëŠ” ì»¤ìŠ¤í…€ í›…\n * \n * @returns {Object} ìŠ¤í‚¬ ë°ì´í„° ë° ë¡œë”© ìƒíƒœ\n * @property {Skill[]} coreSkills - ì‚¬ì´ë“œë°”ì— í‘œì‹œí•  í•µì‹¬ ê¸°ìˆ \n * @property {Skill[]} languageSkills - ì–¸ì–´ ì¹´ë“œì— í‘œì‹œí•  ì–¸ì–´ ìŠ¤í‚¬\n * @property {boolean} isLoadingSkills - ìŠ¤í‚¬ ë°ì´í„° ë¡œë”© ìƒíƒœ\n */\nexport const useSidebarSkills = () => {\n  const [coreSkills, setCoreSkills] = useState<Skill[]>([])\n  const [languageSkills, setLanguageSkills] = useState<Skill[]>([])\n  const [isLoadingSkills, setIsLoadingSkills] = useState(false)\n  const { settings: siteSettings } = useSiteSettings()\n\n  // ìŠ¤í‚¬ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ (useCallbackìœ¼ë¡œ ë©”ëª¨ì´ì œì´ì…˜)\n  const fetchSkills = useCallback(async () => {\n    setIsLoadingSkills(true)\n    try {\n      const response = await skillsAPI.getAll()\n      const allSkills = response.data || []\n      \n      // ì‚¬ì´ë“œë°” í•µì‹¬ ê¸°ìˆ  í•„í„°ë§ (showInSidebar: true)\n      let sidebarSkills = allSkills\n        .filter((skill: Skill) => skill.showInSidebar)\n        .sort((a: Skill, b: Skill) => a.order - b.order)\n        .slice(0, siteSettings?.sidebarSkillCount || 4)\n      \n      // ì„ íƒëœ ìŠ¤í‚¬ì´ ì—†ìœ¼ë©´ ë ˆë²¨ ë†’ì€ ìˆœìœ¼ë¡œ fallback\n      if (sidebarSkills.length === 0) {\n        sidebarSkills = allSkills\n          .sort((a: Skill, b: Skill) => b.level - a.level)\n          .slice(0, siteSettings?.sidebarSkillCount || 4)\n      }\n      setCoreSkills(sidebarSkills)\n      \n      // ì–¸ì–´ ì¹´ë“œ ìŠ¤í‚¬ í•„í„°ë§ (showInLanguageCard: true)\n      // ë ˆë²¨ ë†’ì€ ìˆœìœ¼ë¡œ ì •ë ¬ (ì™¼ìª½ì— ì˜í•˜ëŠ” ì–¸ì–´)\n      let langSkills = allSkills\n        .filter((skill: Skill) => skill.showInLanguageCard)\n        .sort((a: Skill, b: Skill) => b.level - a.level)\n        .slice(0, siteSettings?.languageCardSkillCount || 3)\n      \n      // ì„ íƒëœ ì–¸ì–´ ìŠ¤í‚¬ì´ ì—†ìœ¼ë©´ ë¹ˆ ë°°ì—´ ìœ ì§€ (ì–¸ì–´ ì¹´ë“œëŠ” ìˆ¨ê¹€)\n      setLanguageSkills(langSkills)\n    } catch (error) {\n      console.error('ìŠ¤í‚¬ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error)\n      // ì—ëŸ¬ ì‹œ ë¹ˆ ë°°ì—´ë¡œ ì„¤ì •í•˜ì—¬ \"ìŠ¤í‚¬ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤\" ë©”ì‹œì§€ í‘œì‹œ\n      setCoreSkills([])\n      setLanguageSkills([])\n    } finally {\n      setIsLoadingSkills(false)\n    }\n  }, [siteSettings?.sidebarSkillCount, siteSettings?.languageCardSkillCount])\n\n  useEffect(() => {\n    fetchSkills()\n  }, [fetchSkills])\n\n  // ë°˜í™˜ ê°ì²´ë¥¼ useMemoë¡œ ë©”ëª¨ì´ì œì´ì…˜í•˜ì—¬ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€\n  return useMemo(() => ({\n    coreSkills,\n    languageSkills,\n    isLoadingSkills\n  }), [coreSkills, languageSkills, isLoadingSkills])\n}\n\n","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { booksAPI } from '../services/api'\nimport { Book, BookFormData, BookUpdateData } from '../types'\n\n// ğŸ’¡ ì„œì  ê´€ë ¨ ì¿¼ë¦¬ í‚¤ ìƒìˆ˜ - ëª¨ë“  ì„œì  ë°ì´í„° ìºì‹œì˜ ê¸°ì¤€ì \nexport const BOOK_QUERY_KEY = 'books'\n\n// =================================================================\n// ğŸ“š ì„œì  ëª©ë¡ ì¡°íšŒ (React Query)\n// =================================================================\n\nexport const useBooks = () => {\n  return useQuery<Book[], Error>({\n    queryKey: [BOOK_QUERY_KEY, 'list'],\n    queryFn: async () => {\n      const response = await booksAPI.getAll()\n      return response.data.data || response.data || []\n    },\n    staleTime: 5 * 60 * 1000, // 5ë¶„ ë™ì•ˆ ìºì‹œ ìœ ì§€\n    gcTime: 10 * 60 * 1000, // 10ë¶„ í›„ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜\n  })\n}\n\n// =================================================================\n// ğŸ“– ê°œë³„ ì„œì  ìƒì„¸ ì¡°íšŒ (React Query)\n// =================================================================\n\nexport const useBook = (bookId: string | undefined) => {\n  return useQuery<Book, Error>({\n    queryKey: [BOOK_QUERY_KEY, 'detail', bookId],\n    queryFn: async () => {\n      if (!bookId) throw new Error('Book ID is required')\n      const response = await booksAPI.getById(bookId)\n      return response.data\n    },\n    enabled: !!bookId, // bookIdê°€ ìˆì„ ë•Œë§Œ ì‹¤í–‰\n    staleTime: 5 * 60 * 1000,\n    gcTime: 10 * 60 * 1000,\n  })\n}\n\n// =================================================================\n// âœï¸ ì„œì  ìƒì„± (React Query Mutation)\n// =================================================================\n\nexport const useCreateBook = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation<Book, Error, BookFormData>({\n    mutationFn: async (bookData: BookFormData) => {\n      const response = await booksAPI.create(bookData)\n      return response.data\n    },\n    onSuccess: () => {\n      // ğŸ’¡ ì„œì  ëª©ë¡ ìºì‹œ ë¬´íš¨í™” â†’ ìë™ìœ¼ë¡œ ë‹¤ì‹œ fetch\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'list'] })\n      // ğŸ’¡ ë°ì´í„° ì¹´ìš´íŠ¸ë„ ë¬´íš¨í™”í•˜ì—¬ ì„œì  ê°œìˆ˜ ì—…ë°ì´íŠ¸\n      queryClient.invalidateQueries({ queryKey: ['dataCounts'] })\n    },\n  })\n}\n\n// =================================================================\n// ğŸ”„ ì„œì  ìˆ˜ì • (React Query Mutation)\n// =================================================================\n\nexport const useUpdateBook = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation<Book, Error, { id: string; data: BookUpdateData }>({\n    mutationFn: async ({ id, data }) => {\n      const response = await booksAPI.update(id, data)\n      return response.data\n    },\n    onSuccess: (_, variables) => {\n      // ğŸ’¡ ì„œì  ëª©ë¡ ìºì‹œ ë¬´íš¨í™”\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'list'] })\n      // ğŸ’¡ í•´ë‹¹ ì„œì  ìƒì„¸ ìºì‹œë„ ë¬´íš¨í™”\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'detail', variables.id] })\n    },\n  })\n}\n\n// =================================================================\n// ğŸ—‘ï¸ ì„œì  ì‚­ì œ (React Query Mutation)\n// =================================================================\n\nexport const useDeleteBook = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation<void, Error, string>({\n    mutationFn: async (id: string) => {\n      await booksAPI.delete(id)\n    },\n    onSuccess: () => {\n      // ğŸ’¡ ì„œì  ëª©ë¡ ìºì‹œ ë¬´íš¨í™”\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'list'] })\n      // ğŸ’¡ ë°ì´í„° ì¹´ìš´íŠ¸ë„ ë¬´íš¨í™”í•˜ì—¬ ì„œì  ê°œìˆ˜ ì—…ë°ì´íŠ¸\n      queryClient.invalidateQueries({ queryKey: ['dataCounts'] })\n    },\n  })\n}\n\n// =================================================================\n// ğŸ”„ ê¸°ì¡´ í›… í˜¸í™˜ì„± ìœ ì§€ (ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ê°€ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡)\n// =================================================================\n\nexport const useBookManagerData = () => {\n  const { data: books = [], isLoading, isError, error, refetch } = useBooks()\n  const createMutation = useCreateBook()\n  const updateMutation = useUpdateBook()\n  const deleteMutation = useDeleteBook()\n\n  const createBook = async (bookData: BookFormData) => {\n    try {\n      const result = await createMutation.mutateAsync(bookData)\n      return { success: true, data: result }\n    } catch (error) {\n      console.error('ì„œì  ì¶”ê°€ ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }\n\n  const updateBook = async (id: string, bookData: BookUpdateData) => {\n    try {\n      const result = await updateMutation.mutateAsync({ id, data: bookData })\n      return { success: true, data: result }\n    } catch (error) {\n      console.error('ì„œì  ìˆ˜ì • ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }\n\n  const deleteBook = async (id: string) => {\n    try {\n      await deleteMutation.mutateAsync(id)\n      return { success: true }\n    } catch (error) {\n      console.error('ì„œì  ì‚­ì œ ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }\n\n  return {\n    books,\n    isLoading,\n    error: isError ? (error?.message || 'ì„œì ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.') : null,\n    isOptimistic: false, // React QueryëŠ” ìì²´ì ìœ¼ë¡œ ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ì§€ì›\n    createBook,\n    updateBook,\n    deleteBook,\n    refetch,\n  }\n}\n\nexport default useBooks\n","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { categoriesAPI } from '../services/api'\nimport { Category, CategoryFormData, CategoryUsage } from '../types'\n\n// ì¿¼ë¦¬ í‚¤\nconst CATEGORIES_QUERY_KEY = ['categories']\n\n// ğŸ” ëª¨ë“  ì¹´í…Œê³ ë¦¬ ì¡°íšŒ\nexport const useCategories = () => {\n  return useQuery({\n    queryKey: CATEGORIES_QUERY_KEY,\n    queryFn: async () => {\n      const response = await categoriesAPI.getAll()\n      return response.data\n    }\n  })\n}\n\n// ğŸ” íŠ¹ì • ì¹´í…Œê³ ë¦¬ ì¡°íšŒ\nexport const useCategory = (id: string | undefined) => {\n  return useQuery({\n    queryKey: [...CATEGORIES_QUERY_KEY, id],\n    queryFn: async () => {\n      if (!id) throw new Error('IDê°€ í•„ìš”í•©ë‹ˆë‹¤')\n      const response = await categoriesAPI.getById(id)\n      return response.data\n    },\n    enabled: !!id\n  })\n}\n\n// ğŸ“Š ì¹´í…Œê³ ë¦¬ ì‚¬ìš© í†µê³„ ì¡°íšŒ\nexport const useCategoryUsage = (id: string | undefined) => {\n  return useQuery({\n    queryKey: [...CATEGORIES_QUERY_KEY, id, 'usage'],\n    queryFn: async () => {\n      if (!id) throw new Error('IDê°€ í•„ìš”í•©ë‹ˆë‹¤')\n      const response = await categoriesAPI.getUsage(id)\n      return response.data\n    },\n    enabled: !!id\n  })\n}\n\n// âœï¸ ì¹´í…Œê³ ë¦¬ ìƒì„±\nexport const useCreateCategory = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation({\n    mutationFn: async (data: CategoryFormData) => {\n      const response = await categoriesAPI.create(data)\n      return response.data\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: CATEGORIES_QUERY_KEY })\n    }\n  })\n}\n\n// ğŸ”„ ì¹´í…Œê³ ë¦¬ ìˆ˜ì •\nexport const useUpdateCategory = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation({\n    mutationFn: async ({ id, data }: { id: string; data: CategoryFormData }) => {\n      const response = await categoriesAPI.update(id, data)\n      return response.data\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: CATEGORIES_QUERY_KEY })\n    }\n  })\n}\n\n// ğŸ—‘ï¸ ì¹´í…Œê³ ë¦¬ ì‚­ì œ\nexport const useDeleteCategory = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation({\n    mutationFn: async (id: string) => {\n      const response = await categoriesAPI.delete(id)\n      return response.data\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: CATEGORIES_QUERY_KEY })\n    }\n  })\n}\n\n// ğŸ”§ ì¹´í…Œê³ ë¦¬ ê´€ë¦¬ë¥¼ ìœ„í•œ í†µí•© í›…\nexport const useCategoryManagerData = () => {\n  const { data: categories = [], isLoading } = useCategories()\n  const createMutation = useCreateCategory()\n  const updateMutation = useUpdateCategory()\n  const deleteMutation = useDeleteCategory()\n\n  return {\n    categories,\n    isLoading,\n    createCategory: async (data: CategoryFormData) => {\n      try {\n        await createMutation.mutateAsync(data)\n        return { success: true }\n      } catch (error: any) {\n        console.error('ì¹´í…Œê³ ë¦¬ ìƒì„± ì‹¤íŒ¨:', error)\n        return { success: false, error }\n      }\n    },\n    updateCategory: async (id: string, data: CategoryFormData) => {\n      try {\n        await updateMutation.mutateAsync({ id, data })\n        return { success: true }\n      } catch (error: any) {\n        console.error('ì¹´í…Œê³ ë¦¬ ìˆ˜ì • ì‹¤íŒ¨:', error)\n        return { success: false, error }\n      }\n    },\n    deleteCategory: async (id: string) => {\n      try {\n        await deleteMutation.mutateAsync(id)\n        return { success: true }\n      } catch (error: any) {\n        console.error('ì¹´í…Œê³ ë¦¬ ì‚­ì œ ì‹¤íŒ¨:', error)\n        return { success: false, error }\n      }\n    }\n  }\n}\n","import { useState } from 'react'\nimport { useMutation, useQueryClient } from '@tanstack/react-query'\nimport { learningsAPI } from '../services/api'\nimport { Learning, LearningFormData, Book, Chapter } from '../types'\nimport { BOOK_QUERY_KEY } from './useBooks'\n\n/**\n * ğŸŒŸ React Query ê¸°ë°˜ í•™ìŠµ ë‚´ìš©(Learning) ê´€ë¦¬ í›…\n * \n * ì£¼ìš” ê°œì„ ì‚¬í•­:\n * 1. React Query Mutation ì‚¬ìš©ìœ¼ë¡œ ìºì‹œ ìë™ ê´€ë¦¬\n * 2. ì„œì  ìƒì„¸ ì •ë³´ ìºì‹œ ë¬´íš¨í™”ë¡œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸\n * 3. ë°ì´í„° ì¹´ìš´íŠ¸ ìë™ ë™ê¸°í™”\n * 4. ìŠ¤í‚¬ ì—°ê²°/í•´ì œ ë‚™ê´€ì  ì—…ë°ì´íŠ¸\n */\n\n// =================================================================\n// âœï¸ í•™ìŠµ ë‚´ìš© ìƒì„± (React Query Mutation)\n// =================================================================\n\nexport const useCreateLearning = (bookId: string) => {\n  const queryClient = useQueryClient()\n\n  return useMutation<Learning, Error, LearningFormData>({\n    mutationFn: async (data: LearningFormData) => {\n      const response = await learningsAPI.createForBook(bookId, data)\n      return response.data\n    },\n    onSuccess: () => {\n      // ğŸ’¡ í•´ë‹¹ ì„œì  ìƒì„¸ ìºì‹œ ë¬´íš¨í™” â†’ BookDetail ìë™ ì—…ë°ì´íŠ¸\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'detail', bookId] })\n      // ğŸ’¡ ì„œì  ëª©ë¡ë„ ë¬´íš¨í™” (learnings ë°°ì—´ì´ í¬í•¨ë  ìˆ˜ ìˆìŒ)\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'list'] })\n      // ğŸ’¡ ëª©ì°¨(chapters) ìºì‹œë„ ë¬´íš¨í™”\n      queryClient.invalidateQueries({ queryKey: ['chapters', bookId] })\n    },\n  })\n}\n\n// =================================================================\n// ğŸ”„ í•™ìŠµ ë‚´ìš© ìˆ˜ì • (React Query Mutation)\n// =================================================================\n\nexport const useUpdateLearning = (bookId: string) => {\n  const queryClient = useQueryClient()\n\n  return useMutation<Learning, Error, { learningId: string; data: LearningFormData }>({\n    mutationFn: async ({ learningId, data }) => {\n      const response = await learningsAPI.updateForBook(bookId, learningId, data)\n      return response.data\n    },\n    onSuccess: () => {\n      // ğŸ’¡ í•´ë‹¹ ì„œì  ìƒì„¸ ìºì‹œ ë¬´íš¨í™”\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'detail', bookId] })\n      // ğŸ’¡ ì„œì  ëª©ë¡ë„ ë¬´íš¨í™”\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'list'] })\n      // ğŸ’¡ ëª©ì°¨(chapters) ìºì‹œë„ ë¬´íš¨í™”\n      queryClient.invalidateQueries({ queryKey: ['chapters', bookId] })\n    },\n  })\n}\n\n// =================================================================\n// ğŸ—‘ï¸ í•™ìŠµ ë‚´ìš© ì‚­ì œ (React Query Mutation)\n// =================================================================\n\nexport const useDeleteLearning = (bookId: string) => {\n  const queryClient = useQueryClient()\n\n  return useMutation<void, Error, string>({\n    mutationFn: async (learningId: string) => {\n      await learningsAPI.deleteForBook(bookId, learningId)\n    },\n    onSuccess: () => {\n      // ğŸ’¡ í•´ë‹¹ ì„œì  ìƒì„¸ ìºì‹œ ë¬´íš¨í™”\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'detail', bookId] })\n      // ğŸ’¡ ì„œì  ëª©ë¡ë„ ë¬´íš¨í™”\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'list'] })\n      // ğŸ’¡ ëª©ì°¨(chapters) ìºì‹œë„ ë¬´íš¨í™”\n      queryClient.invalidateQueries({ queryKey: ['chapters', bookId] })\n    },\n  })\n}\n\n// =================================================================\n// ğŸ”— í•™ìŠµ ë‚´ìš© ìŠ¤í‚¬ ì—…ë°ì´íŠ¸ (React Query Mutation)\n// =================================================================\n\nexport const useUpdateLearningSkills = (bookId: string) => {\n  const queryClient = useQueryClient()\n\n  return useMutation<Learning, Error, { learningId: string; skillIds: string[] }>({\n    mutationFn: async ({ learningId, skillIds }) => {\n      // ğŸ’¡ learningsAPI.updateSkills í•¨ìˆ˜ ì‚¬ìš©\n      const response = await learningsAPI.updateSkills(bookId, learningId, skillIds)\n      return response.data\n    },\n    onSuccess: () => {\n      // ìŠ¤í‚¬ ì—…ë°ì´íŠ¸ ì„±ê³µ ì‹œ, Book Detail ìºì‹œë¥¼ ë¬´íš¨í™”í•˜ì—¬ ëª¨ë“  UIë¥¼ ìƒˆë¡œê³ ì¹¨\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'detail', bookId] })\n      // ì„œì  ëª©ë¡ë„ ë¬´íš¨í™”\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'list'] })\n      // ëª©ì°¨(chapters) ìºì‹œë„ ë¬´íš¨í™”\n      queryClient.invalidateQueries({ queryKey: ['chapters', bookId] })\n    },\n  })\n}\n\n// =================================================================\n// ğŸ”„ ê¸°ì¡´ í›… í˜¸í™˜ì„± ìœ ì§€ (useLearningManager)\n// =================================================================\n\n/**\n * í•™ìŠµ ë‚´ìš©(Learning)ì˜ ì¶”ê°€, ìˆ˜ì •, ì‚­ì œ ë° í¼ ìƒíƒœ ê´€ë¦¬ë¥¼ ë‹´ë‹¹í•˜ëŠ” ì»¤ìŠ¤í…€ í›…\n * @param bookId í˜„ì¬ ì„œì  ID\n */\nexport const useLearningManager = (bookId: string) => {\n  const queryClient = useQueryClient()\n  \n  // í¼ ë° ì•¡ì…˜ ê´€ë ¨ ìƒíƒœ\n  const [editingLearningId, setEditingLearningId] = useState<string | null>(null)\n  const [editingChapterId, setEditingChapterId] = useState<string | null>(null)\n  const [currentFormData, setCurrentFormData] = useState<LearningFormData>({ topic: '', content: '' })\n  const [showAddForm, setShowAddForm] = useState(false)\n  const [apiError, setApiError] = useState<string | null>(null)\n\n  // React Query Mutations\n  const createMutation = useCreateLearning(bookId)\n  const updateMutation = useUpdateLearning(bookId)\n  const deleteMutation = useDeleteLearning(bookId)\n  const updateSkillsMutation = useUpdateLearningSkills(bookId)  // ğŸŒŸ ìŠ¤í‚¬ ì—…ë°ì´íŠ¸ Mutation ì¶”ê°€\n\n  const isSaving = createMutation.isPending || updateMutation.isPending || deleteMutation.isPending || updateSkillsMutation.isPending\n\n  // í¼ ë‹«ê¸°/ì´ˆê¸°í™” ê³µí†µ ë¡œì§\n  const resetFormState = () => {\n    setEditingLearningId(null)\n    setEditingChapterId(null)\n    setCurrentFormData({ topic: '', content: '' })\n    setShowAddForm(false)\n  }\n\n  // í•™ìŠµ ë‚´ìš© ì¶”ê°€ í¼ í‘œì‹œ/ìˆ¨ê¹€ í† ê¸€\n  const handleToggleAddForm = () => {\n    if (editingLearningId) {\n      handleCancelEdit()\n    }\n    if (showAddForm) {\n      setCurrentFormData({ topic: '', content: '' })\n    }\n    setShowAddForm(prev => !prev)\n    setApiError(null)\n  }\n\n  // ğŸŒŸ í•™ìŠµ ë‚´ìš© ì¶”ê°€ (React Query Mutation ì‚¬ìš©)\n  const handleAddLearning = async () => {\n    if (!currentFormData.topic || !currentFormData.content) return\n\n    try {\n      setApiError(null)\n      await createMutation.mutateAsync(currentFormData)\n      resetFormState()\n    } catch (error) {\n      console.error('Failed to add learning:', error)\n      setApiError('í•™ìŠµ ë‚´ìš© ì¶”ê°€ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.')\n    }\n  }\n\n  // ğŸŒŸ í•™ìŠµ ë‚´ìš© ì‚­ì œ (ëª©ì°¨ ê¸°ë°˜/ì§ì ‘ í•™ìŠµ ë‚´ìš© êµ¬ë¶„)\n  const handleDeleteLearning = async (learningId: string, chapterId?: string) => {\n    if (!confirm('ì´ í•™ìŠµ ë‚´ìš©ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return\n\n    try {\n      setApiError(null)\n      \n      // ëª©ì°¨ ê¸°ë°˜ í•™ìŠµ ë‚´ìš©ì¸ ê²½ìš°\n      if (chapterId) {\n        await learningsAPI.deleteForChapter(bookId, chapterId, learningId)\n        console.log('âœ… ëª©ì°¨ í•™ìŠµ ë‚´ìš© ì‚­ì œ ì„±ê³µ')\n      } else {\n        // ì§ì ‘ í•™ìŠµ ë‚´ìš©ì¸ ê²½ìš°\n        await deleteMutation.mutateAsync(learningId)\n      }\n      \n      // ìºì‹œ ë¬´íš¨í™”\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'detail', bookId] })\n      queryClient.invalidateQueries({ queryKey: ['chapters', bookId] })\n    } catch (error) {\n      console.error('Failed to delete learning:', error)\n      setApiError('í•™ìŠµ ë‚´ìš© ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.')\n    }\n  }\n\n  // í•™ìŠµ ë‚´ìš© ìˆ˜ì • ì‹œì‘\n  const handleStartEdit = (learning: Learning, chapterId?: string) => {\n    setShowAddForm(false)\n    setEditingLearningId(learning._id)\n    setEditingChapterId(chapterId || null)\n    setCurrentFormData({ topic: learning.topic, content: learning.content })\n    setApiError(null)\n  }\n\n  // ğŸŒŸ í•™ìŠµ ë‚´ìš© ìˆ˜ì • ì €ì¥ (ëª©ì°¨ ê¸°ë°˜/ì§ì ‘ í•™ìŠµ ë‚´ìš© êµ¬ë¶„)\n  const handleSaveEdit = async () => {\n    if (!editingLearningId || !currentFormData.topic || !currentFormData.content) return\n\n    try {\n      setApiError(null)\n      \n      // ëª©ì°¨ ê¸°ë°˜ í•™ìŠµ ë‚´ìš©ì¸ ê²½ìš°\n      if (editingChapterId) {\n        const response = await learningsAPI.updateForChapter(\n          bookId, \n          editingChapterId, \n          editingLearningId, \n          currentFormData\n        )\n        console.log('âœ… ëª©ì°¨ í•™ìŠµ ë‚´ìš© ìˆ˜ì • ì„±ê³µ:', response.data)\n      } else {\n        // ì§ì ‘ í•™ìŠµ ë‚´ìš©ì¸ ê²½ìš°\n        await updateMutation.mutateAsync({\n          learningId: editingLearningId,\n          data: currentFormData\n        })\n      }\n      \n      // ìºì‹œ ë¬´íš¨í™”\n      queryClient.invalidateQueries({ queryKey: [BOOK_QUERY_KEY, 'detail', bookId] })\n      queryClient.invalidateQueries({ queryKey: ['chapters', bookId] })\n      \n      resetFormState()\n    } catch (error) {\n      console.error('Failed to update learning:', error)\n      setApiError('í•™ìŠµ ë‚´ìš© ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.')\n    }\n  }\n\n  // í•™ìŠµ ë‚´ìš© ìˆ˜ì • ì·¨ì†Œ\n  const handleCancelEdit = () => {\n    resetFormState()\n    setApiError(null)\n  }\n\n  // =================================================================\n  // ğŸŒŸ ìŠ¤í‚¬ ì—°ê²°/í•´ì œ í•¸ë“¤ëŸ¬ (ë‚™ê´€ì  ì—…ë°ì´íŠ¸ í¬í•¨)\n  // =================================================================\n\n  /**\n   * íŠ¹ì • í•™ìŠµ ë‚´ìš©ì— ìŠ¤í‚¬ì„ ì—°ê²°í•˜ê±°ë‚˜ í•´ì œí•©ë‹ˆë‹¤.\n   * ë‚™ê´€ì  ì—…ë°ì´íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ UI ë°˜ì‘ ì†ë„ë¥¼ ë†’ì…ë‹ˆë‹¤.\n   */\n  const handleSkillLinkChange = async (learningId: string, skillId: string, isLinked: boolean) => {\n    const queryKey = [BOOK_QUERY_KEY, 'detail', bookId]\n    const chaptersQueryKey = ['chapters', bookId]\n    \n    // 1. Optimistic Updateë¥¼ ìœ„í•œ í˜„ì¬ ìºì‹œ ê°€ì ¸ì˜¤ê¸°\n    const previousBook = queryClient.getQueryData<Book>(queryKey)\n    const previousChapters = queryClient.getQueryData<Chapter[]>(chaptersQueryKey)\n\n    try {\n      setApiError(null)\n\n      // 2. ìƒˆë¡œìš´ skillIds ë°°ì—´ ê³„ì‚°\n      let newSkillIds: string[] = []\n      \n      // í˜„ì¬ í•™ìŠµ ë‚´ìš©ì„ ì°¾ê¸°\n      const currentLearning = (previousChapters || []).flatMap(c => c.learnings || []).find(l => l._id === learningId)\n                              || (previousBook?.learnings || []).find(l => l._id === learningId)\n\n      if (currentLearning) {\n        const currentSkillIds = currentLearning.skillIds || []\n        if (isLinked) {\n          // ì—°ê²°: skillId ì¶”ê°€ (ì¤‘ë³µ ë°©ì§€)\n          newSkillIds = Array.from(new Set([...currentSkillIds, skillId]))\n        } else {\n          // í•´ì œ: skillId ì œê±°\n          newSkillIds = currentSkillIds.filter((id: string) => id !== skillId)\n        }\n      } else {\n        // Learningì„ ì°¾ì„ ìˆ˜ ì—†ëŠ” ê²½ìš°\n        newSkillIds = isLinked ? [skillId] : []\n      }\n      \n      // 3. Optimistic Update ì‹¤í–‰: chapters ìºì‹œ ì—…ë°ì´íŠ¸\n      if (previousChapters) {\n        queryClient.setQueryData<Chapter[]>(chaptersQueryKey, (oldChapters) => {\n          if (!oldChapters) return oldChapters\n          \n          return oldChapters.map((chapter) => ({\n            ...chapter,\n            learnings: (chapter.learnings || []).map((learning) => \n              learning._id === learningId ? { ...learning, skillIds: newSkillIds } : learning\n            )\n          }))\n        })\n      }\n      \n      // Book ìºì‹œë„ ì—…ë°ì´íŠ¸ (ê¸°ì¡´ learnings ì§€ì›)\n      if (previousBook) {\n        queryClient.setQueryData<Book>(queryKey, (oldBook) => {\n          if (!oldBook) return oldBook\n          \n          // ëª©ì°¨ ê¸°ë°˜ì¼ ê²½ìš°\n          if (oldBook.chapters && oldBook.chapters.length > 0) {\n            return {\n              ...oldBook,\n              chapters: oldBook.chapters.map((chapter: Chapter) => ({\n                ...chapter,\n                learnings: (chapter.learnings || []).map((learning: Learning) => \n                  learning._id === learningId ? { ...learning, skillIds: newSkillIds } : learning\n                )\n              }))\n            }\n          }\n          \n          // ê¸°ì¡´ í•™ìŠµ ë‚´ìš© ë¦¬ìŠ¤íŠ¸ ê¸°ë°˜ì¼ ê²½ìš°\n          return {\n            ...oldBook,\n            learnings: (oldBook.learnings || []).map((learning: Learning) => \n              learning._id === learningId ? { ...learning, skillIds: newSkillIds } : learning\n            )\n          }\n        })\n      }\n\n      // 4. ì„œë²„ API í˜¸ì¶œ\n      await updateSkillsMutation.mutateAsync({ learningId, skillIds: newSkillIds })\n\n    } catch (error) {\n      console.error('Failed to update learning skills:', error)\n      setApiError('ìŠ¤í‚¬ ì—°ê²°/í•´ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.')\n\n      // 5. ì—ëŸ¬ ë°œìƒ ì‹œ ë¡¤ë°±: ì´ì „ ë°ì´í„°ë¡œ ë³µì›\n      if (previousChapters) {\n        queryClient.setQueryData(chaptersQueryKey, previousChapters)\n      }\n      if (previousBook) {\n        queryClient.setQueryData(queryKey, previousBook)\n      } else {\n        // ì´ì „ ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ìºì‹œë¥¼ ë¬´íš¨í™”í•˜ì—¬ ì„œë²„ì—ì„œ ë‹¤ì‹œ ê°€ì ¸ì˜¤ë„ë¡ í•©ë‹ˆë‹¤\n        queryClient.invalidateQueries({ queryKey })\n        queryClient.invalidateQueries({ queryKey: chaptersQueryKey })\n      }\n    }\n  }\n\n  return {\n    editingLearningId,\n    currentFormData,\n    setCurrentFormData,\n    showAddForm,\n    isSaving,\n    learningApiError: apiError,\n    handleToggleAddForm,\n    handleAddLearning,\n    handleDeleteLearning,\n    handleStartEdit,\n    handleSaveEdit,\n    handleCancelEdit,\n    handleSkillLinkChange,  // ğŸŒŸ ìƒˆë¡œìš´ í•¸ë“¤ëŸ¬ ì¶”ê°€\n  }\n}\n","import { useQuery } from '@tanstack/react-query';\nimport { skillsAPI } from '../services/api';\nimport { SkillCategory } from '../types';\n\ninterface UseSkillsResult {\n  skillCategories: SkillCategory[];\n  loading: boolean;\n  error: string | null;\n  refetch: () => void;\n}\n\n// React Queryë¥¼ ì‚¬ìš©í•œ ë°ì´í„° í˜ì¹­\nconst fetchSkillCategories = async (): Promise<SkillCategory[]> => {\n  const response = await skillsAPI.getCategories();\n  // API ì‘ë‹µì´ { data: [...] } í˜•íƒœì¸ì§€ í™•ì¸\n  const categories = response.data?.data || response.data || [];\n  return categories;\n};\n\nexport const useSkills = (): UseSkillsResult => {\n  const {\n    data: skillCategories = [],\n    isLoading: loading,\n    error,\n    refetch\n  } = useQuery({\n    queryKey: ['skillCategories'],\n    queryFn: fetchSkillCategories,\n    staleTime: 5 * 60 * 1000, // 5ë¶„\n    cacheTime: 10 * 60 * 1000, // 10ë¶„\n  });\n\n  return { \n    skillCategories, \n    loading, \n    error: error ? 'ìŠ¤í‚¬ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.' : null, \n    refetch \n  };\n};\n","import { useQuery, useMutation, useQueryClient, UseQueryResult } from '@tanstack/react-query'\nimport { videoLearningsAPI } from '../services/api'\nimport { VideoLearning, VideoLearningFormData } from '../types'\n\n// =================================================================\n// ğŸ“¹ VideoLearning Query Keys\n// =================================================================\n\nconst VIDEO_LEARNING_QUERY_KEY = 'videoLearnings'\n\n// =================================================================\n// ğŸ“¥ ì˜ìƒ í•™ìŠµ ëª©ë¡ ì¡°íšŒ (React Query)\n// =================================================================\n\nexport const useVideoLearnings = (): UseQueryResult<VideoLearning[], Error> => {\n  return useQuery<VideoLearning[], Error>({\n    queryKey: [VIDEO_LEARNING_QUERY_KEY, 'list'],\n    queryFn: async () => {\n      const response = await videoLearningsAPI.getAll()\n      return response.data?.data || response.data || []\n    },\n    staleTime: 5 * 60 * 1000,  // 5ë¶„\n  })\n}\n\n// =================================================================\n// ğŸ“¥ íŠ¹ì • ì˜ìƒ í•™ìŠµ ì¡°íšŒ (React Query)\n// =================================================================\n\nexport const useVideoLearning = (id: string | undefined): UseQueryResult<VideoLearning, Error> => {\n  return useQuery<VideoLearning, Error>({\n    queryKey: [VIDEO_LEARNING_QUERY_KEY, 'detail', id],\n    queryFn: async () => {\n      if (!id) throw new Error('ID is required')\n      const response = await videoLearningsAPI.getById(id)\n      return response.data\n    },\n    enabled: !!id,\n    staleTime: 5 * 60 * 1000,\n  })\n}\n\n// =================================================================\n// â• ì˜ìƒ í•™ìŠµ ìƒì„± (React Query Mutation)\n// =================================================================\n\nexport const useCreateVideoLearning = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation<VideoLearning, Error, VideoLearningFormData>({\n    mutationFn: async (data: VideoLearningFormData) => {\n      const response = await videoLearningsAPI.create(data)\n      return response.data\n    },\n    onSuccess: () => {\n      // ëª©ë¡ ìºì‹œ ë¬´íš¨í™”\n      queryClient.invalidateQueries({ queryKey: [VIDEO_LEARNING_QUERY_KEY, 'list'] })\n      // ë°ì´í„° ì¹´ìš´íŠ¸ë„ ë¬´íš¨í™”\n      queryClient.invalidateQueries({ queryKey: ['dataCounts'] })\n    },\n  })\n}\n\n// =================================================================\n// âœï¸ ì˜ìƒ í•™ìŠµ ìˆ˜ì • (React Query Mutation)\n// =================================================================\n\nexport const useUpdateVideoLearning = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation<VideoLearning, Error, { id: string; data: VideoLearningFormData }>({\n    mutationFn: async ({ id, data }) => {\n      const response = await videoLearningsAPI.update(id, data)\n      return response.data\n    },\n    onSuccess: (_, variables) => {\n      // ëª©ë¡ ìºì‹œ ë¬´íš¨í™”\n      queryClient.invalidateQueries({ queryKey: [VIDEO_LEARNING_QUERY_KEY, 'list'] })\n      // í•´ë‹¹ ì˜ìƒ í•™ìŠµ ìƒì„¸ ìºì‹œë„ ë¬´íš¨í™”\n      queryClient.invalidateQueries({ queryKey: [VIDEO_LEARNING_QUERY_KEY, 'detail', variables.id] })\n    },\n  })\n}\n\n// =================================================================\n// ğŸ—‘ï¸ ì˜ìƒ í•™ìŠµ ì‚­ì œ (React Query Mutation)\n// =================================================================\n\nexport const useDeleteVideoLearning = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation<void, Error, string>({\n    mutationFn: async (id: string) => {\n      await videoLearningsAPI.delete(id)\n    },\n    onSuccess: () => {\n      // ëª©ë¡ ìºì‹œ ë¬´íš¨í™”\n      queryClient.invalidateQueries({ queryKey: [VIDEO_LEARNING_QUERY_KEY, 'list'] })\n      // ë°ì´í„° ì¹´ìš´íŠ¸ë„ ë¬´íš¨í™”\n      queryClient.invalidateQueries({ queryKey: ['dataCounts'] })\n    },\n  })\n}\n\n// =================================================================\n// ğŸ”„ ê¸°ì¡´ í›… í˜¸í™˜ì„± ìœ ì§€ (ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ê°€ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡)\n// =================================================================\n\nexport const useVideoLearningManagerData = () => {\n  const { data: videoLearnings = [], isLoading, isError, error, refetch } = useVideoLearnings()\n  const createMutation = useCreateVideoLearning()\n  const updateMutation = useUpdateVideoLearning()\n  const deleteMutation = useDeleteVideoLearning()\n\n  const createVideoLearning = async (data: VideoLearningFormData) => {\n    try {\n      await createMutation.mutateAsync(data)\n      return { success: true }\n    } catch (error) {\n      console.error('VideoLearning ìƒì„± ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }\n\n  const updateVideoLearning = async (id: string, data: VideoLearningFormData) => {\n    try {\n      await updateMutation.mutateAsync({ id, data })\n      return { success: true }\n    } catch (error) {\n      console.error('VideoLearning ìˆ˜ì • ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }\n\n  const deleteVideoLearning = async (id: string) => {\n    try {\n      await deleteMutation.mutateAsync(id)\n      return { success: true }\n    } catch (error) {\n      console.error('VideoLearning ì‚­ì œ ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }\n\n  return {\n    videoLearnings,\n    isLoading,\n    error: isError ? error : null,\n    createVideoLearning,\n    updateVideoLearning,\n    deleteVideoLearning,\n    refetch,\n  }\n}\n\n","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { videoPlaylistsAPI, playlistVideosAPI } from '../services/api'\nimport { VideoPlaylist, VideoPlaylistFormData, PlaylistVideo, PlaylistVideoFormData } from '../types'\n\n// =================================================================\n// ì¬ìƒ ëª©ë¡ ì¡°íšŒ í›…\n// =================================================================\n\nexport const useVideoPlaylists = () => {\n  return useQuery<VideoPlaylist[], Error>({\n    queryKey: ['videoPlaylists'],\n    queryFn: async () => {\n      const response = await videoPlaylistsAPI.getAll()\n      return response.data?.data || response.data || []\n    },\n    staleTime: 5 * 60 * 1000,\n  })\n}\n\nexport const useVideoPlaylist = (id: string | undefined) => {\n  return useQuery<VideoPlaylist, Error>({\n    queryKey: ['videoPlaylist', id],\n    queryFn: async () => {\n      if (!id) throw new Error('IDê°€ í•„ìš”í•©ë‹ˆë‹¤')\n      const response = await videoPlaylistsAPI.getById(id)\n      return response.data?.data || response.data\n    },\n    enabled: !!id,\n    staleTime: 5 * 60 * 1000,\n  })\n}\n\n// =================================================================\n// ì¬ìƒ ëª©ë¡ ë‚´ ì˜ìƒ ì¡°íšŒ í›…\n// =================================================================\n\nexport const usePlaylistVideos = (playlistId: string | undefined) => {\n  return useQuery<PlaylistVideo[], Error>({\n    queryKey: ['playlistVideos', playlistId],\n    queryFn: async () => {\n      if (!playlistId) return []\n      const response = await playlistVideosAPI.getByPlaylist(playlistId)\n      return response.data?.data || response.data || []\n    },\n    enabled: !!playlistId,\n    staleTime: 5 * 60 * 1000,\n  })\n}\n\n// =================================================================\n// ì¬ìƒ ëª©ë¡ Mutation í›…\n// =================================================================\n\nexport const useCreateVideoPlaylist = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation({\n    mutationFn: (data: VideoPlaylistFormData) => videoPlaylistsAPI.create(data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['videoPlaylists'] })\n    },\n  })\n}\n\nexport const useUpdateVideoPlaylist = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation({\n    mutationFn: ({ id, data }: { id: string; data: VideoPlaylistFormData }) =>\n      videoPlaylistsAPI.update(id, data),\n    onSuccess: (_, variables) => {\n      queryClient.invalidateQueries({ queryKey: ['videoPlaylists'] })\n      queryClient.invalidateQueries({ queryKey: ['videoPlaylist', variables.id] })\n    },\n  })\n}\n\nexport const useDeleteVideoPlaylist = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation({\n    mutationFn: (id: string) => videoPlaylistsAPI.delete(id),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['videoPlaylists'] })\n    },\n  })\n}\n\n// =================================================================\n// ì¬ìƒ ëª©ë¡ ì˜ìƒ Mutation í›…\n// =================================================================\n\nexport const useCreatePlaylistVideo = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation({\n    mutationFn: (data: PlaylistVideoFormData) => playlistVideosAPI.create(data),\n    onSuccess: (_, variables) => {\n      queryClient.invalidateQueries({ queryKey: ['playlistVideos', variables.playlistId] })\n    },\n  })\n}\n\nexport const useUpdatePlaylistVideo = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation({\n    mutationFn: ({ id, data }: { id: string; data: PlaylistVideoFormData }) =>\n      playlistVideosAPI.update(id, data),\n    onSuccess: (response) => {\n      const playlistId = response.data?.data?.playlistId\n      if (playlistId) {\n        queryClient.invalidateQueries({ queryKey: ['playlistVideos', playlistId] })\n      }\n    },\n  })\n}\n\nexport const useDeletePlaylistVideo = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation({\n    mutationFn: (id: string) => playlistVideosAPI.delete(id),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['playlistVideos'] })\n    },\n  })\n}\n\n// =================================================================\n// ê´€ë¦¬ììš© ë°ì´í„° í›…\n// =================================================================\n\nexport const useVideoPlaylistManagerData = () => {\n  const { data: playlists = [], isLoading } = useVideoPlaylists()\n  const createMutation = useCreateVideoPlaylist()\n  const updateMutation = useUpdateVideoPlaylist()\n  const deleteMutation = useDeleteVideoPlaylist()\n\n  const createPlaylist = async (data: VideoPlaylistFormData) => {\n    try {\n      console.log('ğŸ¬ ì¬ìƒ ëª©ë¡ ìƒì„± ì‹œë„:', data)\n      const result = await createMutation.mutateAsync(data)\n      console.log('âœ… ì¬ìƒ ëª©ë¡ ìƒì„± ì„±ê³µ:', result)\n      return { success: true }\n    } catch (error: any) {\n      console.error('âŒ ì¬ìƒ ëª©ë¡ ìƒì„± ì‹¤íŒ¨:', error)\n      console.error('âŒ ì—ëŸ¬ ìƒì„¸:', {\n        message: error?.message,\n        response: error?.response?.data,\n        status: error?.response?.status\n      })\n      return { success: false, error }\n    }\n  }\n\n  const updatePlaylist = async (id: string, data: VideoPlaylistFormData) => {\n    try {\n      await updateMutation.mutateAsync({ id, data })\n      return { success: true }\n    } catch (error) {\n      console.error('ì¬ìƒ ëª©ë¡ ìˆ˜ì • ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }\n\n  const deletePlaylist = async (id: string) => {\n    try {\n      await deleteMutation.mutateAsync(id)\n      return { success: true }\n    } catch (error) {\n      console.error('ì¬ìƒ ëª©ë¡ ì‚­ì œ ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }\n\n  return {\n    playlists,\n    isLoading,\n    createPlaylist,\n    updatePlaylist,\n    deletePlaylist,\n  }\n}\n\n","import { useState, useCallback } from 'react'\n\nexport type ToastType = 'success' | 'error' | 'warning' | 'info'\n\nexport interface Toast {\n  id: string\n  type: ToastType\n  title: string\n  message?: string\n  duration?: number\n}\n\ninterface UseToastReturn {\n  toasts: Toast[]\n  showToast: (toast: Omit<Toast, 'id'>) => void\n  hideToast: (id: string) => void\n  clearAllToasts: () => void\n}\n\n/**\n * Toast ì•Œë¦¼ ì‹œìŠ¤í…œì„ ìœ„í•œ Custom Hook\n * ì„±ê³µ, ì—ëŸ¬, ê²½ê³ , ì •ë³´ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n */\nexport function useToast(): UseToastReturn {\n  const [toasts, setToasts] = useState<Toast[]>([])\n\n  const showToast = useCallback((toast: Omit<Toast, 'id'>) => {\n    const id = Math.random().toString(36).substr(2, 9)\n    const newToast: Toast = {\n      id,\n      duration: 5000, // ê¸°ë³¸ 5ì´ˆ\n      ...toast\n    }\n\n    setToasts(prev => [...prev, newToast])\n\n    // ìë™ ì œê±° (durationì´ 0ì´ ì•„ë‹Œ ê²½ìš°)\n    if (newToast.duration && newToast.duration > 0) {\n      setTimeout(() => {\n        hideToast(id)\n      }, newToast.duration)\n    }\n  }, [])\n\n  const hideToast = useCallback((id: string) => {\n    setToasts(prev => prev.filter(toast => toast.id !== id))\n  }, [])\n\n  const clearAllToasts = useCallback(() => {\n    setToasts([])\n  }, [])\n\n  return {\n    toasts,\n    showToast,\n    hideToast,\n    clearAllToasts\n  }\n}\n\n/**\n * í¸ì˜ ë©”ì„œë“œë“¤ì„ ì œê³µí•˜ëŠ” Toast Hook\n */\nexport function useToastHelpers() {\n  const { showToast, ...rest } = useToast()\n\n  const success = useCallback((title: string, message?: string) => {\n    showToast({ type: 'success', title, message })\n  }, [showToast])\n\n  const error = useCallback((title: string, message?: string) => {\n    showToast({ type: 'error', title, message })\n  }, [showToast])\n\n  const warning = useCallback((title: string, message?: string) => {\n    showToast({ type: 'warning', title, message })\n  }, [showToast])\n\n  const info = useCallback((title: string, message?: string) => {\n    showToast({ type: 'info', title, message })\n  }, [showToast])\n\n  return {\n    ...rest,\n    success,\n    error,\n    warning,\n    info\n  }\n}\n\nexport default useToast\n","import { useQuery } from '@tanstack/react-query';\nimport { projectsAPI } from '../services/api';\nimport { Project } from '../types';\n\ninterface UseProjectsResult {\n  projects: Project[];\n  loading: boolean;\n  error: string | null;\n  refetch: () => void;\n}\n\n// React Queryë¥¼ ì‚¬ìš©í•œ ë°ì´í„° í˜ì¹­\nconst fetchProjects = async (): Promise<Project[]> => {\n  const response = await projectsAPI.getAll();\n  return response.data.data;\n};\n\nexport const useProjects = (): UseProjectsResult => {\n  const {\n    data: projects = [],\n    isLoading: loading,\n    error,\n    refetch\n  } = useQuery({\n    queryKey: ['projects'],\n    queryFn: fetchProjects,\n    staleTime: 5 * 60 * 1000, // 5ë¶„\n    cacheTime: 10 * 60 * 1000, // 10ë¶„\n  });\n\n  return { \n    projects, \n    loading, \n    error: error ? 'í”„ë¡œì íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.' : null, \n    refetch \n  };\n};\n","import { useState, useEffect, useMemo } from 'react'\nimport { projectsAPI } from '../services/api'\nimport { Project, Skill } from '../types'\nimport { useSkills } from './useSkills'\nimport { \n  getLocalizedField, \n  getLocalizedArrayField,\n  getLocalizedSkillName,\n  getLocalizedSkillDescription,\n  Language \n} from '@/utils/i18nUtils'\n\ninterface LocalizedProject extends Omit<Project, 'technologies' | 'features' | 'learnings' | 'videoDescriptions'> {\n  title: string\n  description: string\n  detailedDescription: string\n  technologies: string[]\n  features: string[]\n  learnings: string[]\n  videoDescriptions: string[]\n}\n\ninterface LinkedSkill extends Skill {\n  levelText: string\n}\n\ninterface UseProjectDetailReturn {\n  loading: boolean\n  error: string | null\n  localizedProject: LocalizedProject | null\n  linkedSkills: LinkedSkill[]\n}\n\n/**\n * Custom hook for ProjectDetail component\n * Handles data fetching, multilingual field processing, and skill matching\n */\nexport const useProjectDetail = (\n  id: string | undefined,\n  currentLang: Language\n): UseProjectDetailReturn => {\n  const [project, setProject] = useState<Project | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const { skillCategories } = useSkills()\n\n  // Fetch project data by ID\n  useEffect(() => {\n    const fetchProject = async () => {\n      if (!id) return\n\n      try {\n        setLoading(true)\n        const response = await projectsAPI.getById(id)\n        setProject(response.data)\n      } catch (error) {\n        console.error('Failed to fetch project:', error)\n        setError('í”„ë¡œì íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.')\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchProject()\n  }, [id])\n\n  // Create localized project object with all multilingual fields processed\n  const localizedProject = useMemo<LocalizedProject | null>(() => {\n    if (!project) return null\n\n    return {\n      ...project,\n      // String fields\n      title: getLocalizedField(currentLang, project.title, project.titleEn, project.titleJa),\n      description: getLocalizedField(currentLang, project.description, project.descriptionEn, project.descriptionJa),\n      detailedDescription: getLocalizedField(\n        currentLang,\n        project.detailedDescription,\n        project.detailedDescriptionEn,\n        project.detailedDescriptionJa\n      ),\n      // Array fields - CRITICAL: Always add || [] fallback to prevent runtime errors\n      technologies: getLocalizedArrayField(\n        currentLang,\n        project.technologies,\n        project.technologiesEn,\n        project.technologiesJa\n      ) || [],\n      features: getLocalizedArrayField(\n        currentLang,\n        project.features,\n        project.featuresEn,\n        project.featuresJa\n      ) || [],\n      learnings: getLocalizedArrayField(\n        currentLang,\n        project.learnings,\n        project.learningsEn,\n        project.learningsJa\n      ) || [],\n      videoDescriptions: getLocalizedArrayField(\n        currentLang,\n        project.videoDescriptions,\n        project.videoDescriptionsEn,\n        project.videoDescriptionsJa\n      ) || [],\n    }\n  }, [project, currentLang])\n\n  // Helper function to get level text\n  const getLevelText = (level: number): string => {\n    if (level >= 90) return 'Expert'\n    if (level >= 70) return 'Proficient'\n    if (level >= 50) return 'Competent'\n    return 'Basic'\n  }\n\n  // Process linked skills with multilingual support\n  const linkedSkills = useMemo<LinkedSkill[]>(() => {\n    if (!project || !skillCategories) return []\n\n    // Flatten all skills from categories\n    const allSkills = skillCategories.flatMap(category => category.skills || [])\n\n    // Create Set for O(1) lookup performance\n    const skillIdSet = new Set(project.skillIds || [])\n\n    // Filter and map skills with localization\n    return allSkills\n      .filter(skill => skillIdSet.has(skill._id!))\n      .map(skill => ({\n        ...skill,\n        name: getLocalizedSkillName(currentLang, skill),\n        description: getLocalizedSkillDescription(currentLang, skill),\n        levelText: getLevelText(skill.level || 0),\n      }))\n  }, [project, skillCategories, currentLang])\n\n  return {\n    loading,\n    error,\n    localizedProject,\n    linkedSkills,\n  }\n}\n\n","import { useQuery } from '@tanstack/react-query';\nimport { experiencesAPI } from '../services/api';\n\n// ê²½ë ¥ ìƒì„¸ ì¹´í…Œê³ ë¦¬ íƒ€ì…\nexport interface ExperienceDetail {\n  category: string;  // ì¹´í…Œê³ ë¦¬ ì´ë¦„ (ì˜ˆ: \"ê·¼ë¬´ê²½í—˜\", \"êµìœ¡\", \"ê·¼ë¬´ë§¤ì¥\")\n  items: string[];   // ì¹´í…Œê³ ë¦¬ë³„ í•­ëª©ë“¤\n}\n\n// ë°±ì—”ë“œ ExperienceSchemaì— ë§ì¶˜ ì¸í„°í˜ì´ìŠ¤ ì •ì˜\nexport interface ExperienceItem {\n  _id: string;\n  period: string;\n  title: string;\n  company: string;\n  description: string;\n  details?: ExperienceDetail[];  // ì¹´í…Œê³ ë¦¬ë³„ ìƒì„¸ ë‚´ìš© (ì‹ ê·œ)\n  skills: string[];  // ğŸ”„ í˜¸í™˜ì„± ìœ ì§€\n  skillIds?: string[];  // ğŸŒŸ ìŠ¤í‚¬ ID ëª©ë¡ (Skills í˜ì´ì§€ì™€ ì—°ê²°)\n  iconKey?: string;\n  color?: string;\n  bgColor?: string;\n  order?: number;\n  createdAt?: string;\n  updatedAt?: string;\n}\n\ninterface UseExperiencesResult {\n  experiences: ExperienceItem[];\n  loading: boolean;\n  error: string | null;\n  refetch: () => void;\n}\n\n// ë°ì´í„° ë³€í™˜ ë° ì •ë ¬ í•¨ìˆ˜\nconst transformExperiences = (data: ExperienceItem[]): ExperienceItem[] => {\n  return data.slice().sort((a, b) => {\n    // case 1: ë‘ í•­ëª© ëª¨ë‘ orderê°€ ìˆìœ¼ë©´ orderë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ\n    if (a.order !== undefined && b.order !== undefined) {\n      return a.order - b.order;\n    }\n    \n    // case 2: orderê°€ í•˜ë‚˜ë§Œ ìˆê±°ë‚˜ ë‘˜ ë‹¤ ì—†ìœ¼ë©´ createdAtì„ ê¸°ì¤€ìœ¼ë¡œ ì—­ìˆœ (ìµœì‹ ìˆœ)\n    if (a.createdAt && b.createdAt) {\n      // Date ê°ì²´ë¡œ ë³€í™˜í•˜ì—¬ ë¹„êµ (ë‚´ë¦¼ì°¨ìˆœ)\n      return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();\n    }\n    \n    return 0; // ì •ë ¬í•  í•„ë“œê°€ ëª¨ë‘ ì—†ìœ¼ë©´ ìˆœì„œ ë³€ê²½ ì—†ìŒ\n  });\n};\n\n// React Queryë¥¼ ì‚¬ìš©í•œ ë°ì´í„° í˜ì¹­\nconst fetchExperiences = async (): Promise<ExperienceItem[]> => {\n  const response = await experiencesAPI.getAll();\n  const data: ExperienceItem[] = response.data.data;\n  return transformExperiences(data);\n};\n\nexport const useExperiences = (): UseExperiencesResult => {\n  const {\n    data: experiences = [],\n    isLoading: loading,\n    error,\n    refetch\n  } = useQuery({\n    queryKey: ['experiences'],\n    queryFn: fetchExperiences,\n    staleTime: 5 * 60 * 1000, // 5ë¶„\n    cacheTime: 10 * 60 * 1000, // 10ë¶„\n  });\n\n  return { \n    experiences, \n    loading, \n    error: error ? 'ê²½í—˜ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.' : null, \n    refetch \n  };\n};\n","import { useEffect, useRef, useCallback } from 'react'\n\n/**\n * AbortControllerë¥¼ ì‚¬ìš©í•˜ì—¬ API ìš”ì²­ ì·¨ì†Œë¥¼ ê´€ë¦¬í•˜ëŠ” Hook\n * ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ ë˜ëŠ” ì˜ì¡´ì„± ë³€ê²½ ì‹œ ì´ì „ ìš”ì²­ì„ ì·¨ì†Œí•˜ì—¬\n * ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ì™€ Race Conditionì„ ë°©ì§€í•©ë‹ˆë‹¤.\n */\nexport function useAbortController() {\n  const abortControllerRef = useRef<AbortController | null>(null)\n\n  // ìƒˆë¡œìš´ AbortController ìƒì„±\n  const createAbortController = useCallback(() => {\n    // ì´ì „ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ìˆë‹¤ë©´ ì·¨ì†Œ\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort()\n    }\n    \n    // ìƒˆë¡œìš´ ì»¨íŠ¸ë¡¤ëŸ¬ ìƒì„±\n    abortControllerRef.current = new AbortController()\n    return abortControllerRef.current\n  }, [])\n\n  // í˜„ì¬ AbortController ê°€ì ¸ì˜¤ê¸° (ì—†ìœ¼ë©´ ìƒì„±)\n  const getAbortController = useCallback(() => {\n    if (!abortControllerRef.current) {\n      abortControllerRef.current = new AbortController()\n    }\n    return abortControllerRef.current\n  }, [])\n\n  // ìš”ì²­ ì·¨ì†Œ\n  const abort = useCallback(() => {\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort()\n      abortControllerRef.current = null\n    }\n  }, [])\n\n  // ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ ì •ë¦¬\n  useEffect(() => {\n    return () => {\n      if (abortControllerRef.current) {\n        abortControllerRef.current.abort()\n      }\n    }\n  }, [])\n\n  return {\n    createAbortController,\n    getAbortController,\n    abort,\n    signal: abortControllerRef.current?.signal\n  }\n}\n\n/**\n * API ìš”ì²­ì„ ìœ„í•œ AbortControllerë¥¼ ìë™ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” Hook\n * ì˜ì¡´ì„± ë°°ì—´ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì´ì „ ìš”ì²­ì„ ì·¨ì†Œí•˜ê³  ìƒˆë¡œìš´ ìš”ì²­ì„ ì‹œì‘í•©ë‹ˆë‹¤.\n */\nexport function useAbortableEffect(\n  effect: (signal: AbortSignal) => void | (() => void),\n  deps: React.DependencyList = []\n) {\n  const { createAbortController } = useAbortController()\n\n  useEffect(() => {\n    const abortController = createAbortController()\n    \n    const cleanup = effect(abortController.signal)\n    \n    return () => {\n      if (typeof cleanup === 'function') {\n        cleanup()\n      }\n      abortController.abort()\n    }\n  }, deps)\n}\n\n/**\n * API ìš”ì²­ì„ ìœ„í•œ fetch wrapper with AbortController\n */\nexport async function fetchWithAbort(\n  url: string,\n  options: RequestInit = {},\n  signal?: AbortSignal\n): Promise<Response> {\n  const response = await fetch(url, {\n    ...options,\n    signal: signal || null\n  })\n\n  if (!response.ok) {\n    throw new Error(`HTTP error! status: ${response.status}`)\n  }\n\n  return response\n}\n\nexport default useAbortController\n","import { useState, useCallback, useRef } from 'react'\n\ninterface OptimisticUpdateOptions<T> {\n  onSuccess?: (data: T) => void\n  onError?: (error: Error, rollback: () => void) => void\n  onRollback?: (data: T) => void\n}\n\n/**\n * ë‚™ê´€ì  ì—…ë°ì´íŠ¸ë¥¼ ê´€ë¦¬í•˜ëŠ” Hook\n * API ìš”ì²­ ì „ì— UIë¥¼ ë¨¼ì € ì—…ë°ì´íŠ¸í•˜ì—¬ ë” ë‚˜ì€ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.\n * ì‹¤íŒ¨ ì‹œ ìë™ìœ¼ë¡œ ë¡¤ë°±í•©ë‹ˆë‹¤.\n */\nexport function useOptimisticUpdate<T>(\n  initialData: T,\n  options: OptimisticUpdateOptions<T> = {}\n) {\n  const [data, setData] = useState<T>(initialData)\n  const [isOptimistic, setIsOptimistic] = useState(false)\n  const previousDataRef = useRef<T>(initialData)\n\n  const { onSuccess, onError, onRollback } = options\n\n  // ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ì‹¤í–‰\n  const optimisticUpdate = useCallback(async (\n    optimisticData: T | ((prev: T) => T),\n    apiCall: () => Promise<T>\n  ) => {\n    // ì´ì „ ë°ì´í„° ë°±ì—…\n    previousDataRef.current = data\n    \n    // ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ì‹¤í–‰\n    setData(prev => {\n      const newData = typeof optimisticData === 'function' \n        ? (optimisticData as (prev: T) => T)(prev)\n        : optimisticData\n      return newData\n    })\n    \n    setIsOptimistic(true)\n\n    try {\n      // API í˜¸ì¶œ\n      const result = await apiCall()\n      \n      // ì„±ê³µ ì‹œ ì‹¤ì œ ë°ì´í„°ë¡œ ì—…ë°ì´íŠ¸\n      setData(result)\n      setIsOptimistic(false)\n      onSuccess?.(result)\n      \n      return result\n    } catch (error) {\n      // ì‹¤íŒ¨ ì‹œ ë¡¤ë°±\n      setData(previousDataRef.current)\n      setIsOptimistic(false)\n      \n      const rollback = () => {\n        setData(previousDataRef.current)\n        onRollback?.(previousDataRef.current)\n      }\n      \n      onError?.(error as Error, rollback)\n      throw error\n    }\n  }, [data, onSuccess, onError, onRollback])\n\n  // ë°ì´í„° ì—…ë°ì´íŠ¸ (ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ì—†ì´)\n  const updateData = useCallback((newData: T | ((prev: T) => T)) => {\n    setData(prev => {\n      const updated = typeof newData === 'function' \n        ? (newData as (prev: T) => T)(prev)\n        : newData\n      return updated\n    })\n  }, [])\n\n  // ë°ì´í„° ë¦¬ì…‹\n  const resetData = useCallback((newData: T) => {\n    setData(newData)\n    previousDataRef.current = newData\n    setIsOptimistic(false)\n  }, [])\n\n  return {\n    data,\n    isOptimistic,\n    optimisticUpdate,\n    updateData,\n    resetData\n  }\n}\n\n/**\n * ë°°ì—´ ë°ì´í„°ë¥¼ ìœ„í•œ ë‚™ê´€ì  ì—…ë°ì´íŠ¸ Hook\n * ì¶”ê°€, ìˆ˜ì •, ì‚­ì œ ì‘ì—…ì— íŠ¹í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n */\nexport function useOptimisticArrayUpdate<T extends { _id: string }>(\n  initialData: T[],\n  options: OptimisticUpdateOptions<T[]> = {}\n) {\n  const {\n    data,\n    isOptimistic,\n    optimisticUpdate,\n    updateData,\n    resetData\n  } = useOptimisticUpdate<T[]>(initialData, options)\n\n  // í•­ëª© ì¶”ê°€\n  const optimisticAdd = useCallback(async (\n    newItem: T,\n    apiCall: () => Promise<T>\n  ) => {\n    return optimisticUpdate(\n      (prev) => [...prev, { ...newItem, _id: `temp_${Date.now()}` } as T],\n      async () => {\n        const result = await apiCall()\n        // ì„ì‹œ IDë¥¼ ì‹¤ì œ IDë¡œ êµì²´\n        updateData(prev => prev.map(item => \n          item._id.startsWith('temp_') ? result : item\n        ))\n        return [...data.filter(item => !item._id.startsWith('temp_')), result]\n      }\n    )\n  }, [optimisticUpdate, updateData, data])\n\n  // í•­ëª© ìˆ˜ì •\n  const optimisticUpdateItem = useCallback(async (\n    id: string,\n    updates: Partial<T>,\n    apiCall: () => Promise<T>\n  ) => {\n    return optimisticUpdate(\n      (prev) => prev.map(item => \n        item._id === id ? { ...item, ...updates } : item\n      ),\n      async () => {\n        const result = await apiCall()\n        updateData(prev => prev.map(item => \n          item._id === id ? result : item\n        ))\n        return data.map(item => item._id === id ? result : item)\n      }\n    )\n  }, [optimisticUpdate, updateData, data])\n\n  // í•­ëª© ì‚­ì œ\n  const optimisticDelete = useCallback(async (\n    id: string,\n    apiCall: () => Promise<void>\n  ) => {\n    const itemToDelete = data.find(item => item._id === id)\n    if (!itemToDelete) return\n\n    return optimisticUpdate(\n      (prev) => prev.filter(item => item._id !== id),\n      async () => {\n        await apiCall()\n        return data.filter(item => item._id !== id)\n      }\n    )\n  }, [optimisticUpdate, data])\n\n  // í•­ëª© ì¬ì •ë ¬\n  const optimisticReorder = useCallback(async (\n    reorderedItems: T[],\n    apiCall: () => Promise<T[]>\n  ) => {\n    return optimisticUpdate(\n      reorderedItems,\n      async () => {\n        const result = await apiCall()\n        return result\n      }\n    )\n  }, [optimisticUpdate])\n\n  return {\n    data,\n    isOptimistic,\n    optimisticAdd,\n    optimisticUpdateItem,\n    optimisticDelete,\n    optimisticReorder,\n    updateData,\n    resetData\n  }\n}\n\nexport default useOptimisticUpdate\n","import { useState, useEffect, useCallback } from 'react'\nimport { useAbortController } from './useAbortController'\nimport { useOptimisticArrayUpdate } from './useOptimisticUpdate'\nimport { useToastHelpers } from './useToast'\nimport { booksAPI } from '../services/api'\nimport { Book, BookFormData, BookUpdateData } from '../types'\n\n/**\n * ë¦¬íŒ©í† ë§ëœ BookManager ë°ì´í„° ê´€ë¦¬ Hook\n * \n * ì£¼ìš” ê°œì„ ì‚¬í•­:\n * 1. AbortControllerë¥¼ ì‚¬ìš©í•œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€\n * 2. ë‚™ê´€ì  ì—…ë°ì´íŠ¸ë¡œ ì„±ëŠ¥ ê°œì„ \n * 3. Toast ì•Œë¦¼ìœ¼ë¡œ ì‚¬ìš©ì í”¼ë“œë°± ê°œì„ \n * 4. ì—ëŸ¬ ì²˜ë¦¬ ê°•í™”\n */\nexport function useBookManagerData() {\n  const [isLoading, setIsLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const { createAbortController } = useAbortController()\n  const { success, error: showError } = useToastHelpers()\n\n  // ë‚™ê´€ì  ì—…ë°ì´íŠ¸ë¥¼ ì‚¬ìš©í•œ ì„œì  ë°ì´í„° ê´€ë¦¬\n  const {\n    data: books,\n    isOptimistic,\n    optimisticAdd,\n    optimisticUpdateItem,\n    optimisticDelete,\n    resetData\n  } = useOptimisticArrayUpdate<Book>([])\n\n  // ì„œì  ë°ì´í„° ë¡œë“œ\n  const fetchBooks = useCallback(async () => {\n    try {\n      setIsLoading(true)\n      setError(null)\n      \n      const abortController = createAbortController()\n      const response = await booksAPI.getAll()\n      \n        if (!abortController.signal.aborted) {\n          resetData(response.data.data || [])\n        }\n    } catch (err) {\n      if (!(err as Error).name?.includes('AbortError')) {\n        const errorMessage = 'ì„œì  ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.'\n        setError(errorMessage)\n        showError('ë¡œë“œ ì‹¤íŒ¨', errorMessage)\n      }\n    } finally {\n      setIsLoading(false)\n    }\n  }, [createAbortController, resetData, showError])\n\n  // ì„œì  ìƒì„±\n  const createBook = useCallback(async (bookData: BookFormData) => {\n    try {\n      const newBook = {\n        ...bookData,\n        _id: `temp_${Date.now()}`,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n      } as Book\n\n      const result = await optimisticAdd(\n        newBook,\n        () => booksAPI.create(bookData).then(res => res.data)\n      )\n\n      success('ì„œì  ì¶”ê°€ ì™„ë£Œ', `${bookData.title}ì´(ê°€) ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.`)\n      return result\n    } catch (err) {\n      showError('ì„œì  ì¶”ê°€ ì‹¤íŒ¨', err instanceof Error ? err.message : 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.')\n      throw err\n    }\n  }, [optimisticAdd, success, showError])\n\n  // ì„œì  ìˆ˜ì •\n  const updateBook = useCallback(async (bookId: string, bookData: BookUpdateData) => {\n    try {\n      const result = await optimisticUpdateItem(\n        bookId,\n        bookData,\n        () => booksAPI.update(bookId, bookData).then(res => res.data)\n      )\n\n      success('ì„œì  ìˆ˜ì • ì™„ë£Œ', 'ì„œì  ì •ë³´ê°€ ì„±ê³µì ìœ¼ë¡œ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.')\n      return result\n    } catch (err) {\n      showError('ì„œì  ìˆ˜ì • ì‹¤íŒ¨', err instanceof Error ? err.message : 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.')\n      throw err\n    }\n  }, [optimisticUpdateItem, success, showError])\n\n  // ì„œì  ì‚­ì œ\n  const deleteBook = useCallback(async (bookId: string) => {\n    try {\n      const result = await optimisticDelete(\n        bookId,\n        () => booksAPI.delete(bookId).then(() => {})\n      )\n\n      success('ì„œì  ì‚­ì œ ì™„ë£Œ', 'ì„œì ì´ ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.')\n      return result\n    } catch (err) {\n      showError('ì„œì  ì‚­ì œ ì‹¤íŒ¨', err instanceof Error ? err.message : 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.')\n      throw err\n    }\n  }, [optimisticDelete, success, showError])\n\n  // ì´ˆê¸° ë°ì´í„° ë¡œë“œ\n  useEffect(() => {\n    fetchBooks()\n  }, [])\n\n  return {\n    books,\n    isLoading,\n    error,\n    isOptimistic,\n    createBook,\n    updateBook,\n    deleteBook,\n    refetch: fetchBooks\n  }\n}\n\nexport default useBookManagerData","import { useState, useCallback } from 'react'\n\ninterface CRUDState<T> {\n  showForm: boolean\n  editingItem: T | null\n  isSaving: boolean\n  isDeleting: boolean\n}\n\ninterface CRUDActions<T> {\n  handleCreate: () => void\n  handleEdit: (item: T) => void\n  handleCancel: () => void\n  handleSave: (data: any) => Promise<void>\n  handleDelete: (item: T) => Promise<void>\n  setShowForm: (show: boolean) => void\n  setEditingItem: (item: T | null) => void\n}\n\ninterface UseCRUDManagerOptions<T> {\n  onSave: (data: any, editingItem?: T | null) => Promise<void>\n  onDelete: (item: T) => Promise<void>\n  onSuccess?: () => void\n  onError?: (error: Error) => void\n}\n\n/**\n * CRUD ê´€ë¦¬ìë¥¼ ìœ„í•œ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ Custom Hook\n * BookManager, ExperienceManager, ProjectManager ë“±ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ”\n * ìƒíƒœ ê´€ë¦¬ ë¡œì§ì„ ì¤‘ì•™í™”í•˜ì—¬ ì½”ë“œ ì¤‘ë³µì„ ì œê±°í•©ë‹ˆë‹¤.\n */\nexport function useCRUDManager<T>({\n  onSave,\n  onDelete,\n  onSuccess,\n  onError\n}: UseCRUDManagerOptions<T>): [CRUDState<T>, CRUDActions<T>] {\n  \n  const [showForm, setShowForm] = useState(false)\n  const [editingItem, setEditingItem] = useState<T | null>(null)\n  const [isSaving, setIsSaving] = useState(false)\n  const [isDeleting, setIsDeleting] = useState(false)\n\n  // ìƒˆ í•­ëª© ìƒì„± í•¸ë“¤ëŸ¬\n  const handleCreate = useCallback(() => {\n    setEditingItem(null)\n    setShowForm(true)\n  }, [])\n\n  // ê¸°ì¡´ í•­ëª© í¸ì§‘ í•¸ë“¤ëŸ¬\n  const handleEdit = useCallback((item: T) => {\n    setEditingItem(item)\n    setShowForm(true)\n  }, [])\n\n  // í¼ ì·¨ì†Œ í•¸ë“¤ëŸ¬\n  const handleCancel = useCallback(() => {\n    setShowForm(false)\n    setEditingItem(null)\n    setIsSaving(false)\n    setIsDeleting(false)\n  }, [])\n\n  // ì €ì¥ í•¸ë“¤ëŸ¬ (ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ì§€ì›)\n  const handleSave = useCallback(async (data: any) => {\n    if (isSaving) return\n\n    try {\n      setIsSaving(true)\n      await onSave(data, editingItem)\n      \n      // ì„±ê³µ ì‹œ í¼ ë‹«ê¸°\n      handleCancel()\n      onSuccess?.()\n    } catch (error) {\n      console.error('ì €ì¥ ì‹¤íŒ¨:', error)\n      onError?.(error as Error)\n    } finally {\n      setIsSaving(false)\n    }\n  }, [isSaving, editingItem, onSave, onSuccess, onError, handleCancel])\n\n  // ì‚­ì œ í•¸ë“¤ëŸ¬\n  const handleDelete = useCallback(async (item: T) => {\n    if (isDeleting) return\n    \n    // ì‚¬ìš©ì í™•ì¸\n    const confirmed = window.confirm(\n      `ì •ë§ \"${(item as any).title || (item as any).name || 'ì´ í•­ëª©'}\"ì„(ë¥¼) ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`\n    )\n    \n    if (!confirmed) return\n\n    try {\n      setIsDeleting(true)\n      await onDelete(item)\n      onSuccess?.()\n    } catch (error) {\n      console.error('ì‚­ì œ ì‹¤íŒ¨:', error)\n      onError?.(error as Error)\n    } finally {\n      setIsDeleting(false)\n    }\n  }, [isDeleting, onDelete, onSuccess, onError])\n\n  const state: CRUDState<T> = {\n    showForm,\n    editingItem,\n    isSaving,\n    isDeleting\n  }\n\n  const actions: CRUDActions<T> = {\n    handleCreate,\n    handleEdit,\n    handleCancel,\n    handleSave,\n    handleDelete,\n    setShowForm,\n    setEditingItem\n  }\n\n  return [state, actions]\n}\n\n/**\n * ë‚™ê´€ì  ì—…ë°ì´íŠ¸ë¥¼ ì§€ì›í•˜ëŠ” CRUD ê´€ë¦¬ì Hook\n * API í˜¸ì¶œ ì „ì— UIë¥¼ ë¨¼ì € ì—…ë°ì´íŠ¸í•˜ì—¬ ë” ë‚˜ì€ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.\n */\nexport function useOptimisticCRUDManager<T>({\n  onSave,\n  onDelete,\n  onOptimisticUpdate,\n  onOptimisticDelete,\n  onSuccess,\n  onError\n}: UseCRUDManagerOptions<T> & {\n  onOptimisticUpdate?: (data: any, editingItem?: T | null) => void\n  onOptimisticDelete?: (item: T) => void\n}) {\n  \n  const [state, actions] = useCRUDManager({\n    onSave: async (data, editingItem) => {\n      // ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ì‹¤í–‰\n      onOptimisticUpdate?.(data, editingItem)\n      \n      try {\n        await onSave(data, editingItem)\n      } catch (error) {\n        // ì‹¤íŒ¨ ì‹œ ë¡¤ë°± (ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì²˜ë¦¬)\n        throw error\n      }\n    },\n    onDelete: async (item) => {\n      // ë‚™ê´€ì  ì‚­ì œ ì‹¤í–‰\n      onOptimisticDelete?.(item)\n      \n      try {\n        await onDelete(item)\n      } catch (error) {\n        // ì‹¤íŒ¨ ì‹œ ë¡¤ë°± (ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì²˜ë¦¬)\n        throw error\n      }\n    },\n    onSuccess,\n    onError\n  })\n\n  return [state, actions] as const\n}\n\nexport default useCRUDManager\n","import { useState, useEffect, useCallback } from 'react'\nimport { experiencesAPI } from '../services/api'\nimport { Experience } from '../types'\n\nexport const useExperienceManagerData = () => {\n  const [experiences, setExperiences] = useState<Experience[]>([])\n  const [isLoading, setIsLoading] = useState(false)\n\n  // Experience ë°ì´í„°ë§Œ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜\n  const fetchExperiences = useCallback(async () => {\n    setIsLoading(true)\n    try {\n      const response = await experiencesAPI.getAll()\n        setExperiences(response.data.data || [])\n    } catch (error) {\n      console.error('Experience ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error)\n    } finally {\n      setIsLoading(false)\n    }\n  }, [])\n\n  // Experience ìƒì„±\n  const createExperience = useCallback(async (experienceData: any) => {\n    try {\n      await experiencesAPI.create(experienceData)\n      await fetchExperiences() // ìƒˆë¡œê³ ì¹¨\n      return { success: true }\n    } catch (error) {\n      console.error('Experience ìƒì„± ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }, [fetchExperiences])\n\n  // Experience ìˆ˜ì •\n  const updateExperience = useCallback(async (id: string, experienceData: any) => {\n    try {\n      await experiencesAPI.update(id, experienceData)\n      await fetchExperiences() // ìƒˆë¡œê³ ì¹¨\n      return { success: true }\n    } catch (error) {\n      console.error('Experience ìˆ˜ì • ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }, [fetchExperiences])\n\n  // Experience ì‚­ì œ\n  const deleteExperience = useCallback(async (id: string) => {\n    try {\n      await experiencesAPI.delete(id)\n      await fetchExperiences() // ìƒˆë¡œê³ ì¹¨\n      return { success: true }\n    } catch (error) {\n      console.error('Experience ì‚­ì œ ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }, [fetchExperiences])\n\n  useEffect(() => {\n    fetchExperiences()\n  }, [])\n\n  return {\n    experiences,\n    isLoading,\n    fetchExperiences,\n    createExperience,\n    updateExperience,\n    deleteExperience\n  }\n}\n","import { useState, useEffect } from 'react'\nimport { Project, ProjectFormData } from '../types'\nimport { AdminLanguage } from '../components/common/LanguageTabs'\n\n// Video item type with multilingual descriptions\nexport interface VideoItem {\n  url: string\n  description: string\n  descriptionEn: string\n  descriptionJa: string\n}\n\ninterface UseProjectFormReturn {\n  formData: any\n  videoItems: VideoItem[]\n  currentLang: AdminLanguage\n  setCurrentLang: (lang: AdminLanguage) => void\n  setFormData: React.Dispatch<React.SetStateAction<any>>\n  setVideoItems: React.Dispatch<React.SetStateAction<VideoItem[]>>\n  handleFieldChange: (key: string, value: any) => void\n  handleArrayFieldChange: (key: string, value: string[]) => void\n  handleVideoUrlChange: (index: number, url: string) => void\n  handleVideoDescriptionChange: (index: number, description: string, lang: 'ko' | 'en' | 'ja') => void\n  handleAddVideo: () => void\n  handleRemoveVideo: (index: number) => void\n  prepareDataForSubmit: () => any\n}\n\n/**\n * Custom hook for ProjectForm\n * Handles all form state management, data initialization, and preparation for submission\n */\nexport const useProjectForm = (initialData: Project | null): UseProjectFormReturn => {\n  const [currentLang, setCurrentLang] = useState<AdminLanguage>('ko')\n  \n  // Initialize categoryIds\n  const initialCategoryIds = initialData?.categoryIds \n    ? (initialData.categoryIds as any[]).map((catIdOrObj: any) => \n        typeof catIdOrObj === 'string' ? catIdOrObj : catIdOrObj._id\n      ).filter(Boolean) as string[]\n    : []\n\n  // Initialize skillIds\n  const initialSkillIds = initialData?.skillIds \n    ? (initialData.skillIds as any[]).map((skillIdOrObj: any) => \n        typeof skillIdOrObj === 'string' ? skillIdOrObj : skillIdOrObj._id\n      ).filter(Boolean) as string[]\n    : []\n\n  // Initialize video items\n  const [videoItems, setVideoItems] = useState<VideoItem[]>(() => {\n    if (initialData?.videos && Array.isArray(initialData.videos)) {\n      return initialData.videos.map((url, index) => ({\n        url,\n        description: initialData.videoDescriptions?.[index] || '',\n        descriptionEn: initialData.videoDescriptionsEn?.[index] || '',\n        descriptionJa: initialData.videoDescriptionsJa?.[index] || ''\n      }))\n    }\n    return []\n  })\n\n  // Initialize form data\n  const [formData, setFormData] = useState<any>(\n    initialData ? {\n      ...initialData,\n      // Convert arrays to strings for textarea inputs\n      technologies: Array.isArray(initialData.technologies) ? initialData.technologies.join('\\n') : initialData.technologies || '',\n      technologiesEn: Array.isArray(initialData.technologiesEn) ? initialData.technologiesEn.join('\\n') : initialData.technologiesEn || '',\n      technologiesJa: Array.isArray(initialData.technologiesJa) ? initialData.technologiesJa.join('\\n') : initialData.technologiesJa || '',\n      images: Array.isArray(initialData.images) ? initialData.images.join('\\n') : initialData.images || '',\n      features: Array.isArray(initialData.features) ? initialData.features.join('\\n') : initialData.features || '',\n      featuresEn: Array.isArray(initialData.featuresEn) ? initialData.featuresEn.join('\\n') : initialData.featuresEn || '',\n      featuresJa: Array.isArray(initialData.featuresJa) ? initialData.featuresJa.join('\\n') : initialData.featuresJa || '',\n      learnings: Array.isArray(initialData.learnings) ? initialData.learnings.join('\\n') : initialData.learnings || '',\n      learningsEn: Array.isArray(initialData.learningsEn) ? initialData.learningsEn.join('\\n') : initialData.learningsEn || '',\n      learningsJa: Array.isArray(initialData.learningsJa) ? initialData.learningsJa.join('\\n') : initialData.learningsJa || '',\n      skillIds: initialSkillIds,\n      categoryIds: initialCategoryIds\n    } : {\n      title: '',\n      titleEn: '',\n      titleJa: '',\n      description: '',\n      descriptionEn: '',\n      descriptionJa: '',\n      technologies: '',\n      technologiesEn: '',\n      technologiesJa: '',\n      category: 'automation',\n      categoryIds: [],\n      status: 'preparing',\n      githubLink: '',\n      liveLink: '',\n      image: '',\n      images: '',\n      detailedDescription: '',\n      detailedDescriptionEn: '',\n      detailedDescriptionJa: '',\n      features: '',\n      featuresEn: '',\n      featuresJa: '',\n      learnings: '',\n      learningsEn: '',\n      learningsJa: '',\n      order: 0,\n      skillIds: []\n    }\n  )\n\n  // Handle simple field change\n  const handleFieldChange = (key: string, value: any) => {\n    setFormData((prev: any) => ({\n      ...prev,\n      [key]: value\n    }))\n  }\n\n  // Handle array field change (for TagInput or other array inputs)\n  const handleArrayFieldChange = (key: string, value: string[]) => {\n    setFormData((prev: any) => ({\n      ...prev,\n      [key]: value\n    }))\n  }\n\n  // Video management functions\n  const handleAddVideo = () => {\n    setVideoItems([...videoItems, { url: '', description: '', descriptionEn: '', descriptionJa: '' }])\n  }\n\n  const handleRemoveVideo = (index: number) => {\n    setVideoItems(videoItems.filter((_, i) => i !== index))\n  }\n\n  const handleVideoUrlChange = (index: number, url: string) => {\n    const newVideoItems = [...videoItems]\n    if (newVideoItems[index]) {\n      newVideoItems[index].url = url\n      setVideoItems(newVideoItems)\n    }\n  }\n\n  const handleVideoDescriptionChange = (index: number, description: string, lang: 'ko' | 'en' | 'ja') => {\n    const newVideoItems = [...videoItems]\n    if (newVideoItems[index]) {\n      if (lang === 'ko') {\n        newVideoItems[index].description = description\n      } else if (lang === 'en') {\n        newVideoItems[index].descriptionEn = description\n      } else if (lang === 'ja') {\n        newVideoItems[index].descriptionJa = description\n      }\n      setVideoItems(newVideoItems)\n    }\n  }\n\n  // Prepare data for submission\n  const prepareDataForSubmit = (): any => {\n    // Extract video data\n    const videos = videoItems.map(item => item.url).filter(url => url.trim().length > 0)\n    const videoDescriptions = videoItems.map(item => item.description)\n    const videoDescriptionsEn = videoItems.map(item => item.descriptionEn)\n    const videoDescriptionsJa = videoItems.map(item => item.descriptionJa)\n    \n    // Validate video descriptions length\n    for (let i = 0; i < videoItems.length; i++) {\n      const item = videoItems[i]\n      if (item.description && item.description.length > 5000) {\n        throw new Error(`ì˜ìƒ ${i + 1}ì˜ í•œêµ­ì–´ ì„¤ëª…ì´ ë„ˆë¬´ ê¹ë‹ˆë‹¤ (í˜„ì¬: ${item.description.length}ì, ìµœëŒ€: 5000ì)`)\n      }\n      if (item.descriptionEn && item.descriptionEn.length > 5000) {\n        throw new Error(`ì˜ìƒ ${i + 1}ì˜ ì˜ì–´ ì„¤ëª…ì´ ë„ˆë¬´ ê¹ë‹ˆë‹¤ (í˜„ì¬: ${item.descriptionEn.length}ì, ìµœëŒ€: 5000ì)`)\n      }\n      if (item.descriptionJa && item.descriptionJa.length > 5000) {\n        throw new Error(`ì˜ìƒ ${i + 1}ì˜ ì¼ë³¸ì–´ ì„¤ëª…ì´ ë„ˆë¬´ ê¹ë‹ˆë‹¤ (í˜„ì¬: ${item.descriptionJa.length}ì, ìµœëŒ€: 5000ì)`)\n      }\n    }\n    \n    // Process all array fields\n    const processedData = {\n      ...formData,\n      // Technologies\n      technologies: typeof formData.technologies === 'string' \n        ? formData.technologies.split(/[,\\n]/).map((s: string) => s.trim()).filter((s: string) => s.length > 0)\n        : formData.technologies || [],\n      technologiesEn: typeof formData.technologiesEn === 'string'\n        ? formData.technologiesEn.split(/[,\\n]/).map((s: string) => s.trim()).filter((s: string) => s.length > 0)\n        : formData.technologiesEn || [],\n      technologiesJa: typeof formData.technologiesJa === 'string'\n        ? formData.technologiesJa.split(/[,\\n]/).map((s: string) => s.trim()).filter((s: string) => s.length > 0)\n        : formData.technologiesJa || [],\n      // Images\n      images: typeof formData.images === 'string' \n        ? formData.images.split('\\n').map((s: string) => s.trim()).filter((s: string) => s.length > 0)\n        : formData.images || [],\n      // Videos\n      videos,\n      videoDescriptions,\n      videoDescriptionsEn,\n      videoDescriptionsJa,\n      // Features\n      features: typeof formData.features === 'string' \n        ? formData.features.split('\\n').map((s: string) => s.trim()).filter((s: string) => s.length > 0)\n        : formData.features || [],\n      featuresEn: typeof formData.featuresEn === 'string'\n        ? formData.featuresEn.split('\\n').map((s: string) => s.trim()).filter((s: string) => s.length > 0)\n        : formData.featuresEn || [],\n      featuresJa: typeof formData.featuresJa === 'string'\n        ? formData.featuresJa.split('\\n').map((s: string) => s.trim()).filter((s: string) => s.length > 0)\n        : formData.featuresJa || [],\n      // Learnings\n      learnings: typeof formData.learnings === 'string' \n        ? formData.learnings.split('\\n').map((s: string) => s.trim()).filter((s: string) => s.length > 0)\n        : formData.learnings || [],\n      learningsEn: typeof formData.learningsEn === 'string'\n        ? formData.learningsEn.split('\\n').map((s: string) => s.trim()).filter((s: string) => s.length > 0)\n        : formData.learningsEn || [],\n      learningsJa: typeof formData.learningsJa === 'string'\n        ? formData.learningsJa.split('\\n').map((s: string) => s.trim()).filter((s: string) => s.length > 0)\n        : formData.learningsJa || [],\n      // SkillIds (already array)\n      skillIds: formData.skillIds || []\n    }\n    \n    return processedData\n  }\n\n  return {\n    formData,\n    videoItems,\n    currentLang,\n    setCurrentLang,\n    setFormData,\n    setVideoItems,\n    handleFieldChange,\n    handleArrayFieldChange,\n    handleVideoUrlChange,\n    handleVideoDescriptionChange,\n    handleAddVideo,\n    handleRemoveVideo,\n    prepareDataForSubmit\n  }\n}\n\n","import { useState, useEffect, useCallback } from 'react'\nimport { projectsAPI } from '../services/api'\nimport { Project } from '../types'\n\nexport const useProjectManagerData = () => {\n  const [projects, setProjects] = useState<Project[]>([])\n  const [isLoading, setIsLoading] = useState(false)\n\n  // Project ë°ì´í„°ë§Œ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜\n  const fetchProjects = useCallback(async () => {\n    setIsLoading(true)\n    try {\n      console.log('ğŸ“¥ í”„ë¡œì íŠ¸ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°...')\n      const response = await projectsAPI.getAll()\n      const projectsData = response.data.data || []\n      console.log(`âœ… ${projectsData.length}ê°œ í”„ë¡œì íŠ¸ ë¡œë“œë¨`)\n      console.log('ğŸ“Š í”„ë¡œì íŠ¸ ë°ì´í„°:', projectsData)\n      setProjects(projectsData)\n    } catch (error) {\n      console.error('âŒ Project ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error)\n    } finally {\n      setIsLoading(false)\n    }\n  }, [])\n\n  // Project ìƒì„±\n  const createProject = useCallback(async (projectData: any) => {\n    try {\n      console.log('â• í”„ë¡œì íŠ¸ ìƒì„± API í˜¸ì¶œ:', projectData)\n      const response = await projectsAPI.create(projectData)\n      console.log('âœ… ì„œë²„ ì‘ë‹µ:', response.data)\n      console.log('ğŸ”„ í”„ë¡œì íŠ¸ ëª©ë¡ ìƒˆë¡œê³ ì¹¨ ì‹œì‘...')\n      await fetchProjects() // ìƒˆë¡œê³ ì¹¨\n      console.log('âœ… í”„ë¡œì íŠ¸ ëª©ë¡ ìƒˆë¡œê³ ì¹¨ ì™„ë£Œ')\n      return { success: true }\n    } catch (error) {\n      console.error('âŒ Project ìƒì„± ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }, [fetchProjects])\n\n  // Project ìˆ˜ì •\n  const updateProject = useCallback(async (id: string, projectData: any) => {\n    try {\n      console.log('ğŸ”„ í”„ë¡œì íŠ¸ ìˆ˜ì • API í˜¸ì¶œ:', { id, projectData })\n      const response = await projectsAPI.update(id, projectData)\n      console.log('âœ… ì„œë²„ ì‘ë‹µ:', response.data)\n      console.log('ğŸ”„ í”„ë¡œì íŠ¸ ëª©ë¡ ìƒˆë¡œê³ ì¹¨ ì‹œì‘...')\n      await fetchProjects() // ìƒˆë¡œê³ ì¹¨\n      console.log('âœ… í”„ë¡œì íŠ¸ ëª©ë¡ ìƒˆë¡œê³ ì¹¨ ì™„ë£Œ')\n      return { success: true }\n    } catch (error) {\n      console.error('âŒ Project ìˆ˜ì • ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }, [fetchProjects])\n\n  // Project ì‚­ì œ\n  const deleteProject = useCallback(async (id: string) => {\n    try {\n      await projectsAPI.delete(id)\n      await fetchProjects() // ìƒˆë¡œê³ ì¹¨\n      return { success: true }\n    } catch (error) {\n      console.error('Project ì‚­ì œ ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }, [fetchProjects])\n\n  useEffect(() => {\n    fetchProjects()\n  }, [])\n\n  return {\n    projects,\n    isLoading,\n    fetchProjects,\n    createProject,\n    updateProject,\n    deleteProject\n  }\n}\n","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { messagesAPI } from '../services/api'\nimport { ContactMessage } from '../types'\n\n// ğŸ’¡ ë©”ì‹œì§€ ê´€ë ¨ ì¿¼ë¦¬ í‚¤ ìƒìˆ˜ - ëª¨ë“  ë©”ì‹œì§€ ë°ì´í„° ìºì‹œì˜ ê¸°ì¤€ì \nexport const MESSAGE_QUERY_KEY = 'adminMessages'\n\n// ğŸŒŸ ë©”ì‹œì§€ ëª©ë¡ ì¡°íšŒ (React Query)\nexport const useMessages = () => {\n  return useQuery<ContactMessage[], Error>({\n    queryKey: [MESSAGE_QUERY_KEY, 'list'],\n    queryFn: async () => {\n      const response = await messagesAPI.getAll()\n      return response.data.data || response.data || []\n    },\n    staleTime: 2 * 60 * 1000, // 2ë¶„ ë™ì•ˆ ìºì‹œ ìœ ì§€\n    gcTime: 5 * 60 * 1000, // 5ë¶„ í›„ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜\n  })\n}\n\n// ğŸŒŸ ë©”ì‹œì§€ ì½ìŒ ì²˜ë¦¬ (React Query Mutation)\nexport const useMarkMessageAsRead = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation<void, Error, string>({\n    mutationFn: (id: string) => messagesAPI.markAsRead(id),\n    onSuccess: () => {\n      // ğŸ’¡ í•µì‹¬: ë©”ì‹œì§€ ê´€ë ¨ ëª¨ë“  ì¿¼ë¦¬ ë¬´íš¨í™” â†’ ìë™ìœ¼ë¡œ ë‹¤ì‹œ fetch\n      queryClient.invalidateQueries({ queryKey: [MESSAGE_QUERY_KEY] })\n      // ğŸ’¡ ë°ì´í„° ì¹´ìš´íŠ¸ë„ ë¬´íš¨í™”í•˜ì—¬ ë©”ì‹œì§€ ê°œìˆ˜ ì—…ë°ì´íŠ¸\n      queryClient.invalidateQueries({ queryKey: ['dataCounts'] })\n    },\n  })\n}\n\n// ğŸŒŸ ë©”ì‹œì§€ ì‚­ì œ (React Query Mutation)\nexport const useDeleteMessage = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation<void, Error, string>({\n    mutationFn: (id: string) => messagesAPI.delete(id),\n    onSuccess: () => {\n      // ğŸ’¡ í•µì‹¬: ë©”ì‹œì§€ ê´€ë ¨ ëª¨ë“  ì¿¼ë¦¬ ë¬´íš¨í™” â†’ ìë™ìœ¼ë¡œ ë‹¤ì‹œ fetch\n      queryClient.invalidateQueries({ queryKey: [MESSAGE_QUERY_KEY] })\n      // ğŸ’¡ ë°ì´í„° ì¹´ìš´íŠ¸ë„ ë¬´íš¨í™”í•˜ì—¬ ë©”ì‹œì§€ ê°œìˆ˜ ì—…ë°ì´íŠ¸\n      queryClient.invalidateQueries({ queryKey: ['dataCounts'] })\n    },\n  })\n}\n\n// ğŸŒŸ ì¼ê´„ ì½ìŒ ì²˜ë¦¬ (React Query Mutation)\nexport const useBulkMarkAsRead = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation<void, Error, string[]>({\n    mutationFn: (ids: string[]) => Promise.all(ids.map(id => messagesAPI.markAsRead(id))).then(() => undefined),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [MESSAGE_QUERY_KEY] })\n      // ğŸ’¡ ë°ì´í„° ì¹´ìš´íŠ¸ë„ ë¬´íš¨í™”í•˜ì—¬ ë©”ì‹œì§€ ê°œìˆ˜ ì—…ë°ì´íŠ¸\n      queryClient.invalidateQueries({ queryKey: ['dataCounts'] })\n    },\n  })\n}\n\n// ğŸŒŸ ì¼ê´„ ì‚­ì œ (React Query Mutation)\nexport const useBulkDeleteMessages = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation<void, Error, string[]>({\n    mutationFn: (ids: string[]) => Promise.all(ids.map(id => messagesAPI.delete(id))).then(() => undefined),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [MESSAGE_QUERY_KEY] })\n      // ğŸ’¡ ë°ì´í„° ì¹´ìš´íŠ¸ë„ ë¬´íš¨í™”í•˜ì—¬ ë©”ì‹œì§€ ê°œìˆ˜ ì—…ë°ì´íŠ¸\n      queryClient.invalidateQueries({ queryKey: ['dataCounts'] })\n    },\n  })\n}\n\n// ğŸ”„ ê¸°ì¡´ í›… í˜¸í™˜ì„± ìœ ì§€ (ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ê°€ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡)\nexport const useMessageManagerData = () => {\n  const { data: messages = [], isLoading } = useMessages()\n  const markAsReadMutation = useMarkMessageAsRead()\n  const deleteMessageMutation = useDeleteMessage()\n  const bulkMarkAsReadMutation = useBulkMarkAsRead()\n  const bulkDeleteMutation = useBulkDeleteMessages()\n\n  const markAsRead = async (id: string) => {\n    try {\n      await markAsReadMutation.mutateAsync(id)\n      return { success: true }\n    } catch (error) {\n      console.error('Message ì½ìŒ ì²˜ë¦¬ ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }\n\n  const deleteMessage = async (id: string) => {\n    try {\n      await deleteMessageMutation.mutateAsync(id)\n      return { success: true }\n    } catch (error) {\n      console.error('Message ì‚­ì œ ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }\n\n  const bulkMarkAsRead = async (ids: string[]) => {\n    try {\n      await bulkMarkAsReadMutation.mutateAsync(ids)\n      return { success: true }\n    } catch (error) {\n      console.error('Message ì¼ê´„ ì½ìŒ ì²˜ë¦¬ ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }\n\n  const bulkDelete = async (ids: string[]) => {\n    try {\n      await bulkDeleteMutation.mutateAsync(ids)\n      return { success: true }\n    } catch (error) {\n      console.error('Message ì¼ê´„ ì‚­ì œ ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }\n\n  return {\n    messages,\n    isLoading,\n    fetchMessages: () => {}, // ë” ì´ìƒ í•„ìš” ì—†ì§€ë§Œ í˜¸í™˜ì„± ìœ ì§€\n    markAsRead,\n    deleteMessage,\n    bulkMarkAsRead,\n    bulkDelete\n  }\n}\n","import { useQuery } from '@tanstack/react-query'\nimport { messagesAPI } from '../services/api'\nimport { ContactMessage } from '../types'\nimport { MESSAGE_QUERY_KEY } from './useMessageManagerData'\n\ninterface UseMessageDetailOptions {\n  enabled?: boolean\n  staleTime?: number\n}\n\nexport function useMessageDetail(\n  messageId: string | undefined,\n  options: UseMessageDetailOptions = {}\n) {\n  const { enabled = true, staleTime = 5 * 60 * 1000 } = options\n\n  return useQuery({\n    queryKey: [MESSAGE_QUERY_KEY, 'detail', messageId], // ğŸ’¡ í†µì¼ëœ ì¿¼ë¦¬ í‚¤ ì‚¬ìš©\n    queryFn: async () => {\n      if (!messageId) return null\n      const response = await messagesAPI.getById(messageId)\n      return response.data.data\n    },\n    enabled: !!messageId && enabled,\n    staleTime, // 5ë¶„ ë™ì•ˆ ìºì‹œëœ ë°ì´í„° ì‚¬ìš©\n    gcTime: 10 * 60 * 1000, // 10ë¶„ í›„ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜\n    retry: 2, // ì‹¤íŒ¨ ì‹œ 2ë²ˆ ì¬ì‹œë„\n    retryDelay: attemptIndex => Math.min(1000 * 2 ** attemptIndex, 30000), // ì§€ìˆ˜ ë°±ì˜¤í”„\n    refetchOnWindowFocus: false, // ì°½ í¬ì»¤ìŠ¤ ì‹œ ìë™ ë¦¬í˜ì¹˜ ë¹„í™œì„±í™”\n    select: (data): ContactMessage | null => {\n      // ë°ì´í„° ë³€í™˜ ë¡œì§ (í•„ìš”ì‹œ)\n      return data || null\n    }\n  })\n}\n\n// ë©”ì‹œì§€ ëª©ë¡ê³¼ ìƒì„¸ ì •ë³´ë¥¼ í•¨ê»˜ ê´€ë¦¬í•˜ëŠ” ë³µí•© í›…\nexport function useMessageWithDetail(messageId: string | undefined) {\n  const messageDetailQuery = useMessageDetail(messageId)\n  \n  return {\n    message: messageDetailQuery.data,\n    isLoading: messageDetailQuery.isLoading,\n    isError: messageDetailQuery.isError,\n    error: messageDetailQuery.error,\n    refetch: messageDetailQuery.refetch,\n    isFetching: messageDetailQuery.isFetching,\n    isStale: messageDetailQuery.isStale\n  }\n}\n","import { useMutation, useQueryClient } from '@tanstack/react-query'\nimport { skillsAPI } from '@/services/api'\nimport { SkillCategory, SkillFormData, SkillCategoryFormData } from '@/types'\n\n// useSkills.tsì™€ ë™ì¼í•œ ìºì‹œ í‚¤\nconst SKILLS_QUERY_KEY = ['skillCategories']\n\n// =================================================================\n// ğŸŒŸ 1. ìŠ¤í‚¬ ì—…ë°ì´íŠ¸ (í•µì‹¬ ë¬¸ì œ í•´ê²°)\n// =================================================================\n\nexport const useUpdateSkillMutation = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation<any, Error, { id: string; data: SkillFormData }>({\n    mutationFn: async ({ id, data }) => {\n      // ì„œë²„ì— ì €ì¥\n      const response = await skillsAPI.update(id, data)\n      return response.data?.data || response.data\n    },\n    \n    // ğŸš€ ë‚™ê´€ì  ì—…ë°ì´íŠ¸\n    onMutate: async ({ id, data }) => {\n      // 1. ì§„í–‰ ì¤‘ì¸ ì¿¼ë¦¬ ì·¨ì†Œ (ê²½ìŸ ì¡°ê±´ ë°©ì§€)\n      await queryClient.cancelQueries({ queryKey: SKILLS_QUERY_KEY })\n      \n      // 2. ì´ì „ ìºì‹œ ë°±ì—… (ë¡¤ë°±ìš©)\n      const previousCategories = queryClient.getQueryData<SkillCategory[]>(SKILLS_QUERY_KEY)\n\n      // 3. ìºì‹œë¥¼ ë‚™ê´€ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸\n      queryClient.setQueryData<SkillCategory[]>(SKILLS_QUERY_KEY, (oldCategories) => {\n        if (!oldCategories) return previousCategories\n        return oldCategories.map(category => ({\n          ...category,\n          skills: category.skills?.map(skill => \n            skill._id === id \n              ? { ...skill, ...data, updatedAt: new Date().toISOString() } // ğŸŒŸ ë³‘í•©\n              : skill\n          ) || []\n        }))\n      })\n      \n      // 4. ë¡¤ë°±ì— ì‚¬ìš©í•  Context ë°˜í™˜\n      return { previousCategories }\n    },\n\n    // âœ… ì—ëŸ¬ ì‹œ ë¡¤ë°±\n    onError: (err, variables, context: any) => {\n      console.error(\"âŒ ìŠ¤í‚¬ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨ - ë¡¤ë°± ì‹¤í–‰:\", err)\n      if (context?.previousCategories) {\n        queryClient.setQueryData(SKILLS_QUERY_KEY, context.previousCategories)\n      }\n    },\n\n    // ğŸŒŸ onSettled ì œê±°: ìŠ¬ë¼ì´ë” ë“œë˜ê·¸ ì¤‘ invalidateQueries í˜¸ì¶œ ë°©ì§€\n    // ë‚™ê´€ì  ì—…ë°ì´íŠ¸ë§Œìœ¼ë¡œë„ ì¶©ë¶„í•˜ë©°, í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ì‹œì—ë§Œ ì„œë²„ ë°ì´í„° ë™ê¸°í™”\n  })\n}\n\n// =================================================================\n// ğŸŒŸ 2. ìŠ¤í‚¬ ì¹´í…Œê³ ë¦¬ ìƒì„±\n// =================================================================\n\nexport const useCreateSkillCategoryMutation = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation<any, Error, SkillCategoryFormData>({\n    mutationFn: async (data) => {\n      const response = await skillsAPI.createCategory(data)\n      return response.data?.data || response.data\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: SKILLS_QUERY_KEY })\n    },\n  })\n}\n\n// =================================================================\n// ğŸŒŸ 3. ìŠ¤í‚¬ ì¹´í…Œê³ ë¦¬ ìˆ˜ì •\n// =================================================================\n\nexport const useUpdateSkillCategoryMutation = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation<any, Error, { id: string; data: SkillCategoryFormData }>({\n    mutationFn: async ({ id, data }) => {\n      const response = await skillsAPI.updateCategory(id, data)\n      return response.data?.data || response.data\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: SKILLS_QUERY_KEY })\n    },\n  })\n}\n\n// =================================================================\n// ğŸŒŸ 4. ìŠ¤í‚¬ ì¹´í…Œê³ ë¦¬ ì‚­ì œ\n// =================================================================\n\nexport const useDeleteSkillCategoryMutation = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation<any, Error, string>({\n    mutationFn: async (id) => {\n      await skillsAPI.deleteCategory(id)\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: SKILLS_QUERY_KEY })\n    },\n  })\n}\n\n// =================================================================\n// ğŸŒŸ 5. ìŠ¤í‚¬ ìƒì„±\n// =================================================================\n\nexport const useCreateSkillMutation = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation<any, Error, { categoryId: string; data: SkillFormData }>({\n    mutationFn: async ({ categoryId, data }) => {\n      const response = await skillsAPI.create(categoryId, data)\n      return response.data?.data || response.data\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: SKILLS_QUERY_KEY })\n    },\n  })\n}\n\n// =================================================================\n// ğŸŒŸ 6. ìŠ¤í‚¬ ì‚­ì œ\n// =================================================================\n\nexport const useDeleteSkillMutation = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation<any, Error, string>({\n    mutationFn: async (id) => {\n      await skillsAPI.delete(id)\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: SKILLS_QUERY_KEY })\n    },\n  })\n}\n\n","import { useSkills } from './useSkills'\nimport { SkillFormData, SkillCategoryFormData } from '../types'\nimport { \n  useUpdateSkillMutation,\n  useCreateSkillCategoryMutation,\n  useUpdateSkillCategoryMutation,\n  useDeleteSkillCategoryMutation,\n  useCreateSkillMutation,\n  useDeleteSkillMutation\n} from './useSkillMutations'\n\n/**\n * ğŸŒŸ React Query ê¸°ë°˜ ìŠ¤í‚¬ ê´€ë¦¬ í›…\n * \n * ì£¼ìš” ê°œì„ ì‚¬í•­:\n * 1. useState â†’ React Query Cache (ë‹¨ì¼ ë°ì´í„° ì†ŒìŠ¤)\n * 2. useEffect â†’ useQuery (ìë™ ìºì‹± ë° ë™ê¸°í™”)\n * 3. ë‚™ê´€ì  ì—…ë°ì´íŠ¸ë¡œ ì¦‰ê°ì ì¸ UI ë°˜ì‘\n * 4. ì—ëŸ¬ ì‹œ ìë™ ë¡¤ë°±\n */\nexport const useSkillsManagerData = () => {\n  // ğŸŒŸ 1. ë°ì´í„° ì¡°íšŒ: useSkills í›…ì—ì„œ ê¸€ë¡œë²Œ ìºì‹œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n  const { \n    skillCategories, \n    loading: isLoading, \n    refetch: fetchSkillCategories \n  } = useSkills()\n\n  // ğŸŒŸ 2. ë®¤í…Œì´ì…˜ í›… ì´ˆê¸°í™”\n  const updateSkillMutation = useUpdateSkillMutation()\n  const createCategoryMutation = useCreateSkillCategoryMutation()\n  const updateCategoryMutation = useUpdateSkillCategoryMutation()\n  const deleteCategoryMutation = useDeleteSkillCategoryMutation()\n  const createSkillMutation = useCreateSkillMutation()\n  const deleteSkillMutation = useDeleteSkillMutation()\n\n  // ğŸŒŸ 3. updateSkill í•¨ìˆ˜ë¥¼ useMutationìœ¼ë¡œ ëŒ€ì²´\n  const updateSkill = async (id: string, data: SkillFormData) => {\n    try {\n      const result = await updateSkillMutation.mutateAsync({ id, data })\n      return { success: true, data: result }\n    } catch (error) {\n      console.error('ìŠ¤í‚¬ ìˆ˜ì • ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }\n\n  // ğŸŒŸ 4. ê¸°íƒ€ CRUD í•¨ìˆ˜ë¥¼ useMutationìœ¼ë¡œ ëŒ€ì²´\n  const createSkillCategory = async (data: SkillCategoryFormData) => {\n    try {\n      const result = await createCategoryMutation.mutateAsync(data)\n      return { success: true, data: result }\n    } catch (error) {\n      console.error('ìŠ¤í‚¬ ì¹´í…Œê³ ë¦¬ ìƒì„± ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }\n\n  const updateSkillCategory = async (id: string, data: SkillCategoryFormData) => {\n    try {\n      const result = await updateCategoryMutation.mutateAsync({ id, data })\n      return { success: true, data: result }\n    } catch (error) {\n      console.error('ìŠ¤í‚¬ ì¹´í…Œê³ ë¦¬ ìˆ˜ì • ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }\n\n  const deleteSkillCategory = async (id: string) => {\n    try {\n      await deleteCategoryMutation.mutateAsync(id)\n      return { success: true }\n    } catch (error) {\n      console.error('ìŠ¤í‚¬ ì¹´í…Œê³ ë¦¬ ì‚­ì œ ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }\n\n  const createSkill = async (categoryId: string, data: SkillFormData) => {\n    try {\n      const result = await createSkillMutation.mutateAsync({ categoryId, data })\n      return { success: true, data: result }\n    } catch (error) {\n      console.error('ìŠ¤í‚¬ ìƒì„± ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }\n\n  const deleteSkill = async (id: string) => {\n    try {\n      await deleteSkillMutation.mutateAsync(id)\n      return { success: true }\n    } catch (error) {\n      console.error('ìŠ¤í‚¬ ì‚­ì œ ì‹¤íŒ¨:', error)\n      return { success: false, error }\n    }\n  }\n\n  return { \n    skillCategories, \n    isLoading, \n    fetchSkillCategories,\n    createSkillCategory,\n    updateSkillCategory,\n    deleteSkillCategory,\n    createSkill,\n    updateSkill,\n    deleteSkill\n  }\n}\n","import { useState, useEffect, useCallback } from 'react'\nimport { SiteSettings } from '@/types'\nimport { AdminLanguage } from '@/components/common/LanguageTabs'\nimport { settingsAPI } from '@/services/api'\nimport { useSiteSettings } from '@/hooks/useSiteSettings'\nimport { MessageType } from '../types'\nimport { initialSettings } from '../constants'\nimport { getFilteredSections } from '../utils'\n\n/**\n * Custom hook for managing settings form state and business logic\n * @param activeSection - Optional section filter ('general', 'appearance', etc.)\n */\nexport const useSettingsForm = (activeSection: string | null = null) => {\n  const { refetchSettings } = useSiteSettings()\n  const [settings, setSettings] = useState<SiteSettings>(initialSettings)\n  const [loading, setLoading] = useState(true)\n  const [saving, setSaving] = useState(false)\n  const [message, setMessage] = useState<MessageType | null>(null)\n  const [expandedSections, setExpandedSections] = useState<Set<string>>(\n    new Set(['ê°œì¸ ì •ë³´', 'ì†Œì…œ ë§í¬'])\n  )\n  const [currentLang, setCurrentLang] = useState<AdminLanguage>('ko')\n\n  /**\n   * Normalize settings data, ensuring number fields are properly typed\n   */\n  const normalizeSettings = (data: any): SiteSettings => {\n    const normalized = { ...initialSettings, ...data }\n    \n    // Ensure number fields are numbers, not strings\n    if (normalized.sidebarSkillCount) {\n      normalized.sidebarSkillCount = typeof normalized.sidebarSkillCount === 'number' \n        ? normalized.sidebarSkillCount \n        : parseInt(String(normalized.sidebarSkillCount)) || 4\n    }\n    if (normalized.languageCardSkillCount) {\n      normalized.languageCardSkillCount = typeof normalized.languageCardSkillCount === 'number'\n        ? normalized.languageCardSkillCount\n        : parseInt(String(normalized.languageCardSkillCount)) || 3\n    }\n\n    return normalized\n  }\n\n  /**\n   * Fetch settings from API\n   */\n  const fetchSettings = useCallback(async () => {\n    try {\n      const response = await settingsAPI.get()\n      const normalizedData = normalizeSettings(response.data)\n      setSettings(normalizedData)\n    } catch (error) {\n      console.error('Failed to fetch settings:', error)\n      setMessage({ \n        type: 'error', \n        text: 'ì„¤ì •ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ê¸°ë³¸ ê°’ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.' \n      })\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  /**\n   * Save settings to API\n   */\n  const handleSave = async () => {\n    setSaving(true)\n    setMessage(null)\n\n    try {\n      await settingsAPI.update(settings)\n      await refetchSettings()\n      \n      setMessage({ \n        type: 'success', \n        text: 'âœ… ì„¤ì •ì´ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤! í™”ë©´ì´ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.' \n      })\n      \n      // Auto-hide message after 5 seconds\n      setTimeout(() => setMessage(null), 5000)\n    } catch (error) {\n      console.error('Failed to save settings:', error)\n      setMessage({ \n        type: 'error', \n        text: 'âŒ ì„¤ì • ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì½˜ì†”ì„ í™•ì¸í•´ì£¼ì„¸ìš”.' \n      })\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  /**\n   * Update a single field value\n   */\n  const handleChange = (field: keyof SiteSettings, value: string | boolean | string[] | number) => {\n    setSettings(prevSettings => ({ ...prevSettings, [field]: value }))\n  }\n\n  /**\n   * Toggle section expand/collapse state\n   */\n  const toggleSection = (sectionTitle: string) => {\n    setExpandedSections(prev => {\n      const newSet = new Set(prev)\n      if (newSet.has(sectionTitle)) {\n        newSet.delete(sectionTitle)\n      } else {\n        newSet.add(sectionTitle)\n      }\n      return newSet\n    })\n  }\n\n  // Initial fetch on mount\n  useEffect(() => {\n    fetchSettings()\n  }, [fetchSettings])\n\n  // Auto-expand sections based on activeSection\n  useEffect(() => {\n    if (activeSection) {\n      if (activeSection === 'appearance') {\n        // Start with all sections collapsed for appearance\n        setExpandedSections(new Set())\n      } else {\n        // Expand all filtered sections for other categories\n        const filteredSections = getFilteredSections(activeSection)\n        const sectionTitles = filteredSections.map(section => section.title)\n        setExpandedSections(new Set(sectionTitles))\n      }\n    } else {\n      // Default expanded sections\n      setExpandedSections(new Set(['ê°œì¸ ì •ë³´', 'ì†Œì…œ ë§í¬']))\n    }\n  }, [activeSection])\n\n  return {\n    settings,\n    loading,\n    saving,\n    message,\n    expandedSections,\n    currentLang,\n    setCurrentLang,\n    handleChange,\n    handleSave,\n    toggleSection,\n    setExpandedSections\n  }\n}\n\n","import { useQuery, useQueryClient } from '@tanstack/react-query'\nimport { booksAPI, videoLearningsAPI, videoPlaylistsAPI, experiencesAPI, projectsAPI, messagesAPI, skillsAPI, categoriesAPI } from '../services/api'\nimport { MESSAGE_QUERY_KEY } from './useMessageManagerData'\n\ninterface DataCounts {\n  books: number\n  videoLearnings: number\n  videoPlaylists: number\n  experiences: number\n  projects: number\n  messages: number\n  skills: number\n  categories: number\n}\n\n// ğŸŒŸ React Queryë¥¼ ì‚¬ìš©í•œ ë°ì´í„° ì¹´ìš´íŠ¸ ì¡°íšŒ\nexport const useDataCounts = () => {\n  const queryClient = useQueryClient()\n  \n  const { data: counts, isLoading } = useQuery<DataCounts, Error>({\n    queryKey: ['dataCounts'], // ğŸ’¡ ë…ë¦½ì ì¸ ì¿¼ë¦¬ í‚¤\n    queryFn: async () => {\n      // ì‹¤ì œë¡œëŠ” ê° APIì—ì„œ ë°ì´í„° ê°œìˆ˜ë§Œ ë°˜í™˜í•˜ëŠ” ì „ìš© ì—”ë“œí¬ì¸íŠ¸ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì \n      // í˜„ì¬ëŠ” ê¸°ì¡´ APIë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ í›„ lengthë¥¼ ê³„ì‚°\n      const [booksResponse, videoLearningsResponse, videoPlaylistsResponse, experiencesResponse, projectsResponse, messagesResponse, skillsResponse, categoriesResponse] = await Promise.all([\n        booksAPI.getAll(),\n        videoLearningsAPI.getAll(),\n        videoPlaylistsAPI.getAll(),\n        experiencesAPI.getAll(),\n        projectsAPI.getAll(),\n        messagesAPI.getAll(), // ğŸ’¡ ë©”ì‹œì§€ë„ ì§ì ‘ ì¡°íšŒ\n        skillsAPI.getCategories(),\n        categoriesAPI.getAll()\n      ])\n      \n      return {\n        books: booksResponse.data?.data?.length || booksResponse.data?.length || 0,\n        videoLearnings: videoLearningsResponse.data?.data?.length || videoLearningsResponse.data?.length || 0,\n        videoPlaylists: videoPlaylistsResponse.data?.data?.length || videoPlaylistsResponse.data?.length || 0,\n        experiences: experiencesResponse.data?.data?.length || experiencesResponse.data?.length || 0,\n        projects: projectsResponse.data?.data?.length || projectsResponse.data?.length || 0,\n        messages: messagesResponse.data?.data?.length || messagesResponse.data?.length || 0, // ğŸ’¡ ë©”ì‹œì§€ API ì‘ë‹µì—ì„œ ê¸¸ì´ ê³„ì‚°\n        skills: skillsResponse.data?.data?.length || skillsResponse.data?.length || 0,\n        categories: categoriesResponse.data?.length || 0,\n      }\n    },\n    staleTime: 2 * 60 * 1000, // 2ë¶„ ë™ì•ˆ ìºì‹œ ìœ ì§€\n    gcTime: 5 * 60 * 1000, // 5ë¶„ í›„ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜\n    refetchOnWindowFocus: true, // ì°½ í¬ì»¤ìŠ¤ ì‹œ ìë™ ìƒˆë¡œê³ ì¹¨ (ë°ì´í„° ë™ê¸°í™”)\n  })\n\n  return { \n    counts: counts || {\n      books: 0,\n      videoLearnings: 0,\n      videoPlaylists: 0,\n      experiences: 0,\n      projects: 0,\n      messages: 0,\n      skills: 0,\n      categories: 0,\n    }, \n    isLoading,\n    refreshCounts: () => {} // ë” ì´ìƒ í•„ìš” ì—†ì§€ë§Œ í˜¸í™˜ì„± ìœ ì§€\n  }\n}\n\nexport default useDataCounts\n","import { useState } from 'react'\n\n// íƒ­ íƒ€ì… ì •ì˜\nexport type AdminTab = 'settings' | 'books' | 'videoLearnings' | 'videoPlaylists' | 'experiences' | 'projects' | 'messages' | 'skills' | 'categories'\n\n// í•„í„° íƒ€ì…ë“¤\nexport type BookFilter = 'all' | 'five-star' | 'category'\nexport type ExperienceFilter = 'all' | 'company' | 'year'\nexport type ProjectFilter = 'all' | 'category' | 'featured'\n\n// í•„í„° ê·¸ë£¹ ì¸í„°í˜ì´ìŠ¤ë“¤\nexport interface BookFilterGroup {\n  state: {\n    filter: BookFilter\n    searchTerm: string\n    selectedCategory: string\n  }\n  actions: {\n    setFilter: (filter: BookFilter) => void\n    setSearchTerm: (term: string) => void\n    setSelectedCategory: (category: string) => void\n  }\n  data: {\n    categories: string[]\n  }\n}\n\nexport interface ExperienceFilterGroup {\n  state: {\n    filter: ExperienceFilter\n    searchTerm: string\n    selectedCompany: string\n    selectedYear: string\n  }\n  actions: {\n    setFilter: (filter: ExperienceFilter) => void\n    setSearchTerm: (term: string) => void\n    setSelectedCompany: (company: string) => void\n    setSelectedYear: (year: string) => void\n  }\n  data: {\n    companies: string[]\n    years: string[]\n  }\n}\n\nexport interface ProjectFilterGroup {\n  state: {\n    filter: ProjectFilter\n    searchTerm: string\n    selectedCategory: string\n  }\n  actions: {\n    setFilter: (filter: ProjectFilter) => void\n    setSearchTerm: (term: string) => void\n    setSelectedCategory: (category: string) => void\n  }\n  data: {\n    categories: string[]\n  }\n}\n\nexport const useAdminSidebarState = () => {\n  // íƒ­ ë° ì„¤ì • ì„¹ì…˜ ìƒíƒœ\n  const [activeTab, setActiveTab] = useState<AdminTab>('settings')\n  const [activeSettingsSection, setActiveSettingsSection] = useState<string | null>(null)\n\n  // ì„œì  í•„í„° ìƒíƒœ\n  const [bookFilter, setBookFilter] = useState<BookFilter>('all')\n  const [bookSearchTerm, setBookSearchTerm] = useState('')\n  const [selectedBookCategory, setSelectedBookCategory] = useState('')\n\n  // ê²½ë ¥ í•„í„° ìƒíƒœ\n  const [experienceFilter, setExperienceFilter] = useState<ExperienceFilter>('all')\n  const [experienceSearchTerm, setExperienceSearchTerm] = useState('')\n  const [selectedExperienceCompany, setSelectedExperienceCompany] = useState('')\n  const [selectedExperienceYear, setSelectedExperienceYear] = useState('')\n\n  // í”„ë¡œì íŠ¸ í•„í„° ìƒíƒœ\n  const [projectFilter, setProjectFilter] = useState<ProjectFilter>('all')\n  const [projectSearchTerm, setProjectSearchTerm] = useState('')\n  const [selectedProjectCategory, setSelectedProjectCategory] = useState('')\n\n  // ë”ë¯¸ ë°ì´í„° (ì‹¤ì œë¡œëŠ” APIì—ì„œ ê°€ì ¸ì™€ì•¼ í•¨)\n  const bookCategories = ['í”„ë¡œê·¸ë˜ë°', 'ë°ì´í„°ë² ì´ìŠ¤', 'ì›¹ ê°œë°œ', 'AI/ML', 'ì‹œìŠ¤í…œ ì„¤ê³„']\n  const experienceCompanies = ['ABC Corp', 'XYZ Inc', 'Dev Solutions', 'Tech Startup']\n  const experienceYears = ['2024', '2023', '2022', '2021', '2020']\n  const projectCategories = ['ì›¹ ê°œë°œ', 'ëª¨ë°”ì¼ ì•±', 'ë°ì´í„° ë¶„ì„', 'ì„ë² ë””ë“œ', 'AI/ML']\n\n  return {\n    // íƒ­ ê´€ë ¨ ìƒíƒœì™€ ì•¡ì…˜\n    activeTab,\n    setActiveTab,\n    activeSettingsSection,\n    setActiveSettingsSection,\n\n    // ì„œì  í•„í„° ê´€ë ¨ ìƒíƒœì™€ ì•¡ì…˜ì„ í•˜ë‚˜ì˜ ê°ì²´ë¡œ ë¬¶ì–´ì„œ ë°˜í™˜\n    bookFilters: {\n      state: {\n        filter: bookFilter,\n        searchTerm: bookSearchTerm,\n        selectedCategory: selectedBookCategory,\n      },\n      actions: {\n        setFilter: setBookFilter,\n        setSearchTerm: setBookSearchTerm,\n        setSelectedCategory: setSelectedBookCategory,\n      },\n      data: {\n        categories: bookCategories,\n      },\n    } as BookFilterGroup,\n\n    // ê²½ë ¥ í•„í„° ê´€ë ¨ ìƒíƒœì™€ ì•¡ì…˜ì„ í•˜ë‚˜ì˜ ê°ì²´ë¡œ ë¬¶ì–´ì„œ ë°˜í™˜\n    experienceFilters: {\n      state: {\n        filter: experienceFilter,\n        searchTerm: experienceSearchTerm,\n        selectedCompany: selectedExperienceCompany,\n        selectedYear: selectedExperienceYear,\n      },\n      actions: {\n        setFilter: setExperienceFilter,\n        setSearchTerm: setExperienceSearchTerm,\n        setSelectedCompany: setSelectedExperienceCompany,\n        setSelectedYear: setSelectedExperienceYear,\n      },\n      data: {\n        companies: experienceCompanies,\n        years: experienceYears,\n      },\n    } as ExperienceFilterGroup,\n\n    // í”„ë¡œì íŠ¸ í•„í„° ê´€ë ¨ ìƒíƒœì™€ ì•¡ì…˜ì„ í•˜ë‚˜ì˜ ê°ì²´ë¡œ ë¬¶ì–´ì„œ ë°˜í™˜\n    projectFilters: {\n      state: {\n        filter: projectFilter,\n        searchTerm: projectSearchTerm,\n        selectedCategory: selectedProjectCategory,\n      },\n      actions: {\n        setFilter: setProjectFilter,\n        setSearchTerm: setProjectSearchTerm,\n        setSelectedCategory: setSelectedProjectCategory,\n      },\n      data: {\n        categories: projectCategories,\n      },\n    } as ProjectFilterGroup,\n  }\n}\n"],"names":["AuthContext","createContext","AuthProvider","children","user","setUser","useState","isLoading","setIsLoading","useEffect","async","response","authAPI","verify","data","error","login","useCallback","username","password","Error","_b","_a","message","logout","value","useMemo","isAuthenticated","jsx","Provider","useAuth","context","useContext","INITIAL_SETTINGS","fullName","firstName","role","subtitle","location","education","yearsOfExperience","email","phone","githubUrl","linkedinUrl","heroTitle","heroSubtitle","heroTag","heroCtaLink1","heroCtaLink2","aboutTitle","aboutSubtitle","aboutDescription1","aboutDescription2","skillsTitle","skillsSubtitle","projectsTitle","projectsSubtitle","projectsUpdateTitle","projectsUpdateDescription","projectsUpdateTechList","booksTitle","booksSubtitle","contactTitle","contactSubtitle","experienceTitle","experienceSubtitle","learningGoalsTitle","learningGoalsDescription","learningGoalsList","stat1Number","stat1Label","stat2Number","stat2Label","stat3Number","stat3Label","mainSkills","SiteSettingsContext","SiteSettingsProvider","settings","setSettings","loading","setLoading","setError","fetchSettings","settingsAPI","get","mergedSettings","err","refetchSettings","useSiteSettings","SECTION_IDS","DEFAULT_OPTIONS","offset","debounceDelay","useScrollSpy","options","activeSection","setActiveSection","timeoutRef","useRef","handleScroll","activationPoint","window","scrollY","newActiveSection","sectionId","element","document","getElementById","offsetTop","debouncedHandleScroll","func","delay","timeoutId","args","clearTimeout","setTimeout","debounce","addEventListener","passive","removeEventListener","current","scrollToSection","elementTop","scrollTo","top","behavior","useSidebarSkills","coreSkills","setCoreSkills","languageSkills","setLanguageSkills","isLoadingSkills","setIsLoadingSkills","siteSettings","fetchSkills","allSkills","skillsAPI","getAll","sidebarSkills","filter","skill","showInSidebar","sort","a","b","order","slice","sidebarSkillCount","length","level","langSkills","showInLanguageCard","languageCardSkillCount","BOOK_QUERY_KEY","useBooks","useQuery","queryKey","queryFn","booksAPI","staleTime","gcTime","useBook","bookId","getById","enabled","useDeleteBook","queryClient","useQueryClient","useMutation","mutationFn","id","delete","onSuccess","invalidateQueries","CATEGORIES_QUERY_KEY","useCategories","categoriesAPI","useCategoryUsage","getUsage","useCategoryManagerData","categories","createMutation","create","useCreateCategory","updateMutation","update","useUpdateCategory","deleteMutation","useDeleteCategory","createCategory","mutateAsync","success","updateCategory","deleteCategory","useLearningManager","editingLearningId","setEditingLearningId","editingChapterId","setEditingChapterId","currentFormData","setCurrentFormData","topic","content","showAddForm","setShowAddForm","apiError","setApiError","learningsAPI","createForBook","useCreateLearning","learningId","updateForBook","useUpdateLearning","deleteForBook","useDeleteLearning","updateSkillsMutation","skillIds","updateSkills","useUpdateLearningSkills","isSaving","isPending","resetFormState","handleCancelEdit","learningApiError","handleToggleAddForm","prev","handleAddLearning","handleDeleteLearning","chapterId","confirm","deleteForChapter","handleStartEdit","learning","_id","handleSaveEdit","updateForChapter","handleSkillLinkChange","skillId","isLinked","chaptersQueryKey","previousBook","getQueryData","previousChapters","newSkillIds","currentLearning","flatMap","c","learnings","find","l","currentSkillIds","Array","from","Set","setQueryData","oldChapters","map","chapter","oldBook","chapters","fetchSkillCategories","getCategories","useSkills","skillCategories","refetch","cacheTime","VIDEO_LEARNING_QUERY_KEY","useVideoLearnings","videoLearningsAPI","useVideoLearning","useUpdateVideoLearning","_","variables","useDeleteVideoLearning","useVideoLearningManagerData","videoLearnings","isError","useCreateVideoLearning","createVideoLearning","updateVideoLearning","deleteVideoLearning","useVideoPlaylists","videoPlaylistsAPI","useVideoPlaylist","usePlaylistVideos","playlistId","playlistVideosAPI","getByPlaylist","useDeleteVideoPlaylist","useCreatePlaylistVideo","useUpdatePlaylistVideo","useDeletePlaylistVideo","useVideoPlaylistManagerData","playlists","useCreateVideoPlaylist","useUpdateVideoPlaylist","createPlaylist","updatePlaylist","deletePlaylist","useToastHelpers","showToast","rest","toasts","setToasts","toast","Math","random","toString","substr","newToast","duration","hideToast","clearAllToasts","useToast","title","type","warning","info","fetchProjects","projectsAPI","useProjects","projects","useProjectDetail","currentLang","project","setProject","localizedProject","getLocalizedField","titleEn","titleJa","description","descriptionEn","descriptionJa","detailedDescription","detailedDescriptionEn","detailedDescriptionJa","technologies","getLocalizedArrayField","technologiesEn","technologiesJa","features","featuresEn","featuresJa","learningsEn","learningsJa","videoDescriptions","videoDescriptionsEn","videoDescriptionsJa","linkedSkills","category","skills","skillIdSet","has","name","getLocalizedSkillName","getLocalizedSkillDescription","levelText","fetchExperiences","createdAt","Date","getTime","transformExperiences","experiencesAPI","useExperiences","experiences","useAbortController","abortControllerRef","createAbortController","abort","AbortController","getAbortController","signal","useOptimisticArrayUpdate","initialData","isOptimistic","optimisticUpdate","updateData","resetData","setData","setIsOptimistic","previousDataRef","onError","onRollback","optimisticData","apiCall","result","newData","useOptimisticUpdate","optimisticAdd","newItem","now","item","startsWith","optimisticUpdateItem","updates","optimisticDelete","optimisticReorder","reorderedItems","useBookManagerData","showError","books","fetchBooks","abortController","aborted","includes","errorMessage","createBook","bookData","newBook","toISOString","updatedAt","then","res","updateBook","deleteBook","useCRUDManager","onSave","onDelete","showForm","setShowForm","editingItem","setEditingItem","setIsSaving","isDeleting","setIsDeleting","handleCreate","handleEdit","handleCancel","handleSave","handleDelete","useExperienceManagerData","setExperiences","createExperience","experienceData","updateExperience","deleteExperience","useProjectForm","setCurrentLang","initialCategoryIds","categoryIds","catIdOrObj","Boolean","initialSkillIds","skillIdOrObj","videoItems","setVideoItems","videos","isArray","url","index","_c","formData","setFormData","join","images","status","githubLink","liveLink","image","handleFieldChange","key","handleArrayFieldChange","handleVideoUrlChange","newVideoItems","handleVideoDescriptionChange","lang","handleAddVideo","handleRemoveVideo","i","prepareDataForSubmit","trim","split","s","useProjectManagerData","setProjects","projectsData","createProject","projectData","updateProject","deleteProject","MESSAGE_QUERY_KEY","useMessages","messagesAPI","useMessageManagerData","messages","markAsReadMutation","markAsRead","useMarkMessageAsRead","deleteMessageMutation","useDeleteMessage","bulkMarkAsReadMutation","ids","Promise","all","useBulkMarkAsRead","bulkDeleteMutation","useBulkDeleteMessages","fetchMessages","deleteMessage","bulkMarkAsRead","bulkDelete","useMessageDetail","messageId","retry","retryDelay","attemptIndex","min","refetchOnWindowFocus","select","SKILLS_QUERY_KEY","useSkillsManagerData","updateSkillMutation","onMutate","cancelQueries","previousCategories","oldCategories","useUpdateSkillMutation","createCategoryMutation","useCreateSkillCategoryMutation","updateCategoryMutation","useUpdateSkillCategoryMutation","deleteCategoryMutation","useDeleteSkillCategoryMutation","createSkillMutation","categoryId","useCreateSkillMutation","deleteSkillMutation","useDeleteSkillMutation","createSkillCategory","updateSkillCategory","deleteSkillCategory","createSkill","updateSkill","deleteSkill","useSettingsForm","initialSettings","saving","setSaving","setMessage","expandedSections","setExpandedSections","normalizedData","normalized","parseInt","String","normalizeSettings","text","sectionTitles","getFilteredSections","section","handleChange","field","prevSettings","toggleSection","sectionTitle","newSet","add","useDataCounts","counts","booksResponse","videoLearningsResponse","videoPlaylistsResponse","experiencesResponse","projectsResponse","messagesResponse","skillsResponse","categoriesResponse","_e","_d","_f","videoPlaylists","_h","_g","_i","_k","_j","_l","_n","_m","_o","_q","_p","_r","_t","_s","_u","_v","refreshCounts","useAdminSidebarState","activeTab","setActiveTab","activeSettingsSection","setActiveSettingsSection","bookFilter","setBookFilter","bookSearchTerm","setBookSearchTerm","selectedBookCategory","setSelectedBookCategory","experienceFilter","setExperienceFilter","experienceSearchTerm","setExperienceSearchTerm","selectedExperienceCompany","setSelectedExperienceCompany","selectedExperienceYear","setSelectedExperienceYear","projectFilter","setProjectFilter","projectSearchTerm","setProjectSearchTerm","selectedProjectCategory","setSelectedProjectCategory","bookFilters","state","searchTerm","selectedCategory","actions","setFilter","setSearchTerm","setSelectedCategory","experienceFilters","selectedCompany","selectedYear","setSelectedCompany","setSelectedYear","companies","years","projectFilters"],"mappings":"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"}