import{r as j,j as C,ai as F,k as e,q as i,l as h,a4 as L,V as I,a8 as N,aj as v,L as E,F as J,ak as B,al as $,n as z,o as _,am as A,an as R,ao as T,ac as V,h as D,B as K,C as M}from"./index-1fe3a1ef.js";import{u as P}from"./index-180e19ab.js";import{u as q}from"./useExperiences-3e96a237.js";import{u as G}from"./useSkills-77227ec9.js";const w={FaCoffee:J,FaGraduationCap:B,FaChartLine:$,FaBriefcase:F,FaCode:z,FaCog:_,FaRobot:A,FaCar:R,FaShieldAlt:T,FaLaptopCode:V},H=({exp:a,variants:p,isLast:d=!1})=>{const[c,g]=j.useState(!1),{skillCategories:m}=G(),{t:n,i18n:b}=C(),l=b.language,f=a.iconKey&&w[a.iconKey]?w[a.iconKey]:F,x=j.useMemo(()=>!a.skillIds||!m?[]:m.flatMap(r=>r.skills||[]).filter(r=>{const k=r._id;return k&&a.skillIds.some(o=>(typeof o=="string"?o:o==null?void 0:o._id)===k)}),[a.skillIds,m]),y=a.description?a.description.split(`
`).filter(s=>s.trim()!==""):[],t=a.color||"#8B4513",u=a.bgColor||"#F5DEB3";return e.jsxs("div",{className:"relative flex items-start gap-6",children:[!d&&e.jsx("div",{className:"absolute left-8 top-20 bottom-0 w-0.5 bg-gradient-to-b from-primary-300 to-primary-100 dark:from-primary-700 dark:to-primary-900"}),e.jsx("div",{className:"relative z-10 flex-shrink-0",children:e.jsx(i.div,{variants:p,className:"w-16 h-16 rounded-full flex items-center justify-center shadow-lg ring-4 ring-white dark:ring-gray-800",style:{backgroundColor:u},whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:300},children:e.jsx(f,{size:28,style:{color:t}})})}),e.jsx(i.div,{variants:p,className:"flex-1 mb-12",children:e.jsxs("div",{className:"card p-6 hover:shadow-xl transition-all duration-300",children:[e.jsx("button",{onClick:()=>g(!c),className:"w-full text-left",children:e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400 font-semibold mb-1",children:h(l,a.company,a.companyEn,a.companyJa)}),e.jsxs("h3",{className:"text-2xl font-bold text-dark-900 dark:text-white mb-2 flex items-center gap-2",children:[h(l,a.title,a.titleEn,a.titleJa),e.jsx("span",{className:"text-sm",children:c?e.jsx(L,{className:"text-primary-600 dark:text-primary-400"}):e.jsx(I,{className:"text-gray-400"})})]}),e.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 rounded-full text-sm font-medium",children:["ðŸ“… ",a.period]})]})})}),c&&e.jsx(i.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mb-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:a.details&&a.details.length>0?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.details.map((s,r)=>e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-850 rounded-lg p-5 border-2 border-gray-200 dark:border-gray-700 hover:border-primary-400 dark:hover:border-primary-600 transition-all hover:shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:t}}),e.jsx("h4",{className:"text-base font-bold text-dark-900 dark:text-white",children:h(l,s.category,s.categoryEn,s.categoryJa)})]}),e.jsx("ul",{className:"space-y-2.5",children:N(l,s.items,s.itemsEn,s.itemsJa).map((k,o)=>e.jsxs(i.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:r*.1+o*.03},className:"flex items-start gap-2 text-sm text-dark-700 dark:text-dark-300",children:[e.jsx(v,{style:{color:t},className:"mt-0.5 flex-shrink-0 text-xs"}),e.jsx("span",{className:"flex-1 leading-relaxed",children:k})]},o))})]},r))}):y.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("h4",{className:"text-sm font-semibold text-dark-900 dark:text-white mb-3 flex items-center gap-2",children:[e.jsx(v,{style:{color:t},size:14}),n("experience.keyPoints")]}),e.jsx("ul",{className:"space-y-2.5 pl-1",children:y.map((s,r)=>e.jsxs("li",{className:"flex items-start gap-3 text-dark-600 dark:text-dark-300",children:[e.jsx("span",{className:"flex-shrink-0 w-1.5 h-1.5 rounded-full mt-2",style:{backgroundColor:t}}),e.jsx("span",{className:"flex-1",children:s})]},r))})]})}),x.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:x.map(s=>e.jsx(E,{to:`/projects?skillId=${s._id}`,className:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium transition-all hover:opacity-80 hover:ring-2",style:{backgroundColor:`${s.color}26`,color:s.color,"--tw-ring-color":s.color||"#3B82F6"},title:`${s.name} ${n("experience.viewProjects")}`,children:s.name},s._id))}),!x.length&&a.skills&&a.skills.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:N(l,a.skills,a.skillsEn,a.skillsJa).map((s,r)=>e.jsx("span",{className:"px-3 py-1.5 bg-secondary-100 dark:bg-secondary-900/50 text-secondary-700 dark:text-secondary-300 rounded-lg text-sm font-medium hover:bg-secondary-200 dark:hover:bg-secondary-800/50 transition-colors",children:s},`${s}-${r}`))})]})})]})},X=()=>{const{settings:a,loading:p}=D(),{experiences:d,loading:c,error:g}=q(),{isAuthenticated:m}=K(),{t:n,i18n:b}=C(),l=b.language,[f,x]=P({triggerOnce:!0,threshold:.1}),y=p||c,t={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return g?e.jsx("section",{className:"section-padding bg-white dark:bg-dark-800 min-h-screen",children:e.jsx("div",{className:"max-w-7xl mx-auto text-center",children:e.jsxs("div",{className:"card p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mb-4",children:n("experience.loadingError")}),e.jsx("p",{className:"text-dark-600 dark:text-dark-300 mb-4",children:g}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:n("experience.retry")})]})})}):y?e.jsx("section",{className:"section-padding bg-white dark:bg-dark-800 min-h-screen",children:e.jsx("div",{className:"max-w-7xl mx-auto text-center",children:e.jsxs("div",{className:"card p-8",children:[e.jsx("div",{className:"inline-block w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-xl text-dark-600 dark:text-dark-300",children:n("experience.loadingData")})]})})}):e.jsx("section",{className:"section-padding bg-white dark:bg-dark-800 min-h-screen",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs(i.div,{ref:f,initial:"hidden",animate:x?"visible":"hidden",children:[e.jsxs(i.div,{variants:t,className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-dark-900 dark:text-white mb-6",children:h(l,a==null?void 0:a.experienceTitle,a==null?void 0:a.experienceTitleEn,a==null?void 0:a.experienceTitleJa)||"ê²½ë ¥ & í•™ìŠµ"}),e.jsx("p",{className:"text-xl text-dark-600 dark:text-dark-300 max-w-3xl mx-auto mb-8",children:h(l,a==null?void 0:a.experienceSubtitle,a==null?void 0:a.experienceSubtitleEn,a==null?void 0:a.experienceSubtitleJa)||"ë°”ë¦¬ìŠ¤íƒ€ì—ì„œ ìžë™í™” ì „ë¬¸ê°€ë¡œì˜ ì„±ìž¥ ì—¬ì •"})]}),m&&e.jsx(i.div,{variants:t,className:"mb-8 flex justify-end",children:e.jsxs(E,{to:"/admin",className:"inline-flex items-center gap-2 bg-accent-500 hover:bg-accent-600 text-white font-medium px-6 py-3 rounded-lg transition-colors duration-600 shadow-medium hover:shadow-glow",children:[e.jsx(M,{})," ",n("experience.add")]})}),e.jsx("div",{className:"relative max-w-4xl mx-auto",children:d.length===0?e.jsx(i.div,{variants:t,className:"card p-8 text-center",children:e.jsx("p",{className:"text-xl text-dark-600 dark:text-dark-300",children:n("experience.noRegisteredYet")})}):e.jsx("div",{children:d.map((u,s)=>e.jsx(H,{exp:u,variants:t,isLast:s===d.length-1},u._id))})})]})})})};export{X as default};
