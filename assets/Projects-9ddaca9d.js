import{j as C,a8 as $,k as a,q as s,L as P,z,l as h,a9 as U,aa as J,h as V,B as D,A as G,r as b,ab as H,C as M,D as Y,U as q,ac as B}from"./index-1fe3a1ef.js";import{u as R}from"./index-180e19ab.js";import{u as X}from"./useProjects-8c63981b.js";import{u as K}from"./useCategories-ec204ac9.js";import"./useMutation-31c06883.js";const f=5,Q=({project:e,itemVariants:p,getStatusColor:u,getStatusText:c})=>{const{i18n:o}=C(),x=o.language,t=$(x,e.technologies,e.technologiesEn,e.technologiesJa),k=e.githubLink||e.liveLink;return a.jsx(s.div,{variants:p,layout:!0,className:"card overflow-hidden bg-white dark:bg-dark-800 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 flex flex-col cursor-pointer group",children:a.jsxs(P,{to:`/projects/${e._id}`,state:{scrollPosition:window.scrollY},className:"block flex flex-col h-full",children:[a.jsxs("div",{className:"h-48 bg-cream-200 dark:bg-dark-700 flex items-center justify-center relative flex-shrink-0",children:[e.image?a.jsx("img",{src:e.image,alt:`${e.title} 썸네일`,className:"w-full h-full object-cover",loading:"lazy",decoding:"async",width:"640",height:"192"}):a.jsx(z,{className:"text-dark-400 dark:text-dark-500 text-5xl"}),a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${u(e.status)}`,children:c(e.status)})})]}),a.jsxs("div",{className:"p-8 flex flex-col flex-grow",children:[a.jsx("h3",{className:"text-xl font-bold text-dark-900 dark:text-cream-100 mb-3 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:h(x,e.title,e.titleEn,e.titleJa)}),a.jsx("p",{className:"text-dark-600 dark:text-dark-300 mb-6 leading-relaxed flex-grow",children:h(x,e.description,e.descriptionEn,e.descriptionJa)}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[t.slice(0,f).map(i=>a.jsx("span",{className:"px-3 py-1 bg-coffee-50 dark:bg-coffee-900 text-coffee-700 dark:text-coffee-300 rounded-lg text-sm font-medium",children:i},i)),t.length>f&&a.jsxs("span",{className:"px-3 py-1 bg-cream-200 dark:bg-dark-700 text-dark-500 dark:text-dark-400 rounded-lg text-sm font-medium",children:["외 ",t.length-f,"개"]})]}),a.jsx("div",{className:"flex flex-wrap gap-4 pt-4 border-t border-cream-200 dark:border-dark-700",onClick:i=>i.stopPropagation(),children:k?a.jsxs(a.Fragment,{children:[e.liveLink&&a.jsxs("a",{href:e.liveLink,target:"_blank",rel:"noopener noreferrer",className:`px-4 py-2 rounded-xl font-bold transition-all duration-200 flex items-center gap-2 
                    ${e.status==="completed"?"bg-coffee-600 text-white hover:bg-coffee-700 shadow-md":"bg-cream-200 dark:bg-dark-700 text-dark-700 dark:text-dark-300 hover:bg-cream-300 dark:hover:bg-dark-600"}`,"aria-label":`${e.title} 라이브 데모 보기`,children:[a.jsx(U,{size:16}),"라이브 보기"]}),e.githubLink&&a.jsxs("a",{href:e.githubLink,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-xl font-medium transition-all duration-200 flex items-center gap-2 bg-white dark:bg-dark-900 text-dark-600 dark:text-dark-300 hover:bg-cream-100 dark:hover:bg-dark-700 border border-cream-200 dark:border-dark-700","aria-label":`${e.title} GitHub 레포지토리`,children:[a.jsx(J,{size:20}),"GitHub"]})]}):null})]})]})},e._id)},te=()=>{const{settings:e}=V(),{isAuthenticated:p}=D(),{projects:u,loading:c,error:o}=X(),x=G(),{t,i18n:k}=C(),i=k.language,{data:T=[],isLoading:W}=K(),[n,y]=b.useState("all"),[E,w]=H(),l=E.get("skillId");b.useEffect(()=>{var d;const r=(d=x.state)==null?void 0:d.scrollPosition;r&&(window.scrollTo(0,r),window.history.replaceState({},document.title))},[]),b.useEffect(()=>{l&&y("all")},[l]);const[F,v]=R({triggerOnce:!0,threshold:.1}),j=u.filter(r=>{let d=n==="all";d||(!r.categoryIds||r.categoryIds.length===0?d=r.category===n:d=r.categoryIds.some(g=>(typeof g=="string"?g:g==null?void 0:g._id)===n));const I=!l||r.skillIds&&r.skillIds.includes(l);return d&&I}),N=r=>{y(r),w(d=>(d.delete("skillId"),d),{replace:!0})},L={visible:{transition:{staggerChildren:.1}}},m={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},_=r=>{switch(r){case"preparing":return"bg-caramel-100 text-caramel-800 dark:bg-caramel-900 dark:text-caramel-200";case"planning":return"bg-coffee-100 text-coffee-800 dark:bg-coffee-900 dark:text-coffee-200";case"completed":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-cream-100 text-dark-800 dark:bg-dark-700 dark:text-dark-200"}},A=r=>{switch(r){case"preparing":return t("projects.status.preparing");case"planning":return t("projects.status.planning");case"completed":return t("projects.status.completed");default:return t("projects.status.all")}};return a.jsx("section",{className:"section-padding bg-white dark:bg-dark-800 min-h-screen",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs(s.div,{ref:F,initial:"hidden",animate:v?"visible":"hidden",variants:L,children:[a.jsxs(s.div,{variants:m,className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-dark-900 dark:text-white mb-6",children:h(i,e==null?void 0:e.projectsTitle,e==null?void 0:e.projectsTitleEn,e==null?void 0:e.projectsTitleJa)||t("projects.title")}),a.jsx("p",{className:"text-xl text-dark-600 dark:text-dark-300 max-w-3xl mx-auto mb-8",children:l?t("projects.subtitle"):h(i,e==null?void 0:e.projectsSubtitle,e==null?void 0:e.projectsSubtitleEn,e==null?void 0:e.projectsSubtitleJa)||t("projects.subtitle")})]}),p&&a.jsx(s.div,{variants:m,className:"mb-8 flex justify-end",children:a.jsxs(P,{to:"/admin",className:"inline-flex items-center gap-2 bg-accent-500 hover:bg-accent-600 text-white font-medium px-6 py-3 rounded-lg transition-colors duration-600 shadow-medium hover:shadow-glow",children:[a.jsx(M,{})," ",t("common.create")]})}),a.jsxs(s.div,{variants:m,className:"flex justify-center flex-wrap gap-3 mb-12",children:[l&&a.jsx(s.button,{onClick:()=>w({},{replace:!0}),whileTap:{scale:.95},layout:!0,transition:{type:"spring",stiffness:700,damping:30},className:"px-6 py-2 rounded-xl font-medium bg-red-500 text-white shadow-lg shadow-red-500/50 transition-all duration-200 hover:bg-red-600",children:"❌ 스킬 필터 초기화"}),a.jsx(s.button,{onClick:()=>N("all"),whileTap:{scale:.95},layout:!0,transition:{type:"spring",stiffness:700,damping:30},className:`px-6 py-2 rounded-xl font-medium transition-all duration-200 ${!l&&n==="all"?"bg-primary-500 text-white shadow-lg shadow-primary-500/50":"bg-white dark:bg-dark-800 text-dark-700 dark:text-dark-300 hover:bg-secondary-100 dark:hover:bg-dark-700 border border-secondary-200 dark:border-dark-700"}`,children:t("projects.all")},"all"),T.map(r=>a.jsx(s.button,{onClick:()=>N(r._id),whileTap:{scale:.95},layout:!0,transition:{type:"spring",stiffness:700,damping:30},className:`px-6 py-2 rounded-xl font-medium transition-all duration-200 ${!l&&n===r._id?"bg-primary-500 text-white shadow-lg shadow-primary-500/50":"bg-white dark:bg-dark-800 text-dark-700 dark:text-dark-300 hover:bg-secondary-100 dark:hover:bg-dark-700 border border-secondary-200 dark:border-dark-700"}`,children:Y(i,r)},r._id))]}),a.jsx(s.div,{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",variants:L,initial:"hidden",animate:v?"visible":"hidden",layout:!0,children:a.jsxs(q,{children:[c&&a.jsxs(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"md:col-span-2 lg:col-span-3 text-center p-12 bg-white dark:bg-dark-800 rounded-2xl shadow-inner border border-secondary-200 dark:border-dark-700",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),a.jsx("p",{className:"text-xl font-semibold text-dark-800 dark:text-cream-100",children:"프로젝트를 불러오는 중..."})]},"loading"),o&&a.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"md:col-span-2 lg:col-span-3 text-center p-12 bg-red-50 dark:bg-red-900/20 rounded-2xl shadow-inner border border-red-200 dark:border-red-800",children:a.jsx("p",{className:"text-xl font-semibold text-red-800 dark:text-red-200",children:o})},"error"),!c&&!o&&j.length===0&&a.jsxs(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"md:col-span-2 lg:col-span-3 text-center p-12 bg-white dark:bg-dark-800 rounded-2xl shadow-inner border border-secondary-200 dark:border-dark-700",children:[a.jsx(B,{className:"text-primary-600 dark:text-primary-400 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-xl font-semibold text-dark-800 dark:text-cream-100",children:n==="all"?"등록된 프로젝트가 없습니다.":"선택하신 카테고리의 프로젝트가 아직 없습니다."}),a.jsx("p",{className:"text-dark-500 dark:text-dark-400 mt-2",children:n==="all"?"관리자 대시보드에서 첫 번째 프로젝트를 추가해보세요!":"다른 필터를 선택하거나, 곧 업데이트될 프로젝트를 기대해 주세요!"})]},"no-projects"),!c&&!o&&j.map(r=>a.jsx(Q,{project:r,itemVariants:m,getStatusColor:_,getStatusText:A},r._id))]})}),(e==null?void 0:e.projectsUpdateTitle)&&a.jsxs(s.div,{variants:m,className:"card p-10 mt-12 bg-primary-600 text-white rounded-2xl shadow-xl",children:[a.jsx("h3",{className:"text-2xl font-bold mb-4",children:e.projectsUpdateTitle}),a.jsx("p",{className:"text-secondary-100 mb-6 text-lg",children:e.projectsUpdateDescription||"현재 학습 중인 기술들을 활용한 실제 프로젝트들을 곧 업로드할 예정입니다."}),a.jsx("div",{className:"flex flex-wrap gap-3",children:(e.projectsUpdateTechList||["PLC 프로그래밍","데이터 분석","IoT 시스템","협동로봇"]).map(r=>a.jsx("span",{className:"px-4 py-2 bg-white/20 rounded-lg text-sm font-medium",children:r},r))})]})]})})})};export{te as default};
