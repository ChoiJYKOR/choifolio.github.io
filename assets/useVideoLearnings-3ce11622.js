import{Q as y,H as o,aR as i}from"./index-1fe3a1ef.js";import{u}from"./useMutation-31c06883.js";const a="videoLearnings",p=()=>y({queryKey:[a,"list"],queryFn:async()=>{var r;const e=await i.getAll();return((r=e.data)==null?void 0:r.data)||e.data||[]},staleTime:5*60*1e3}),A=e=>y({queryKey:[a,"detail",e],queryFn:async()=>{if(!e)throw new Error("ID is required");return(await i.getById(e)).data},enabled:!!e,staleTime:5*60*1e3}),q=()=>{const e=o();return u({mutationFn:async r=>(await i.create(r)).data,onSuccess:()=>{e.invalidateQueries({queryKey:[a,"list"]}),e.invalidateQueries({queryKey:["dataCounts"]})}})},m=()=>{const e=o();return u({mutationFn:async({id:r,data:t})=>(await i.update(r,t)).data,onSuccess:(r,t)=>{e.invalidateQueries({queryKey:[a,"list"]}),e.invalidateQueries({queryKey:[a,"detail",t.id]})}})},w=()=>{const e=o();return u({mutationFn:async r=>{await i.delete(r)},onSuccess:()=>{e.invalidateQueries({queryKey:[a,"list"]}),e.invalidateQueries({queryKey:["dataCounts"]})}})},E=()=>{const{data:e=[],isLoading:r,isError:t,error:c,refetch:l}=p(),g=q(),L=m(),V=w();return{videoLearnings:e,isLoading:r,error:t?c:null,createVideoLearning:async s=>{try{return await g.mutateAsync(s),{success:!0}}catch(n){return console.error("VideoLearning 생성 실패:",n),{success:!1,error:n}}},updateVideoLearning:async(s,n)=>{try{return await L.mutateAsync({id:s,data:n}),{success:!0}}catch(d){return console.error("VideoLearning 수정 실패:",d),{success:!1,error:d}}},deleteVideoLearning:async s=>{try{return await V.mutateAsync(s),{success:!0}}catch(n){return console.error("VideoLearning 삭제 실패:",n),{success:!1,error:n}}},refetch:l}};export{A as a,w as b,m as c,E as d,p as u};
